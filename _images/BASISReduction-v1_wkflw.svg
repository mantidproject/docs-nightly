<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.1.0 (20230122.1345)
 -->
<!-- Title: BASISReduction Pages: 1 -->
<svg width="1185pt" height="2841pt"
 viewBox="0.00 0.00 1184.94 2841.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2837)">
<title>BASISReduction</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2837 1180.94,-2837 1180.94,4 -4,4"/>
<text text-anchor="middle" x="588.47" y="-2817.8" font-family="Helvetica,sans-Serif" font-size="14.00">BASISReduction Flowchart</text>
<!-- loadMaskFile -->
<g id="node1" class="node">
<title>loadMaskFile</title>
<path fill="lightskyblue" stroke="black" d="M1050.45,-2650C1050.45,-2650 961.45,-2650 961.45,-2650 955.45,-2650 949.45,-2644 949.45,-2638 949.45,-2638 949.45,-2626 949.45,-2626 949.45,-2620 955.45,-2614 961.45,-2614 961.45,-2614 1050.45,-2614 1050.45,-2614 1056.45,-2614 1062.45,-2620 1062.45,-2626 1062.45,-2626 1062.45,-2638 1062.45,-2638 1062.45,-2644 1056.45,-2650 1050.45,-2650"/>
<text text-anchor="middle" x="1005.95" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">load mask file</text>
</g>
<!-- maskData -->
<g id="node43" class="node">
<title>maskData</title>
<polygon fill="grey" stroke="black" points="1034.62,-2563 965.15,-2563 947.28,-2527 1016.75,-2527 1034.62,-2563"/>
<text text-anchor="middle" x="990.95" y="-2541.3" font-family="Times,serif" font-size="14.00">mask</text>
</g>
<!-- loadMaskFile&#45;&gt;maskData -->
<g id="edge5" class="edge">
<title>loadMaskFile&#45;&gt;maskData</title>
<path fill="none" stroke="black" d="M1002.92,-2613.8C1000.94,-2602.58 998.31,-2587.67 996.02,-2574.69"/>
<polygon fill="black" stroke="black" points="999.48,-2574.2 994.3,-2564.96 992.59,-2575.41 999.48,-2574.2"/>
</g>
<!-- aggregateV -->
<g id="node2" class="node">
<title>aggregateV</title>
<path fill="lightskyblue" stroke="black" d="M641.45,-2563C641.45,-2563 468.45,-2563 468.45,-2563 462.45,-2563 456.45,-2557 456.45,-2551 456.45,-2551 456.45,-2539 456.45,-2539 456.45,-2533 462.45,-2527 468.45,-2527 468.45,-2527 641.45,-2527 641.45,-2527 647.45,-2527 653.45,-2533 653.45,-2539 653.45,-2539 653.45,-2551 653.45,-2551 653.45,-2557 647.45,-2563 641.45,-2563"/>
<text text-anchor="middle" x="554.95" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate Vanadium runs</text>
</g>
<!-- maskDetectors -->
<g id="node3" class="node">
<title>maskDetectors</title>
<path fill="lightskyblue" stroke="black" d="M875.95,-2490C875.95,-2490 775.95,-2490 775.95,-2490 769.95,-2490 763.95,-2484 763.95,-2478 763.95,-2478 763.95,-2466 763.95,-2466 763.95,-2460 769.95,-2454 775.95,-2454 775.95,-2454 875.95,-2454 875.95,-2454 881.95,-2454 887.95,-2460 887.95,-2466 887.95,-2466 887.95,-2478 887.95,-2478 887.95,-2484 881.95,-2490 875.95,-2490"/>
<text text-anchor="middle" x="825.95" y="-2468.3" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- aggregateV&#45;&gt;maskDetectors -->
<g id="edge10" class="edge">
<title>aggregateV&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M621.59,-2526.54C661.36,-2516.12 711.9,-2502.88 752.77,-2492.17"/>
<polygon fill="black" stroke="black" points="753.5,-2495.6 762.29,-2489.68 751.73,-2488.83 753.5,-2495.6"/>
</g>
<!-- moderatorTzeroLinear -->
<g id="node4" class="node">
<title>moderatorTzeroLinear</title>
<path fill="lightskyblue" stroke="black" d="M958.95,-2417C958.95,-2417 692.95,-2417 692.95,-2417 686.95,-2417 680.95,-2411 680.95,-2405 680.95,-2405 680.95,-2393 680.95,-2393 680.95,-2387 686.95,-2381 692.95,-2381 692.95,-2381 958.95,-2381 958.95,-2381 964.95,-2381 970.95,-2387 970.95,-2393 970.95,-2393 970.95,-2405 970.95,-2405 970.95,-2411 964.95,-2417 958.95,-2417"/>
<text text-anchor="middle" x="825.95" y="-2395.3" font-family="Helvetica,sans-Serif" font-size="14.00">remove emission delay from moderator</text>
</g>
<!-- maskDetectors&#45;&gt;moderatorTzeroLinear -->
<g id="edge12" class="edge">
<title>maskDetectors&#45;&gt;moderatorTzeroLinear</title>
<path fill="none" stroke="black" d="M825.95,-2453.81C825.95,-2446.23 825.95,-2437.1 825.95,-2428.54"/>
<polygon fill="black" stroke="black" points="829.45,-2428.54 825.95,-2418.54 822.45,-2428.54 829.45,-2428.54"/>
</g>
<!-- convertUnitsToWavelength -->
<g id="node5" class="node">
<title>convertUnitsToWavelength</title>
<path fill="lightskyblue" stroke="black" d="M919.45,-2344C919.45,-2344 732.45,-2344 732.45,-2344 726.45,-2344 720.45,-2338 720.45,-2332 720.45,-2332 720.45,-2320 720.45,-2320 720.45,-2314 726.45,-2308 732.45,-2308 732.45,-2308 919.45,-2308 919.45,-2308 925.45,-2308 931.45,-2314 931.45,-2320 931.45,-2320 931.45,-2332 931.45,-2332 931.45,-2338 925.45,-2344 919.45,-2344"/>
<text text-anchor="middle" x="825.95" y="-2322.3" font-family="Helvetica,sans-Serif" font-size="14.00">convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength -->
<g id="edge13" class="edge">
<title>moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength</title>
<path fill="none" stroke="black" d="M825.95,-2380.81C825.95,-2373.23 825.95,-2364.1 825.95,-2355.54"/>
<polygon fill="black" stroke="black" points="829.45,-2355.54 825.95,-2345.54 822.45,-2355.54 829.45,-2355.54"/>
</g>
<!-- checkMonNorm -->
<g id="node32" class="node">
<title>checkMonNorm</title>
<polygon fill="limegreen" stroke="black" points="825.95,-2271 643.97,-2253 825.95,-2235 1007.94,-2253 825.95,-2271"/>
<text text-anchor="middle" x="825.95" y="-2249.3" font-family="Helvetica,sans-Serif" font-size="14.00">do monitor normalization?</text>
</g>
<!-- convertUnitsToWavelength&#45;&gt;checkMonNorm -->
<g id="edge14" class="edge">
<title>convertUnitsToWavelength&#45;&gt;checkMonNorm</title>
<path fill="none" stroke="black" d="M825.95,-2307.81C825.95,-2300.23 825.95,-2291.1 825.95,-2282.54"/>
<polygon fill="black" stroke="black" points="829.45,-2282.54 825.95,-2272.54 822.45,-2282.54 829.45,-2282.54"/>
</g>
<!-- moderatorTzeroLinearM -->
<g id="node6" class="node">
<title>moderatorTzeroLinearM</title>
<path fill="lightskyblue" stroke="black" d="M887.45,-2184C887.45,-2184 560.45,-2184 560.45,-2184 554.45,-2184 548.45,-2178 548.45,-2172 548.45,-2172 548.45,-2160 548.45,-2160 548.45,-2154 554.45,-2148 560.45,-2148 560.45,-2148 887.45,-2148 887.45,-2148 893.45,-2148 899.45,-2154 899.45,-2160 899.45,-2160 899.45,-2172 899.45,-2172 899.45,-2178 893.45,-2184 887.45,-2184"/>
<text text-anchor="middle" x="723.95" y="-2162.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: remove emission delay from moderator</text>
</g>
<!-- convertUnitsToWavelengthM -->
<g id="node7" class="node">
<title>convertUnitsToWavelengthM</title>
<path fill="lightskyblue" stroke="black" d="M877.95,-2111C877.95,-2111 629.95,-2111 629.95,-2111 623.95,-2111 617.95,-2105 617.95,-2099 617.95,-2099 617.95,-2087 617.95,-2087 617.95,-2081 623.95,-2075 629.95,-2075 629.95,-2075 877.95,-2075 877.95,-2075 883.95,-2075 889.95,-2081 889.95,-2087 889.95,-2087 889.95,-2099 889.95,-2099 889.95,-2105 883.95,-2111 877.95,-2111"/>
<text text-anchor="middle" x="753.95" y="-2089.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM -->
<g id="edge17" class="edge">
<title>moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM</title>
<path fill="none" stroke="black" d="M731.21,-2147.81C734.57,-2139.88 738.63,-2130.26 742.39,-2121.36"/>
<polygon fill="black" stroke="black" points="745.5,-2123 746.17,-2112.42 739.05,-2120.27 745.5,-2123"/>
</g>
<!-- OneMinusExponentialCorM -->
<g id="node8" class="node">
<title>OneMinusExponentialCorM</title>
<path fill="lightskyblue" stroke="black" d="M882.45,-2024C882.45,-2024 675.45,-2024 675.45,-2024 669.45,-2024 663.45,-2018 663.45,-2012 663.45,-2012 663.45,-2000 663.45,-2000 663.45,-1994 669.45,-1988 675.45,-1988 675.45,-1988 882.45,-1988 882.45,-1988 888.45,-1988 894.45,-1994 894.45,-2000 894.45,-2000 894.45,-2012 894.45,-2012 894.45,-2018 888.45,-2024 882.45,-2024"/>
<text text-anchor="middle" x="778.95" y="-2002.3" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: exponential correction</text>
</g>
<!-- convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM -->
<g id="edge18" class="edge">
<title>convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM</title>
<path fill="none" stroke="black" d="M759.01,-2074.8C762.34,-2063.47 766.79,-2048.36 770.63,-2035.29"/>
<polygon fill="black" stroke="black" points="773.92,-2036.5 773.39,-2025.92 767.21,-2034.53 773.92,-2036.5"/>
</g>
<!-- divideByMonitor -->
<g id="node9" class="node">
<title>divideByMonitor</title>
<path fill="lightskyblue" stroke="black" d="M876.45,-1951C876.45,-1951 761.45,-1951 761.45,-1951 755.45,-1951 749.45,-1945 749.45,-1939 749.45,-1939 749.45,-1927 749.45,-1927 749.45,-1921 755.45,-1915 761.45,-1915 761.45,-1915 876.45,-1915 876.45,-1915 882.45,-1915 888.45,-1921 888.45,-1927 888.45,-1927 888.45,-1939 888.45,-1939 888.45,-1945 882.45,-1951 876.45,-1951"/>
<text text-anchor="middle" x="818.95" y="-1929.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by monitor</text>
</g>
<!-- OneMinusExponentialCorM&#45;&gt;divideByMonitor -->
<g id="edge19" class="edge">
<title>OneMinusExponentialCorM&#45;&gt;divideByMonitor</title>
<path fill="none" stroke="black" d="M788.64,-1987.81C793.21,-1979.7 798.76,-1969.84 803.87,-1960.78"/>
<polygon fill="black" stroke="black" points="806.76,-1962.78 808.62,-1952.35 800.66,-1959.34 806.76,-1962.78"/>
</g>
<!-- checkIsVanadium -->
<g id="node36" class="node">
<title>checkIsVanadium</title>
<polygon fill="limegreen" stroke="black" points="878.95,-1878 652.73,-1860 878.95,-1842 1105.18,-1860 878.95,-1878"/>
<text text-anchor="middle" x="878.95" y="-1856.3" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- divideByMonitor&#45;&gt;checkIsVanadium -->
<g id="edge20" class="edge">
<title>divideByMonitor&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M833.48,-1914.81C840.84,-1906.1 849.91,-1895.37 858,-1885.79"/>
<polygon fill="black" stroke="black" points="860.63,-1888.11 864.41,-1878.21 855.28,-1883.59 860.63,-1888.11"/>
</g>
<!-- integrateWavelengthV -->
<g id="node10" class="node">
<title>integrateWavelengthV</title>
<path fill="lightskyblue" stroke="black" d="M594.45,-1704C594.45,-1704 379.45,-1704 379.45,-1704 373.45,-1704 367.45,-1698 367.45,-1692 367.45,-1692 367.45,-1680 367.45,-1680 367.45,-1674 373.45,-1668 379.45,-1668 379.45,-1668 594.45,-1668 594.45,-1668 600.45,-1668 606.45,-1674 606.45,-1680 606.45,-1680 606.45,-1692 606.45,-1692 606.45,-1698 600.45,-1704 594.45,-1704"/>
<text text-anchor="middle" x="486.95" y="-1682.3" font-family="Helvetica,sans-Serif" font-size="14.00">integrate along wavelength axis</text>
</g>
<!-- vanadiumStructureFactorL -->
<g id="node45" class="node">
<title>vanadiumStructureFactorL</title>
<polygon fill="grey" stroke="black" points="563.42,-1617 441.78,-1617 410.48,-1581 532.13,-1581 563.42,-1617"/>
<text text-anchor="middle" x="486.95" y="-1595.3" font-family="Times,serif" font-size="14.00">Sv(lambda)</text>
</g>
<!-- integrateWavelengthV&#45;&gt;vanadiumStructureFactorL -->
<g id="edge26" class="edge">
<title>integrateWavelengthV&#45;&gt;vanadiumStructureFactorL</title>
<path fill="none" stroke="black" d="M486.95,-1667.8C486.95,-1656.58 486.95,-1641.67 486.95,-1628.69"/>
<polygon fill="black" stroke="black" points="490.45,-1628.98 486.95,-1618.98 483.45,-1628.98 490.45,-1628.98"/>
</g>
<!-- findDetectorsOutsideLimitsV -->
<g id="node11" class="node">
<title>findDetectorsOutsideLimitsV</title>
<path fill="lightskyblue" stroke="black" d="M827.95,-1544C827.95,-1544 557.95,-1544 557.95,-1544 551.95,-1544 545.95,-1538 545.95,-1532 545.95,-1532 545.95,-1520 545.95,-1520 545.95,-1514 551.95,-1508 557.95,-1508 557.95,-1508 827.95,-1508 827.95,-1508 833.95,-1508 839.95,-1514 839.95,-1520 839.95,-1520 839.95,-1532 839.95,-1532 839.95,-1538 833.95,-1544 827.95,-1544"/>
<text text-anchor="middle" x="692.95" y="-1522.3" font-family="Helvetica,sans-Serif" font-size="14.00">find detectors with low Vanadium signal</text>
</g>
<!-- checkByQSlice -->
<g id="node33" class="node">
<title>checkByQSlice</title>
<polygon fill="limegreen" stroke="black" points="791.95,-1417 616.33,-1399 791.95,-1381 967.57,-1399 791.95,-1417"/>
<text text-anchor="middle" x="791.95" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalization by Q slice?</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice -->
<g id="edge29" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice</title>
<path fill="none" stroke="black" d="M740.76,-1507.65C757.44,-1499.18 774.57,-1487.22 784.95,-1471 792.9,-1458.57 794.97,-1442.34 794.91,-1428.53"/>
<polygon fill="black" stroke="black" points="798.41,-1428.53 794.47,-1418.69 791.42,-1428.84 798.41,-1428.53"/>
</g>
<!-- basisNormMask -->
<g id="node44" class="node">
<title>basisNormMask</title>
<polygon fill="grey" stroke="black" points="775.72,-1471 578.84,-1471 528.19,-1435 725.07,-1435 775.72,-1471"/>
<text text-anchor="middle" x="651.95" y="-1449.3" font-family="Times,serif" font-size="14.00">low Vanadium mask</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;basisNormMask -->
<g id="edge28" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;basisNormMask</title>
<path fill="none" stroke="black" d="M683.03,-1507.81C678.34,-1499.7 672.65,-1489.84 667.42,-1480.78"/>
<polygon fill="black" stroke="black" points="670.57,-1479.25 662.54,-1472.34 664.51,-1482.75 670.57,-1479.25"/>
</g>
<!-- convertUnitsToEnergyV -->
<g id="node12" class="node">
<title>convertUnitsToEnergyV</title>
<path fill="lightskyblue" stroke="black" d="M876.95,-1116C876.95,-1116 700.95,-1116 700.95,-1116 694.95,-1116 688.95,-1110 688.95,-1104 688.95,-1104 688.95,-1092 688.95,-1092 688.95,-1086 694.95,-1080 700.95,-1080 700.95,-1080 876.95,-1080 876.95,-1080 882.95,-1080 888.95,-1086 888.95,-1092 888.95,-1092 888.95,-1104 888.95,-1104 888.95,-1110 882.95,-1116 876.95,-1116"/>
<text text-anchor="middle" x="788.95" y="-1094.3" font-family="Helvetica,sans-Serif" font-size="14.00">convert to energy transfer</text>
</g>
<!-- correctKiKfV -->
<g id="node13" class="node">
<title>correctKiKfV</title>
<path fill="lightskyblue" stroke="black" d="M837.95,-1043C837.95,-1043 739.95,-1043 739.95,-1043 733.95,-1043 727.95,-1037 727.95,-1031 727.95,-1031 727.95,-1019 727.95,-1019 727.95,-1013 733.95,-1007 739.95,-1007 739.95,-1007 837.95,-1007 837.95,-1007 843.95,-1007 849.95,-1013 849.95,-1019 849.95,-1019 849.95,-1031 849.95,-1031 849.95,-1037 843.95,-1043 837.95,-1043"/>
<text text-anchor="middle" x="788.95" y="-1021.3" font-family="Helvetica,sans-Serif" font-size="14.00">scale by k_i/k_f</text>
</g>
<!-- convertUnitsToEnergyV&#45;&gt;correctKiKfV -->
<g id="edge39" class="edge">
<title>convertUnitsToEnergyV&#45;&gt;correctKiKfV</title>
<path fill="none" stroke="black" d="M788.95,-1079.81C788.95,-1072.23 788.95,-1063.1 788.95,-1054.54"/>
<polygon fill="black" stroke="black" points="792.45,-1054.54 788.95,-1044.54 785.45,-1054.54 792.45,-1054.54"/>
</g>
<!-- RebinEnergy -->
<g id="node14" class="node">
<title>RebinEnergy</title>
<path fill="lightskyblue" stroke="black" d="M913.95,-970C913.95,-970 663.95,-970 663.95,-970 657.95,-970 651.95,-964 651.95,-958 651.95,-958 651.95,-946 651.95,-946 651.95,-940 657.95,-934 663.95,-934 663.95,-934 913.95,-934 913.95,-934 919.95,-934 925.95,-940 925.95,-946 925.95,-946 925.95,-958 925.95,-958 925.95,-964 919.95,-970 913.95,-970"/>
<text text-anchor="middle" x="788.95" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00">rebin to specified energy parameters</text>
</g>
<!-- correctKiKfV&#45;&gt;RebinEnergy -->
<g id="edge40" class="edge">
<title>correctKiKfV&#45;&gt;RebinEnergy</title>
<path fill="none" stroke="black" d="M788.95,-1006.81C788.95,-999.23 788.95,-990.1 788.95,-981.54"/>
<polygon fill="black" stroke="black" points="792.45,-981.54 788.95,-971.54 785.45,-981.54 792.45,-981.54"/>
</g>
<!-- checkgroupDetectors -->
<g id="node35" class="node">
<title>checkgroupDetectors</title>
<polygon fill="limegreen" stroke="black" points="447.95,-897 282.56,-879 447.95,-861 613.35,-879 447.95,-897"/>
<text text-anchor="middle" x="447.95" y="-875.3" font-family="Helvetica,sans-Serif" font-size="14.00">do we group detectors?</text>
</g>
<!-- RebinEnergy&#45;&gt;checkgroupDetectors -->
<g id="edge41" class="edge">
<title>RebinEnergy&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M705.1,-933.54C646.28,-921.29 568.72,-905.14 514.21,-893.8"/>
<polygon fill="black" stroke="black" points="514.93,-890.37 504.43,-891.76 513.51,-897.22 514.93,-890.37"/>
</g>
<!-- groupingDetectorsV -->
<g id="node15" class="node">
<title>groupingDetectorsV</title>
<path fill="lightskyblue" stroke="black" d="M428.95,-810C428.95,-810 298.95,-810 298.95,-810 292.95,-810 286.95,-804 286.95,-798 286.95,-798 286.95,-786 286.95,-786 286.95,-780 292.95,-774 298.95,-774 298.95,-774 428.95,-774 428.95,-774 434.95,-774 440.95,-780 440.95,-786 440.95,-786 440.95,-798 440.95,-798 440.95,-804 434.95,-810 428.95,-810"/>
<text text-anchor="middle" x="363.95" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00">group the detectors</text>
</g>
<!-- SofQW3V -->
<g id="node16" class="node">
<title>SofQW3V</title>
<path fill="lightskyblue" stroke="black" d="M573.45,-737C573.45,-737 266.45,-737 266.45,-737 260.45,-737 254.45,-731 254.45,-725 254.45,-725 254.45,-713 254.45,-713 254.45,-707 260.45,-701 266.45,-701 266.45,-701 573.45,-701 573.45,-701 579.45,-701 585.45,-707 585.45,-713 585.45,-713 585.45,-725 585.45,-725 585.45,-731 579.45,-737 573.45,-737"/>
<text text-anchor="middle" x="419.95" y="-715.3" font-family="Helvetica,sans-Serif" font-size="14.00">transform to momentum and energy transfer</text>
</g>
<!-- groupingDetectorsV&#45;&gt;SofQW3V -->
<g id="edge44" class="edge">
<title>groupingDetectorsV&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M377.51,-773.81C384.11,-765.44 392.19,-755.2 399.52,-745.9"/>
<polygon fill="black" stroke="black" points="402.14,-748.24 405.58,-738.22 396.64,-743.9 402.14,-748.24"/>
</g>
<!-- checkIsVanadium2 -->
<g id="node38" class="node">
<title>checkIsVanadium2</title>
<polygon fill="limegreen" stroke="black" points="419.95,-664 193.73,-646 419.95,-628 646.18,-646 419.95,-664"/>
<text text-anchor="middle" x="419.95" y="-642.3" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- SofQW3V&#45;&gt;checkIsVanadium2 -->
<g id="edge46" class="edge">
<title>SofQW3V&#45;&gt;checkIsVanadium2</title>
<path fill="none" stroke="black" d="M419.95,-700.81C419.95,-693.23 419.95,-684.1 419.95,-675.54"/>
<polygon fill="black" stroke="black" points="423.45,-675.54 419.95,-665.54 416.45,-675.54 423.45,-675.54"/>
</g>
<!-- aggregateS -->
<g id="node17" class="node">
<title>aggregateS</title>
<path fill="lightskyblue" stroke="black" d="M902.95,-2563C902.95,-2563 748.95,-2563 748.95,-2563 742.95,-2563 736.95,-2557 736.95,-2551 736.95,-2551 736.95,-2539 736.95,-2539 736.95,-2533 742.95,-2527 748.95,-2527 748.95,-2527 902.95,-2527 902.95,-2527 908.95,-2527 914.95,-2533 914.95,-2539 914.95,-2539 914.95,-2551 914.95,-2551 914.95,-2557 908.95,-2563 902.95,-2563"/>
<text text-anchor="middle" x="825.95" y="-2541.3" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate sample runs</text>
</g>
<!-- aggregateS&#45;&gt;maskDetectors -->
<g id="edge9" class="edge">
<title>aggregateS&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M825.95,-2526.81C825.95,-2519.23 825.95,-2510.1 825.95,-2501.54"/>
<polygon fill="black" stroke="black" points="829.45,-2501.54 825.95,-2491.54 822.45,-2501.54 829.45,-2501.54"/>
</g>
<!-- maskDetectors2 -->
<g id="node18" class="node">
<title>maskDetectors2</title>
<path fill="lightskyblue" stroke="black" d="M866.95,-1363C866.95,-1363 766.95,-1363 766.95,-1363 760.95,-1363 754.95,-1357 754.95,-1351 754.95,-1351 754.95,-1339 754.95,-1339 754.95,-1333 760.95,-1327 766.95,-1327 766.95,-1327 866.95,-1327 866.95,-1327 872.95,-1327 878.95,-1333 878.95,-1339 878.95,-1339 878.95,-1351 878.95,-1351 878.95,-1357 872.95,-1363 866.95,-1363"/>
<text text-anchor="middle" x="816.95" y="-1341.3" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- checkNormalizeByDetectorID -->
<g id="node39" class="node">
<title>checkNormalizeByDetectorID</title>
<polygon fill="limegreen" stroke="black" points="816.95,-1290 641.33,-1272 816.95,-1254 992.57,-1272 816.95,-1290"/>
<text text-anchor="middle" x="816.95" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- maskDetectors2&#45;&gt;checkNormalizeByDetectorID -->
<g id="edge32" class="edge">
<title>maskDetectors2&#45;&gt;checkNormalizeByDetectorID</title>
<path fill="none" stroke="black" d="M816.95,-1326.81C816.95,-1319.23 816.95,-1310.1 816.95,-1301.54"/>
<polygon fill="black" stroke="black" points="820.45,-1301.54 816.95,-1291.54 813.45,-1301.54 820.45,-1301.54"/>
</g>
<!-- DivideByVanadiumDetectorID -->
<g id="node19" class="node">
<title>DivideByVanadiumDetectorID</title>
<path fill="lightskyblue" stroke="black" d="M769.95,-1203C769.95,-1203 639.95,-1203 639.95,-1203 633.95,-1203 627.95,-1197 627.95,-1191 627.95,-1191 627.95,-1179 627.95,-1179 627.95,-1173 633.95,-1167 639.95,-1167 639.95,-1167 769.95,-1167 769.95,-1167 775.95,-1167 781.95,-1173 781.95,-1179 781.95,-1179 781.95,-1191 781.95,-1191 781.95,-1197 775.95,-1203 769.95,-1203"/>
<text text-anchor="middle" x="704.95" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge37" class="edge">
<title>DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M721.95,-1166.8C733.94,-1154.67 750.2,-1138.21 763.7,-1124.55"/>
<polygon fill="black" stroke="black" points="766.09,-1127.12 770.63,-1117.54 761.11,-1122.2 766.09,-1127.12"/>
<text text-anchor="middle" x="764.45" y="-1137.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- DivideByVanadiumQslice -->
<g id="node20" class="node">
<title>DivideByVanadiumQslice</title>
<path fill="lightskyblue" stroke="black" d="M490.95,-342C490.95,-342 360.95,-342 360.95,-342 354.95,-342 348.95,-336 348.95,-330 348.95,-330 348.95,-318 348.95,-318 348.95,-312 354.95,-306 360.95,-306 360.95,-306 490.95,-306 490.95,-306 496.95,-306 502.95,-312 502.95,-318 502.95,-318 502.95,-330 502.95,-330 502.95,-336 496.95,-342 490.95,-342"/>
<text text-anchor="middle" x="425.95" y="-320.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- sampleStructureFactor -->
<g id="node48" class="node">
<title>sampleStructureFactor</title>
<polygon fill="grey" stroke="black" points="535.31,-269 444.07,-269 420.6,-233 511.84,-233 535.31,-269"/>
<text text-anchor="middle" x="477.95" y="-247.3" font-family="Times,serif" font-size="14.00">Ss(Q,E)</text>
</g>
<!-- DivideByVanadiumQslice&#45;&gt;sampleStructureFactor -->
<g id="edge53" class="edge">
<title>DivideByVanadiumQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M438.54,-305.81C444.61,-297.53 452.02,-287.41 458.77,-278.19"/>
<polygon fill="black" stroke="black" points="461.5,-280.39 464.59,-270.25 455.85,-276.25 461.5,-280.39"/>
</g>
<!-- saveToDaveGroup -->
<g id="node21" class="node">
<title>saveToDaveGroup</title>
<path fill="lightskyblue" stroke="black" d="M466.45,-196C466.45,-196 313.45,-196 313.45,-196 307.45,-196 301.45,-190 301.45,-184 301.45,-184 301.45,-172 301.45,-172 301.45,-166 307.45,-160 313.45,-160 313.45,-160 466.45,-160 466.45,-160 472.45,-160 478.45,-166 478.45,-172 478.45,-172 478.45,-184 478.45,-184 478.45,-190 472.45,-196 466.45,-196"/>
<text text-anchor="middle" x="389.95" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">save to Dave group file</text>
</g>
<!-- checkDivideByVanadium3 -->
<g id="node41" class="node">
<title>checkDivideByVanadium3</title>
<polygon fill="limegreen" stroke="black" points="287.95,-123 139.98,-105 287.95,-87 435.92,-105 287.95,-123"/>
<text text-anchor="middle" x="287.95" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToDaveGroup&#45;&gt;checkDivideByVanadium3 -->
<g id="edge56" class="edge">
<title>saveToDaveGroup&#45;&gt;checkDivideByVanadium3</title>
<path fill="none" stroke="black" d="M365,-159.63C350.97,-149.87 333.34,-137.6 318.49,-127.26"/>
<polygon fill="black" stroke="black" points="320.65,-124.5 310.44,-121.65 316.65,-130.24 320.65,-124.5"/>
</g>
<!-- saveToNexus -->
<g id="node22" class="node">
<title>saveToNexus</title>
<path fill="lightskyblue" stroke="black" d="M641.95,-196C641.95,-196 525.95,-196 525.95,-196 519.95,-196 513.95,-190 513.95,-184 513.95,-184 513.95,-172 513.95,-172 513.95,-166 519.95,-160 525.95,-160 525.95,-160 641.95,-160 641.95,-160 647.95,-160 653.95,-166 653.95,-172 653.95,-172 653.95,-184 653.95,-184 653.95,-190 647.95,-196 641.95,-196"/>
<text text-anchor="middle" x="583.95" y="-174.3" font-family="Helvetica,sans-Serif" font-size="14.00">save to Nexus file</text>
</g>
<!-- checkDivideByVanadium4 -->
<g id="node42" class="node">
<title>checkDivideByVanadium4</title>
<polygon fill="limegreen" stroke="black" points="601.95,-123 453.98,-105 601.95,-87 749.92,-105 601.95,-123"/>
<text text-anchor="middle" x="601.95" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToNexus&#45;&gt;checkDivideByVanadium4 -->
<g id="edge60" class="edge">
<title>saveToNexus&#45;&gt;checkDivideByVanadium4</title>
<path fill="none" stroke="black" d="M588.31,-159.81C590.31,-151.94 592.72,-142.41 594.96,-133.57"/>
<polygon fill="black" stroke="black" points="598.32,-134.56 597.39,-124.01 591.54,-132.84 598.32,-134.56"/>
</g>
<!-- integrateVanadiumAroundElasticLine -->
<g id="node23" class="node">
<title>integrateVanadiumAroundElasticLine</title>
<path fill="lightskyblue" stroke="black" d="M490.95,-490C490.95,-490 344.95,-490 344.95,-490 338.95,-490 332.95,-484 332.95,-478 332.95,-478 332.95,-464 332.95,-464 332.95,-458 338.95,-452 344.95,-452 344.95,-452 490.95,-452 490.95,-452 496.95,-452 502.95,-458 502.95,-464 502.95,-464 502.95,-478 502.95,-478 502.95,-484 496.95,-490 490.95,-490"/>
<text text-anchor="middle" x="417.95" y="-474.8" font-family="Helvetica,sans-Serif" font-size="14.00">integrate Vanadium</text>
<text text-anchor="middle" x="417.95" y="-459.8" font-family="Helvetica,sans-Serif" font-size="14.00">around the elastic line</text>
</g>
<!-- vanadiumStructureFactorQ -->
<g id="node47" class="node">
<title>vanadiumStructureFactorQ</title>
<polygon fill="grey" stroke="black" points="470.75,-415 394.72,-415 375.16,-379 451.19,-379 470.75,-415"/>
<text text-anchor="middle" x="422.95" y="-393.3" font-family="Times,serif" font-size="14.00">Sv(Q)</text>
</g>
<!-- integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ -->
<g id="edge51" class="edge">
<title>integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ</title>
<path fill="none" stroke="black" d="M419.21,-451.83C419.74,-444.24 420.37,-435.24 420.95,-426.79"/>
<polygon fill="black" stroke="black" points="424.44,-427.15 421.64,-416.93 417.45,-426.66 424.44,-427.15"/>
</g>
<!-- maskFile -->
<g id="node24" class="node">
<title>maskFile</title>
<ellipse fill="khaki" stroke="black" cx="901.95" cy="-2705" rx="48.99" ry="18"/>
<text text-anchor="middle" x="901.95" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00">MaskFile</text>
</g>
<!-- maskFile&#45;&gt;loadMaskFile -->
<g id="edge3" class="edge">
<title>maskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M924.52,-2688.59C938.17,-2679.27 955.87,-2667.19 971.27,-2656.68"/>
<polygon fill="black" stroke="black" points="972.97,-2659.75 979.26,-2651.22 969.02,-2653.97 972.97,-2659.75"/>
</g>
<!-- defaultMaskFile -->
<g id="node25" class="node">
<title>defaultMaskFile</title>
<ellipse fill="khaki" stroke="black" cx="1072.95" cy="-2705" rx="103.98" ry="18"/>
<text text-anchor="middle" x="1072.95" y="-2701.3" font-family="Helvetica,sans-Serif" font-size="14.00">DEFAULT_MASK_FILE</text>
</g>
<!-- defaultMaskFile&#45;&gt;loadMaskFile -->
<g id="edge4" class="edge">
<title>defaultMaskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M1056.73,-2686.81C1048.67,-2678.27 1038.76,-2667.77 1029.85,-2658.32"/>
<polygon fill="black" stroke="black" points="1032.47,-2656 1023.06,-2651.13 1027.38,-2660.8 1032.47,-2656"/>
</g>
<!-- NormRunNumbers -->
<g id="node26" class="node">
<title>NormRunNumbers</title>
<ellipse fill="khaki" stroke="black" cx="270.95" cy="-2632" rx="117.78" ry="18"/>
<text text-anchor="middle" x="270.95" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium run numbers</text>
</g>
<!-- NormRunNumbers&#45;&gt;aggregateV -->
<g id="edge7" class="edge">
<title>NormRunNumbers&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M323.04,-2615.41C368.84,-2601.7 435.84,-2581.65 486.06,-2566.62"/>
<polygon fill="black" stroke="black" points="486.81,-2570.05 495.38,-2563.83 484.8,-2563.34 486.81,-2570.05"/>
</g>
<!-- NormWavelengthRange -->
<g id="node27" class="node">
<title>NormWavelengthRange</title>
<ellipse fill="khaki" stroke="black" cx="388.95" cy="-1773" rx="144.07" ry="18"/>
<text text-anchor="middle" x="388.95" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00">wavelength integration range</text>
</g>
<!-- NormWavelengthRange&#45;&gt;integrateWavelengthV -->
<g id="edge25" class="edge">
<title>NormWavelengthRange&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M408.78,-1754.8C423.04,-1742.44 442.46,-1725.59 458.38,-1711.78"/>
<polygon fill="black" stroke="black" points="460.41,-1714.66 465.67,-1705.46 455.82,-1709.37 460.41,-1714.66"/>
</g>
<!-- groupDetectors -->
<g id="node28" class="node">
<title>groupDetectors</title>
<ellipse fill="khaki" stroke="black" cx="435.95" cy="-952" rx="198.47" ry="18"/>
<text text-anchor="middle" x="435.95" y="-948.3" font-family="Helvetica,sans-Serif" font-size="14.00">group detectors by tube or low&#45;resolution</text>
</g>
<!-- groupDetectors&#45;&gt;checkgroupDetectors -->
<g id="edge42" class="edge">
<title>groupDetectors&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M438.86,-933.81C440.15,-926.14 441.72,-916.89 443.18,-908.24"/>
<polygon fill="black" stroke="black" points="446.61,-908.96 444.82,-898.52 439.7,-907.8 446.61,-908.96"/>
</g>
<!-- runNumbers -->
<g id="node29" class="node">
<title>runNumbers</title>
<ellipse fill="khaki" stroke="black" cx="825.95" cy="-2632" rx="105.08" ry="18"/>
<text text-anchor="middle" x="825.95" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">sample run numbers</text>
</g>
<!-- runNumbers&#45;&gt;aggregateS -->
<g id="edge8" class="edge">
<title>runNumbers&#45;&gt;aggregateS</title>
<path fill="none" stroke="black" d="M825.95,-2613.8C825.95,-2602.58 825.95,-2587.67 825.95,-2574.69"/>
<polygon fill="black" stroke="black" points="829.45,-2574.98 825.95,-2564.98 822.45,-2574.98 829.45,-2574.98"/>
</g>
<!-- checkMaskFile -->
<g id="node30" class="node">
<title>checkMaskFile</title>
<polygon fill="limegreen" stroke="black" points="986.95,-2810 855.57,-2792 986.95,-2774 1118.33,-2792 986.95,-2810"/>
<text text-anchor="middle" x="986.95" y="-2788.3" font-family="Helvetica,sans-Serif" font-size="14.00">custom mask file?</text>
</g>
<!-- checkMaskFile&#45;&gt;maskFile -->
<g id="edge1" class="edge">
<title>checkMaskFile&#45;&gt;maskFile</title>
<path fill="none" stroke="black" d="M971.76,-2775.8C959.02,-2763.07 940.62,-2744.67 925.91,-2729.96"/>
<polygon fill="black" stroke="black" points="928.79,-2727.89 919.25,-2723.29 923.84,-2732.84 928.79,-2727.89"/>
<text text-anchor="middle" x="961.45" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMaskFile&#45;&gt;defaultMaskFile -->
<g id="edge2" class="edge">
<title>checkMaskFile&#45;&gt;defaultMaskFile</title>
<path fill="none" stroke="black" d="M1002.33,-2775.8C1014.96,-2763.31 1033.12,-2745.37 1047.86,-2730.8"/>
<polygon fill="black" stroke="black" points="1049.91,-2733.69 1054.57,-2724.17 1044.99,-2728.71 1049.91,-2733.69"/>
<text text-anchor="middle" x="1044.45" y="-2744.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium -->
<g id="node31" class="node">
<title>checkDivideByVanadium</title>
<polygon fill="limegreen" stroke="black" points="554.95,-2650 406.98,-2632 554.95,-2614 702.92,-2632 554.95,-2650"/>
<text text-anchor="middle" x="554.95" y="-2628.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkDivideByVanadium&#45;&gt;aggregateV -->
<g id="edge6" class="edge">
<title>checkDivideByVanadium&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M554.95,-2613.8C554.95,-2602.58 554.95,-2587.67 554.95,-2574.69"/>
<polygon fill="black" stroke="black" points="558.45,-2574.98 554.95,-2564.98 551.45,-2574.98 558.45,-2574.98"/>
<text text-anchor="middle" x="566.45" y="-2584.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;moderatorTzeroLinearM -->
<g id="edge15" class="edge">
<title>checkMonNorm&#45;&gt;moderatorTzeroLinearM</title>
<path fill="none" stroke="black" d="M807.24,-2236.41C792.16,-2223.84 770.67,-2205.93 753.3,-2191.46"/>
<polygon fill="black" stroke="black" points="755.73,-2188.93 745.81,-2185.21 751.25,-2194.31 755.73,-2188.93"/>
<text text-anchor="middle" x="793.45" y="-2205.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;checkIsVanadium -->
<g id="edge16" class="edge">
<title>checkMonNorm&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M863.64,-2238.27C892.7,-2224.97 927.95,-2201.69 927.95,-2167 927.95,-2167 927.95,-2167 927.95,-1932 927.95,-1914.23 917.43,-1897.69 906.14,-1885.05"/>
<polygon fill="black" stroke="black" points="908.84,-1882.8 899.37,-1878.04 903.8,-1887.66 908.84,-1882.8"/>
<text text-anchor="middle" x="937.45" y="-2045.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkByQSlice&#45;&gt;convertUnitsToEnergyV -->
<g id="edge38" class="edge">
<title>checkByQSlice&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M701.01,-1389.83C651.39,-1379.81 599.95,-1357.68 599.95,-1309 599.95,-1309 599.95,-1309 599.95,-1184 599.95,-1143.46 636.57,-1122.14 677.57,-1110.97"/>
<polygon fill="black" stroke="black" points="678.31,-1114.4 687.17,-1108.58 676.62,-1107.6 678.31,-1114.4"/>
<text text-anchor="middle" x="611.45" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2 -->
<g id="node34" class="node">
<title>checkNormalizeByDetectorID2</title>
<polygon fill="limegreen" stroke="black" points="726.95,-1791 551.33,-1773 726.95,-1755 902.57,-1773 726.95,-1791"/>
<text text-anchor="middle" x="726.95" y="-1769.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV -->
<g id="edge22" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M688.66,-1758.44C650.51,-1744.93 591.39,-1723.99 547,-1708.27"/>
<polygon fill="black" stroke="black" points="548.36,-1705.04 537.77,-1705 546.02,-1711.63 548.36,-1705.04"/>
<text text-anchor="middle" x="633.45" y="-1725.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge23" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M724.56,-1754.77C718.78,-1713.13 704.01,-1606.66 696.9,-1555.41"/>
<polygon fill="black" stroke="black" points="700.39,-1555.13 695.55,-1545.71 693.46,-1556.09 700.39,-1555.13"/>
<text text-anchor="middle" x="719.45" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkgroupDetectors&#45;&gt;groupingDetectorsV -->
<g id="edge43" class="edge">
<title>checkgroupDetectors&#45;&gt;groupingDetectorsV</title>
<path fill="none" stroke="black" d="M432.55,-862.41C420.35,-850.07 403.08,-832.59 388.91,-818.26"/>
<polygon fill="black" stroke="black" points="391.58,-815.97 382.06,-811.32 386.6,-820.9 391.58,-815.97"/>
<text text-anchor="middle" x="423.45" y="-831.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkgroupDetectors&#45;&gt;SofQW3V -->
<g id="edge45" class="edge">
<title>checkgroupDetectors&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M451.03,-861.1C454.2,-840.25 457.7,-803.89 449.95,-774 447.5,-764.55 443.01,-755 438.22,-746.61"/>
<polygon fill="black" stroke="black" points="441.36,-745.03 433.16,-738.32 435.39,-748.68 441.36,-745.03"/>
<text text-anchor="middle" x="464.45" y="-788.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2 -->
<g id="edge21" class="edge">
<title>checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2</title>
<path fill="none" stroke="black" d="M851.78,-1843.8C827.09,-1830 790.49,-1809.53 763.3,-1794.33"/>
<polygon fill="black" stroke="black" points="765.14,-1791.34 754.7,-1789.52 761.72,-1797.45 765.14,-1791.34"/>
<text text-anchor="middle" x="847.95" y="-1812.8" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkDivideByVanadium2 -->
<g id="node37" class="node">
<title>checkDivideByVanadium2</title>
<polygon fill="limegreen" stroke="black" points="990.95,-1471 842.98,-1453 990.95,-1435 1138.92,-1453 990.95,-1471"/>
<text text-anchor="middle" x="990.95" y="-1449.3" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkDivideByVanadium2 -->
<g id="edge24" class="edge">
<title>checkIsVanadium&#45;&gt;checkDivideByVanadium2</title>
<path fill="none" stroke="black" d="M917.81,-1844.73C946.63,-1831.35 980.95,-1808.23 980.95,-1774 980.95,-1774 980.95,-1774 980.95,-1525 980.95,-1510.7 982.97,-1494.95 985.18,-1481.91"/>
<polygon fill="black" stroke="black" points="988.58,-1482.79 986.95,-1472.32 981.7,-1481.52 988.58,-1482.79"/>
<text text-anchor="middle" x="1006.95" y="-1638.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV -->
<g id="edge36" class="edge">
<title>checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M1003.65,-1436.42C1007.81,-1430.62 1012.1,-1423.79 1014.95,-1417 1027.41,-1387.35 1028.95,-1378.16 1028.95,-1346 1028.95,-1346 1028.95,-1346 1028.95,-1184 1028.95,-1154.39 963.24,-1132.5 900.58,-1118.35"/>
<polygon fill="black" stroke="black" points="901.34,-1114.93 890.82,-1116.21 899.84,-1121.77 901.34,-1114.93"/>
<text text-anchor="middle" x="1038.45" y="-1268.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;maskDetectors2 -->
<g id="edge30" class="edge">
<title>checkDivideByVanadium2&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M990.32,-1434.85C988.77,-1418.67 983.89,-1394.87 968.95,-1381 957.1,-1369.99 923.19,-1361.63 890.41,-1355.85"/>
<polygon fill="black" stroke="black" points="891.3,-1352.45 880.85,-1354.24 890.13,-1359.36 891.3,-1352.45"/>
<text text-anchor="middle" x="999.45" y="-1395.3" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice -->
<g id="node40" class="node">
<title>checkNormalizeByQslice</title>
<polygon fill="limegreen" stroke="black" points="530.95,-577 386.84,-559 530.95,-541 675.07,-559 530.95,-577"/>
<text text-anchor="middle" x="530.95" y="-555.3" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by Q slice</text>
</g>
<!-- checkIsVanadium2&#45;&gt;checkNormalizeByQslice -->
<g id="edge48" class="edge">
<title>checkIsVanadium2&#45;&gt;checkNormalizeByQslice</title>
<path fill="none" stroke="black" d="M440.57,-629.21C458.03,-615.84 483.23,-596.55 502.59,-581.72"/>
<polygon fill="black" stroke="black" points="504.55,-584.63 510.36,-575.77 500.29,-579.07 504.55,-584.63"/>
<text text-anchor="middle" x="508.95" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- vanadiumStructureFactorQE -->
<g id="node46" class="node">
<title>vanadiumStructureFactorQE</title>
<polygon fill="grey" stroke="black" points="369.12,-577 275,-577 250.79,-541 344.91,-541 369.12,-577"/>
<text text-anchor="middle" x="309.95" y="-555.3" font-family="Times,serif" font-size="14.00">Sv(Q,E)</text>
</g>
<!-- checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE -->
<g id="edge47" class="edge">
<title>checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE</title>
<path fill="none" stroke="black" d="M399.52,-629.21C383.26,-616.64 360.21,-598.83 341.57,-584.43"/>
<polygon fill="black" stroke="black" points="343.8,-581.73 333.75,-578.39 339.52,-587.27 343.8,-581.73"/>
<text text-anchor="middle" x="406.95" y="-598.8" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge35" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M814.17,-1253.88C809.36,-1224.33 799.45,-1163.49 793.59,-1127.48"/>
<polygon fill="black" stroke="black" points="797.07,-1127.11 792.01,-1117.8 790.17,-1128.23 797.07,-1127.11"/>
<text text-anchor="middle" x="815.45" y="-1181.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge33" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M796.67,-1255.61C779.99,-1242.94 756.04,-1224.77 736.8,-1210.17"/>
<polygon fill="black" stroke="black" points="739.07,-1207.5 728.99,-1204.24 734.84,-1213.08 739.07,-1207.5"/>
<text text-anchor="middle" x="779.45" y="-1224.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge49" class="edge">
<title>checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M511.27,-543.02C494.67,-530.39 470.58,-512.05 451.02,-497.17"/>
<polygon fill="black" stroke="black" points="453.41,-494.58 443.33,-491.31 449.17,-500.15 453.41,-494.58"/>
<text text-anchor="middle" x="496.45" y="-511.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;sampleStructureFactor -->
<g id="edge54" class="edge">
<title>checkNormalizeByQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M530.95,-540.54C530.95,-523.17 530.95,-495.74 530.95,-472 530.95,-472 530.95,-472 530.95,-323 530.95,-305.5 520.49,-289.54 508.86,-277.2"/>
<polygon fill="black" stroke="black" points="511.42,-274.8 501.82,-270.32 506.52,-279.81 511.42,-274.8"/>
<text text-anchor="middle" x="540.45" y="-393.3" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- datFile -->
<g id="node49" class="node">
<title>datFile</title>
<polygon fill="grey" stroke="black" points="163.86,-36 33.56,-36 0.05,0 130.34,0 163.86,-36"/>
<text text-anchor="middle" x="81.95" y="-14.3" font-family="Times,serif" font-size="14.00">_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;datFile -->
<g id="edge57" class="edge">
<title>checkDivideByVanadium3&#45;&gt;datFile</title>
<path fill="none" stroke="black" d="M255.31,-90.53C222.85,-77.14 172.54,-56.38 134.46,-40.67"/>
<polygon fill="black" stroke="black" points="136.05,-37.53 125.47,-36.95 133.38,-44 136.05,-37.53"/>
<text text-anchor="middle" x="207.45" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedDatFile -->
<g id="node50" class="node">
<title>dividedDatFile</title>
<polygon fill="grey" stroke="black" points="435.94,-36 233.93,-36 181.97,0 383.97,0 435.94,-36"/>
<text text-anchor="middle" x="308.95" y="-14.3" font-family="Times,serif" font-size="14.00">_divided_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;dividedDatFile -->
<g id="edge58" class="edge">
<title>checkDivideByVanadium3&#45;&gt;dividedDatFile</title>
<path fill="none" stroke="black" d="M292.1,-87.21C294.91,-75.83 298.7,-60.52 301.96,-47.29"/>
<polygon fill="black" stroke="black" points="305.3,-48.36 304.31,-37.81 298.51,-46.68 305.3,-48.36"/>
<text text-anchor="middle" x="311.45" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- sqwFile -->
<g id="node51" class="node">
<title>sqwFile</title>
<polygon fill="grey" stroke="black" points="663.67,-36 530.49,-36 496.24,0 629.41,0 663.67,-36"/>
<text text-anchor="middle" x="579.95" y="-14.3" font-family="Times,serif" font-size="14.00">_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;sqwFile -->
<g id="edge61" class="edge">
<title>checkDivideByVanadium4&#45;&gt;sqwFile</title>
<path fill="none" stroke="black" d="M597.61,-87.21C594.66,-75.83 590.7,-60.52 587.27,-47.29"/>
<polygon fill="black" stroke="black" points="590.71,-46.61 584.82,-37.81 583.94,-48.37 590.71,-46.61"/>
<text text-anchor="middle" x="602.45" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedSqwFile -->
<g id="node52" class="node">
<title>dividedSqwFile</title>
<polygon fill="grey" stroke="black" points="939.75,-36 734.86,-36 682.16,0 887.04,0 939.75,-36"/>
<text text-anchor="middle" x="810.95" y="-14.3" font-family="Times,serif" font-size="14.00">_divided_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;dividedSqwFile -->
<g id="edge62" class="edge">
<title>checkDivideByVanadium4&#45;&gt;dividedSqwFile</title>
<path fill="none" stroke="black" d="M635.07,-90.53C668,-77.14 719.05,-56.38 757.68,-40.67"/>
<polygon fill="black" stroke="black" points="758.88,-43.96 766.82,-36.95 756.24,-37.47 758.88,-43.96"/>
<text text-anchor="middle" x="731.45" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- maskData&#45;&gt;maskDetectors -->
<g id="edge11" class="edge">
<title>maskData&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M950.59,-2526.63C928.42,-2517.09 900.69,-2505.16 877.03,-2494.98"/>
<polygon fill="black" stroke="black" points="878.43,-2491.77 867.86,-2491.03 875.66,-2498.2 878.43,-2491.77"/>
</g>
<!-- basisNormMask&#45;&gt;maskDetectors2 -->
<g id="edge31" class="edge">
<title>basisNormMask&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M627.88,-1434.7C622.65,-1429.64 617.82,-1423.66 614.95,-1417 608.63,-1402.3 604.65,-1393.24 614.95,-1381 631.36,-1361.51 692.6,-1352.87 743.39,-1349.04"/>
<polygon fill="black" stroke="black" points="743.47,-1352.55 753.2,-1348.36 742.98,-1345.56 743.47,-1352.55"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge27" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M533.44,-1581.98C562.42,-1571.99 600.04,-1559.02 631.47,-1548.19"/>
<polygon fill="black" stroke="black" points="632.56,-1551.52 640.88,-1544.95 630.28,-1544.9 632.56,-1551.52"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge34" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M491.94,-1580.66C495.61,-1566.38 499.95,-1545.55 499.95,-1527 499.95,-1527 499.95,-1527 499.95,-1271 499.95,-1217.2 560.94,-1196.8 616.38,-1189.37"/>
<polygon fill="black" stroke="black" points="616.73,-1192.86 626.24,-1188.2 615.9,-1185.91 616.73,-1192.86"/>
</g>
<!-- vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge50" class="edge">
<title>vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M331.81,-540.6C347.45,-528.14 368.75,-511.18 386.25,-497.24"/>
<polygon fill="black" stroke="black" points="388.19,-500.18 393.83,-491.21 383.82,-494.7 388.19,-500.18"/>
</g>
<!-- vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice -->
<g id="edge52" class="edge">
<title>vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice</title>
<path fill="none" stroke="black" d="M423.68,-378.81C424,-371.14 424.39,-361.89 424.76,-353.24"/>
<polygon fill="black" stroke="black" points="428.24,-353.68 425.17,-343.54 421.25,-353.38 428.24,-353.68"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToDaveGroup -->
<g id="edge55" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToDaveGroup</title>
<path fill="none" stroke="black" d="M456.65,-232.81C445.71,-223.98 432.18,-213.07 420.18,-203.39"/>
<polygon fill="black" stroke="black" points="422.52,-200.78 412.54,-197.23 418.13,-206.23 422.52,-200.78"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToNexus -->
<g id="edge59" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToNexus</title>
<path fill="none" stroke="black" d="M503.88,-232.63C517.36,-223.61 534.02,-212.44 548.66,-202.64"/>
<polygon fill="black" stroke="black" points="550.3,-205.75 556.67,-197.28 546.41,-199.93 550.3,-205.75"/>
</g>
</g>
</svg>
