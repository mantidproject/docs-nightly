<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 11.0.0 (20240519.1550)
 -->
<!-- Title: BASISReduction Pages: 1 -->
<svg width="1223pt" height="2866pt"
 viewBox="0.00 0.00 1222.98 2866.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2862)">
<title>BASISReduction</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2862 1218.98,-2862 1218.98,4 -4,4"/>
<text text-anchor="middle" x="607.49" y="-2840.7" font-family="Helvetica,sans-Serif" font-size="14.00">BASISReduction Flowchart</text>
<!-- loadMaskFile -->
<g id="node1" class="node">
<title>loadMaskFile</title>
<path fill="lightskyblue" stroke="black" d="M1076.64,-2671.5C1076.64,-2671.5 987.89,-2671.5 987.89,-2671.5 981.89,-2671.5 975.89,-2665.5 975.89,-2659.5 975.89,-2659.5 975.89,-2647.5 975.89,-2647.5 975.89,-2641.5 981.89,-2635.5 987.89,-2635.5 987.89,-2635.5 1076.64,-2635.5 1076.64,-2635.5 1082.64,-2635.5 1088.64,-2641.5 1088.64,-2647.5 1088.64,-2647.5 1088.64,-2659.5 1088.64,-2659.5 1088.64,-2665.5 1082.64,-2671.5 1076.64,-2671.5"/>
<text text-anchor="middle" x="1032.27" y="-2648.82" font-family="Helvetica,sans-Serif" font-size="14.00">load mask file</text>
</g>
<!-- maskData -->
<g id="node43" class="node">
<title>maskData</title>
<polygon fill="grey" stroke="black" points="1054.46,-2582.25 987.34,-2582.25 970.07,-2546.25 1037.19,-2546.25 1054.46,-2582.25"/>
<text text-anchor="middle" x="1012.27" y="-2558.07" font-family="Times,serif" font-size="14.00">mask</text>
</g>
<!-- loadMaskFile&#45;&gt;maskData -->
<g id="edge5" class="edge">
<title>loadMaskFile&#45;&gt;maskData</title>
<path fill="none" stroke="black" d="M1028.31,-2635.26C1025.57,-2623.31 1021.87,-2607.13 1018.7,-2593.33"/>
<polygon fill="black" stroke="black" points="1022.19,-2592.89 1016.55,-2583.93 1015.37,-2594.46 1022.19,-2592.89"/>
</g>
<!-- aggregateV -->
<g id="node2" class="node">
<title>aggregateV</title>
<path fill="lightskyblue" stroke="black" d="M639.27,-2582.25C639.27,-2582.25 467.27,-2582.25 467.27,-2582.25 461.27,-2582.25 455.27,-2576.25 455.27,-2570.25 455.27,-2570.25 455.27,-2558.25 455.27,-2558.25 455.27,-2552.25 461.27,-2546.25 467.27,-2546.25 467.27,-2546.25 639.27,-2546.25 639.27,-2546.25 645.27,-2546.25 651.27,-2552.25 651.27,-2558.25 651.27,-2558.25 651.27,-2570.25 651.27,-2570.25 651.27,-2576.25 645.27,-2582.25 639.27,-2582.25"/>
<text text-anchor="middle" x="553.27" y="-2559.57" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate Vanadium runs</text>
</g>
<!-- maskDetectors -->
<g id="node3" class="node">
<title>maskDetectors</title>
<path fill="lightskyblue" stroke="black" d="M893.89,-2510.25C893.89,-2510.25 794.64,-2510.25 794.64,-2510.25 788.64,-2510.25 782.64,-2504.25 782.64,-2498.25 782.64,-2498.25 782.64,-2486.25 782.64,-2486.25 782.64,-2480.25 788.64,-2474.25 794.64,-2474.25 794.64,-2474.25 893.89,-2474.25 893.89,-2474.25 899.89,-2474.25 905.89,-2480.25 905.89,-2486.25 905.89,-2486.25 905.89,-2498.25 905.89,-2498.25 905.89,-2504.25 899.89,-2510.25 893.89,-2510.25"/>
<text text-anchor="middle" x="844.27" y="-2487.57" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- aggregateV&#45;&gt;maskDetectors -->
<g id="edge10" class="edge">
<title>aggregateV&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M625.95,-2545.77C670.33,-2535.09 726.9,-2521.48 771.33,-2510.79"/>
<polygon fill="black" stroke="black" points="771.97,-2514.24 780.88,-2508.5 770.34,-2507.43 771.97,-2514.24"/>
</g>
<!-- moderatorTzeroLinear -->
<g id="node4" class="node">
<title>moderatorTzeroLinear</title>
<path fill="lightskyblue" stroke="black" d="M977.14,-2438.25C977.14,-2438.25 711.39,-2438.25 711.39,-2438.25 705.39,-2438.25 699.39,-2432.25 699.39,-2426.25 699.39,-2426.25 699.39,-2414.25 699.39,-2414.25 699.39,-2408.25 705.39,-2402.25 711.39,-2402.25 711.39,-2402.25 977.14,-2402.25 977.14,-2402.25 983.14,-2402.25 989.14,-2408.25 989.14,-2414.25 989.14,-2414.25 989.14,-2426.25 989.14,-2426.25 989.14,-2432.25 983.14,-2438.25 977.14,-2438.25"/>
<text text-anchor="middle" x="844.27" y="-2415.57" font-family="Helvetica,sans-Serif" font-size="14.00">remove emission delay from moderator</text>
</g>
<!-- maskDetectors&#45;&gt;moderatorTzeroLinear -->
<g id="edge12" class="edge">
<title>maskDetectors&#45;&gt;moderatorTzeroLinear</title>
<path fill="none" stroke="black" d="M844.27,-2473.95C844.27,-2466.66 844.27,-2457.98 844.27,-2449.79"/>
<polygon fill="black" stroke="black" points="847.77,-2449.87 844.27,-2439.87 840.77,-2449.87 847.77,-2449.87"/>
</g>
<!-- convertUnitsToWavelength -->
<g id="node5" class="node">
<title>convertUnitsToWavelength</title>
<path fill="lightskyblue" stroke="black" d="M937.39,-2366.25C937.39,-2366.25 751.14,-2366.25 751.14,-2366.25 745.14,-2366.25 739.14,-2360.25 739.14,-2354.25 739.14,-2354.25 739.14,-2342.25 739.14,-2342.25 739.14,-2336.25 745.14,-2330.25 751.14,-2330.25 751.14,-2330.25 937.39,-2330.25 937.39,-2330.25 943.39,-2330.25 949.39,-2336.25 949.39,-2342.25 949.39,-2342.25 949.39,-2354.25 949.39,-2354.25 949.39,-2360.25 943.39,-2366.25 937.39,-2366.25"/>
<text text-anchor="middle" x="844.27" y="-2343.57" font-family="Helvetica,sans-Serif" font-size="14.00">convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength -->
<g id="edge13" class="edge">
<title>moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength</title>
<path fill="none" stroke="black" d="M844.27,-2401.95C844.27,-2394.66 844.27,-2385.98 844.27,-2377.79"/>
<polygon fill="black" stroke="black" points="847.77,-2377.87 844.27,-2367.87 840.77,-2377.87 847.77,-2377.87"/>
</g>
<!-- checkMonNorm -->
<g id="node32" class="node">
<title>checkMonNorm</title>
<polygon fill="limegreen" stroke="black" points="844.27,-2294.25 648.34,-2276.25 844.27,-2258.25 1040.19,-2276.25 844.27,-2294.25"/>
<text text-anchor="middle" x="844.27" y="-2271.57" font-family="Helvetica,sans-Serif" font-size="14.00">do monitor normalization?</text>
</g>
<!-- convertUnitsToWavelength&#45;&gt;checkMonNorm -->
<g id="edge14" class="edge">
<title>convertUnitsToWavelength&#45;&gt;checkMonNorm</title>
<path fill="none" stroke="black" d="M844.27,-2329.95C844.27,-2322.66 844.27,-2313.98 844.27,-2305.79"/>
<polygon fill="black" stroke="black" points="847.77,-2305.87 844.27,-2295.87 840.77,-2305.87 847.77,-2305.87"/>
</g>
<!-- moderatorTzeroLinearM -->
<g id="node6" class="node">
<title>moderatorTzeroLinearM</title>
<path fill="lightskyblue" stroke="black" d="M905.52,-2205C905.52,-2205 579.02,-2205 579.02,-2205 573.02,-2205 567.02,-2199 567.02,-2193 567.02,-2193 567.02,-2181 567.02,-2181 567.02,-2175 573.02,-2169 579.02,-2169 579.02,-2169 905.52,-2169 905.52,-2169 911.52,-2169 917.52,-2175 917.52,-2181 917.52,-2181 917.52,-2193 917.52,-2193 917.52,-2199 911.52,-2205 905.52,-2205"/>
<text text-anchor="middle" x="742.27" y="-2182.32" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: remove emission delay from moderator</text>
</g>
<!-- convertUnitsToWavelengthM -->
<g id="node7" class="node">
<title>convertUnitsToWavelengthM</title>
<path fill="lightskyblue" stroke="black" d="M894.77,-2132C894.77,-2132 647.77,-2132 647.77,-2132 641.77,-2132 635.77,-2126 635.77,-2120 635.77,-2120 635.77,-2108 635.77,-2108 635.77,-2102 641.77,-2096 647.77,-2096 647.77,-2096 894.77,-2096 894.77,-2096 900.77,-2096 906.77,-2102 906.77,-2108 906.77,-2108 906.77,-2120 906.77,-2120 906.77,-2126 900.77,-2132 894.77,-2132"/>
<text text-anchor="middle" x="771.27" y="-2109.32" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM -->
<g id="edge17" class="edge">
<title>moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM</title>
<path fill="none" stroke="black" d="M749.29,-2168.81C752.49,-2160.96 756.37,-2151.47 759.97,-2142.66"/>
<polygon fill="black" stroke="black" points="763.2,-2144.01 763.74,-2133.43 756.72,-2141.36 763.2,-2144.01"/>
</g>
<!-- OneMinusExponentialCorM -->
<g id="node8" class="node">
<title>OneMinusExponentialCorM</title>
<path fill="lightskyblue" stroke="black" d="M900.52,-2042.75C900.52,-2042.75 694.02,-2042.75 694.02,-2042.75 688.02,-2042.75 682.02,-2036.75 682.02,-2030.75 682.02,-2030.75 682.02,-2018.75 682.02,-2018.75 682.02,-2012.75 688.02,-2006.75 694.02,-2006.75 694.02,-2006.75 900.52,-2006.75 900.52,-2006.75 906.52,-2006.75 912.52,-2012.75 912.52,-2018.75 912.52,-2018.75 912.52,-2030.75 912.52,-2030.75 912.52,-2036.75 906.52,-2042.75 900.52,-2042.75"/>
<text text-anchor="middle" x="797.27" y="-2020.08" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: exponential correction</text>
</g>
<!-- convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM -->
<g id="edge18" class="edge">
<title>convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM</title>
<path fill="none" stroke="black" d="M776.4,-2095.76C779.96,-2083.81 784.78,-2067.63 788.9,-2053.83"/>
<polygon fill="black" stroke="black" points="792.21,-2054.99 791.71,-2044.4 785.5,-2052.99 792.21,-2054.99"/>
</g>
<!-- divideByMonitor -->
<g id="node9" class="node">
<title>divideByMonitor</title>
<path fill="lightskyblue" stroke="black" d="M894.39,-1969.75C894.39,-1969.75 780.14,-1969.75 780.14,-1969.75 774.14,-1969.75 768.14,-1963.75 768.14,-1957.75 768.14,-1957.75 768.14,-1945.75 768.14,-1945.75 768.14,-1939.75 774.14,-1933.75 780.14,-1933.75 780.14,-1933.75 894.39,-1933.75 894.39,-1933.75 900.39,-1933.75 906.39,-1939.75 906.39,-1945.75 906.39,-1945.75 906.39,-1957.75 906.39,-1957.75 906.39,-1963.75 900.39,-1969.75 894.39,-1969.75"/>
<text text-anchor="middle" x="837.27" y="-1947.08" font-family="Helvetica,sans-Serif" font-size="14.00">divide by monitor</text>
</g>
<!-- OneMinusExponentialCorM&#45;&gt;divideByMonitor -->
<g id="edge19" class="edge">
<title>OneMinusExponentialCorM&#45;&gt;divideByMonitor</title>
<path fill="none" stroke="black" d="M806.95,-2006.56C811.52,-1998.45 817.08,-1988.59 822.18,-1979.53"/>
<polygon fill="black" stroke="black" points="825.07,-1981.53 826.93,-1971.1 818.97,-1978.09 825.07,-1981.53"/>
</g>
<!-- checkIsVanadium -->
<g id="node36" class="node">
<title>checkIsVanadium</title>
<polygon fill="limegreen" stroke="black" points="906.27,-1896.75 662.72,-1878.75 906.27,-1860.75 1149.81,-1878.75 906.27,-1896.75"/>
<text text-anchor="middle" x="906.27" y="-1874.08" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- divideByMonitor&#45;&gt;checkIsVanadium -->
<g id="edge20" class="edge">
<title>divideByMonitor&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M853.97,-1933.56C862.61,-1924.68 873.29,-1913.68 882.75,-1903.95"/>
<polygon fill="black" stroke="black" points="885.15,-1906.5 889.61,-1896.89 880.13,-1901.62 885.15,-1906.5"/>
</g>
<!-- integrateWavelengthV -->
<g id="node10" class="node">
<title>integrateWavelengthV</title>
<path fill="lightskyblue" stroke="black" d="M628.64,-1718.25C628.64,-1718.25 413.89,-1718.25 413.89,-1718.25 407.89,-1718.25 401.89,-1712.25 401.89,-1706.25 401.89,-1706.25 401.89,-1694.25 401.89,-1694.25 401.89,-1688.25 407.89,-1682.25 413.89,-1682.25 413.89,-1682.25 628.64,-1682.25 628.64,-1682.25 634.64,-1682.25 640.64,-1688.25 640.64,-1694.25 640.64,-1694.25 640.64,-1706.25 640.64,-1706.25 640.64,-1712.25 634.64,-1718.25 628.64,-1718.25"/>
<text text-anchor="middle" x="521.27" y="-1695.58" font-family="Helvetica,sans-Serif" font-size="14.00">integrate along wavelength axis</text>
</g>
<!-- vanadiumStructureFactorL -->
<g id="node45" class="node">
<title>vanadiumStructureFactorL</title>
<polygon fill="grey" stroke="black" points="595.63,-1629 477.33,-1629 446.9,-1593 565.2,-1593 595.63,-1629"/>
<text text-anchor="middle" x="521.27" y="-1604.83" font-family="Times,serif" font-size="14.00">Sv(lambda)</text>
</g>
<!-- integrateWavelengthV&#45;&gt;vanadiumStructureFactorL -->
<g id="edge26" class="edge">
<title>integrateWavelengthV&#45;&gt;vanadiumStructureFactorL</title>
<path fill="none" stroke="black" d="M521.27,-1682.01C521.27,-1670.18 521.27,-1654.2 521.27,-1640.5"/>
<polygon fill="black" stroke="black" points="524.77,-1640.72 521.27,-1630.72 517.77,-1640.72 524.77,-1640.72"/>
</g>
<!-- findDetectorsOutsideLimitsV -->
<g id="node11" class="node">
<title>findDetectorsOutsideLimitsV</title>
<path fill="lightskyblue" stroke="black" d="M851.02,-1556C851.02,-1556 581.52,-1556 581.52,-1556 575.52,-1556 569.52,-1550 569.52,-1544 569.52,-1544 569.52,-1532 569.52,-1532 569.52,-1526 575.52,-1520 581.52,-1520 581.52,-1520 851.02,-1520 851.02,-1520 857.02,-1520 863.02,-1526 863.02,-1532 863.02,-1532 863.02,-1544 863.02,-1544 863.02,-1550 857.02,-1556 851.02,-1556"/>
<text text-anchor="middle" x="716.27" y="-1533.33" font-family="Helvetica,sans-Serif" font-size="14.00">find detectors with low Vanadium signal</text>
</g>
<!-- checkByQSlice -->
<g id="node33" class="node">
<title>checkByQSlice</title>
<polygon fill="limegreen" stroke="black" points="815.27,-1429 626.78,-1411 815.27,-1393 1003.75,-1411 815.27,-1429"/>
<text text-anchor="middle" x="815.27" y="-1406.33" font-family="Helvetica,sans-Serif" font-size="14.00">normalization by Q slice?</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice -->
<g id="edge29" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice</title>
<path fill="none" stroke="black" d="M764.07,-1519.65C780.76,-1511.18 797.89,-1499.22 808.27,-1483 816.22,-1470.57 818.28,-1454.34 818.22,-1440.53"/>
<polygon fill="black" stroke="black" points="821.72,-1440.53 817.78,-1430.69 814.73,-1440.84 821.72,-1440.53"/>
</g>
<!-- basisNormMask -->
<g id="node44" class="node">
<title>basisNormMask</title>
<polygon fill="grey" stroke="black" points="798.79,-1483 607.06,-1483 557.74,-1447 749.47,-1447 798.79,-1483"/>
<text text-anchor="middle" x="678.27" y="-1458.83" font-family="Times,serif" font-size="14.00">low Vanadium mask</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;basisNormMask -->
<g id="edge28" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;basisNormMask</title>
<path fill="none" stroke="black" d="M707.07,-1519.81C702.77,-1511.79 697.56,-1502.05 692.75,-1493.07"/>
<polygon fill="black" stroke="black" points="695.9,-1491.53 688.09,-1484.36 689.73,-1494.83 695.9,-1491.53"/>
</g>
<!-- convertUnitsToEnergyV -->
<g id="node12" class="node">
<title>convertUnitsToEnergyV</title>
<path fill="lightskyblue" stroke="black" d="M889.77,-1123.5C889.77,-1123.5 714.77,-1123.5 714.77,-1123.5 708.77,-1123.5 702.77,-1117.5 702.77,-1111.5 702.77,-1111.5 702.77,-1099.5 702.77,-1099.5 702.77,-1093.5 708.77,-1087.5 714.77,-1087.5 714.77,-1087.5 889.77,-1087.5 889.77,-1087.5 895.77,-1087.5 901.77,-1093.5 901.77,-1099.5 901.77,-1099.5 901.77,-1111.5 901.77,-1111.5 901.77,-1117.5 895.77,-1123.5 889.77,-1123.5"/>
<text text-anchor="middle" x="802.27" y="-1100.83" font-family="Helvetica,sans-Serif" font-size="14.00">convert to energy transfer</text>
</g>
<!-- correctKiKfV -->
<g id="node13" class="node">
<title>correctKiKfV</title>
<path fill="lightskyblue" stroke="black" d="M850.77,-1051.5C850.77,-1051.5 753.77,-1051.5 753.77,-1051.5 747.77,-1051.5 741.77,-1045.5 741.77,-1039.5 741.77,-1039.5 741.77,-1027.5 741.77,-1027.5 741.77,-1021.5 747.77,-1015.5 753.77,-1015.5 753.77,-1015.5 850.77,-1015.5 850.77,-1015.5 856.77,-1015.5 862.77,-1021.5 862.77,-1027.5 862.77,-1027.5 862.77,-1039.5 862.77,-1039.5 862.77,-1045.5 856.77,-1051.5 850.77,-1051.5"/>
<text text-anchor="middle" x="802.27" y="-1028.83" font-family="Helvetica,sans-Serif" font-size="14.00">scale by k_i/k_f</text>
</g>
<!-- convertUnitsToEnergyV&#45;&gt;correctKiKfV -->
<g id="edge39" class="edge">
<title>convertUnitsToEnergyV&#45;&gt;correctKiKfV</title>
<path fill="none" stroke="black" d="M802.27,-1087.2C802.27,-1079.91 802.27,-1071.23 802.27,-1063.04"/>
<polygon fill="black" stroke="black" points="805.77,-1063.12 802.27,-1053.12 798.77,-1063.12 805.77,-1063.12"/>
</g>
<!-- RebinEnergy -->
<g id="node14" class="node">
<title>RebinEnergy</title>
<path fill="lightskyblue" stroke="black" d="M926.89,-979.5C926.89,-979.5 677.64,-979.5 677.64,-979.5 671.64,-979.5 665.64,-973.5 665.64,-967.5 665.64,-967.5 665.64,-955.5 665.64,-955.5 665.64,-949.5 671.64,-943.5 677.64,-943.5 677.64,-943.5 926.89,-943.5 926.89,-943.5 932.89,-943.5 938.89,-949.5 938.89,-955.5 938.89,-955.5 938.89,-967.5 938.89,-967.5 938.89,-973.5 932.89,-979.5 926.89,-979.5"/>
<text text-anchor="middle" x="802.27" y="-956.83" font-family="Helvetica,sans-Serif" font-size="14.00">rebin to specified energy parameters</text>
</g>
<!-- correctKiKfV&#45;&gt;RebinEnergy -->
<g id="edge40" class="edge">
<title>correctKiKfV&#45;&gt;RebinEnergy</title>
<path fill="none" stroke="black" d="M802.27,-1015.2C802.27,-1007.91 802.27,-999.23 802.27,-991.04"/>
<polygon fill="black" stroke="black" points="805.77,-991.12 802.27,-981.12 798.77,-991.12 805.77,-991.12"/>
</g>
<!-- checkgroupDetectors -->
<g id="node35" class="node">
<title>checkgroupDetectors</title>
<polygon fill="limegreen" stroke="black" points="445.27,-907.5 267.19,-889.5 445.27,-871.5 623.34,-889.5 445.27,-907.5"/>
<text text-anchor="middle" x="445.27" y="-884.83" font-family="Helvetica,sans-Serif" font-size="14.00">do we group detectors?</text>
</g>
<!-- RebinEnergy&#45;&gt;checkgroupDetectors -->
<g id="edge41" class="edge">
<title>RebinEnergy&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M713.1,-943.02C651.82,-931 571.61,-915.27 515,-904.17"/>
<polygon fill="black" stroke="black" points="515.98,-900.8 505.49,-902.31 514.63,-907.67 515.98,-900.8"/>
</g>
<!-- groupingDetectorsV -->
<g id="node15" class="node">
<title>groupingDetectorsV</title>
<path fill="lightskyblue" stroke="black" d="M425.89,-818.25C425.89,-818.25 296.64,-818.25 296.64,-818.25 290.64,-818.25 284.64,-812.25 284.64,-806.25 284.64,-806.25 284.64,-794.25 284.64,-794.25 284.64,-788.25 290.64,-782.25 296.64,-782.25 296.64,-782.25 425.89,-782.25 425.89,-782.25 431.89,-782.25 437.89,-788.25 437.89,-794.25 437.89,-794.25 437.89,-806.25 437.89,-806.25 437.89,-812.25 431.89,-818.25 425.89,-818.25"/>
<text text-anchor="middle" x="361.27" y="-795.58" font-family="Helvetica,sans-Serif" font-size="14.00">group the detectors</text>
</g>
<!-- SofQW3V -->
<g id="node16" class="node">
<title>SofQW3V</title>
<path fill="lightskyblue" stroke="black" d="M570.39,-745.25C570.39,-745.25 264.14,-745.25 264.14,-745.25 258.14,-745.25 252.14,-739.25 252.14,-733.25 252.14,-733.25 252.14,-721.25 252.14,-721.25 252.14,-715.25 258.14,-709.25 264.14,-709.25 264.14,-709.25 570.39,-709.25 570.39,-709.25 576.39,-709.25 582.39,-715.25 582.39,-721.25 582.39,-721.25 582.39,-733.25 582.39,-733.25 582.39,-739.25 576.39,-745.25 570.39,-745.25"/>
<text text-anchor="middle" x="417.27" y="-722.58" font-family="Helvetica,sans-Serif" font-size="14.00">transform to momentum and energy transfer</text>
</g>
<!-- groupingDetectorsV&#45;&gt;SofQW3V -->
<g id="edge44" class="edge">
<title>groupingDetectorsV&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M374.82,-782.06C381.42,-773.69 389.5,-763.45 396.83,-754.15"/>
<polygon fill="black" stroke="black" points="399.45,-756.49 402.9,-746.47 393.96,-752.15 399.45,-756.49"/>
</g>
<!-- checkIsVanadium2 -->
<g id="node38" class="node">
<title>checkIsVanadium2</title>
<polygon fill="limegreen" stroke="black" points="417.27,-673.25 173.72,-655.25 417.27,-637.25 660.81,-655.25 417.27,-673.25"/>
<text text-anchor="middle" x="417.27" y="-650.58" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- SofQW3V&#45;&gt;checkIsVanadium2 -->
<g id="edge46" class="edge">
<title>SofQW3V&#45;&gt;checkIsVanadium2</title>
<path fill="none" stroke="black" d="M417.27,-708.95C417.27,-701.66 417.27,-692.98 417.27,-684.79"/>
<polygon fill="black" stroke="black" points="420.77,-684.87 417.27,-674.87 413.77,-684.87 420.77,-684.87"/>
</g>
<!-- aggregateS -->
<g id="node17" class="node">
<title>aggregateS</title>
<path fill="lightskyblue" stroke="black" d="M920.89,-2582.25C920.89,-2582.25 767.64,-2582.25 767.64,-2582.25 761.64,-2582.25 755.64,-2576.25 755.64,-2570.25 755.64,-2570.25 755.64,-2558.25 755.64,-2558.25 755.64,-2552.25 761.64,-2546.25 767.64,-2546.25 767.64,-2546.25 920.89,-2546.25 920.89,-2546.25 926.89,-2546.25 932.89,-2552.25 932.89,-2558.25 932.89,-2558.25 932.89,-2570.25 932.89,-2570.25 932.89,-2576.25 926.89,-2582.25 920.89,-2582.25"/>
<text text-anchor="middle" x="844.27" y="-2559.57" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate sample runs</text>
</g>
<!-- aggregateS&#45;&gt;maskDetectors -->
<g id="edge9" class="edge">
<title>aggregateS&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M844.27,-2545.95C844.27,-2538.66 844.27,-2529.98 844.27,-2521.79"/>
<polygon fill="black" stroke="black" points="847.77,-2521.87 844.27,-2511.87 840.77,-2521.87 847.77,-2521.87"/>
</g>
<!-- maskDetectors2 -->
<g id="node18" class="node">
<title>maskDetectors2</title>
<path fill="lightskyblue" stroke="black" d="M889.89,-1375C889.89,-1375 790.64,-1375 790.64,-1375 784.64,-1375 778.64,-1369 778.64,-1363 778.64,-1363 778.64,-1351 778.64,-1351 778.64,-1345 784.64,-1339 790.64,-1339 790.64,-1339 889.89,-1339 889.89,-1339 895.89,-1339 901.89,-1345 901.89,-1351 901.89,-1351 901.89,-1363 901.89,-1363 901.89,-1369 895.89,-1375 889.89,-1375"/>
<text text-anchor="middle" x="840.27" y="-1352.33" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- checkNormalizeByDetectorID -->
<g id="node39" class="node">
<title>checkNormalizeByDetectorID</title>
<polygon fill="limegreen" stroke="black" points="840.27,-1302 651.78,-1284 840.27,-1266 1028.75,-1284 840.27,-1302"/>
<text text-anchor="middle" x="840.27" y="-1279.33" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- maskDetectors2&#45;&gt;checkNormalizeByDetectorID -->
<g id="edge32" class="edge">
<title>maskDetectors2&#45;&gt;checkNormalizeByDetectorID</title>
<path fill="none" stroke="black" d="M840.27,-1338.81C840.27,-1331.23 840.27,-1322.1 840.27,-1313.54"/>
<polygon fill="black" stroke="black" points="843.77,-1313.54 840.27,-1303.54 836.77,-1313.54 843.77,-1313.54"/>
</g>
<!-- DivideByVanadiumDetectorID -->
<g id="node19" class="node">
<title>DivideByVanadiumDetectorID</title>
<path fill="lightskyblue" stroke="black" d="M791.89,-1212.75C791.89,-1212.75 662.64,-1212.75 662.64,-1212.75 656.64,-1212.75 650.64,-1206.75 650.64,-1200.75 650.64,-1200.75 650.64,-1188.75 650.64,-1188.75 650.64,-1182.75 656.64,-1176.75 662.64,-1176.75 662.64,-1176.75 791.89,-1176.75 791.89,-1176.75 797.89,-1176.75 803.89,-1182.75 803.89,-1188.75 803.89,-1188.75 803.89,-1200.75 803.89,-1200.75 803.89,-1206.75 797.89,-1212.75 791.89,-1212.75"/>
<text text-anchor="middle" x="727.27" y="-1190.08" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge37" class="edge">
<title>DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M742.08,-1176.51C752.97,-1163.85 767.95,-1146.42 780.24,-1132.13"/>
<polygon fill="black" stroke="black" points="782.63,-1134.71 786.49,-1124.85 777.32,-1130.15 782.63,-1134.71"/>
<text text-anchor="middle" x="782.52" y="-1145.45" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- DivideByVanadiumQslice -->
<g id="node20" class="node">
<title>DivideByVanadiumQslice</title>
<path fill="lightskyblue" stroke="black" d="M491.89,-342.25C491.89,-342.25 362.64,-342.25 362.64,-342.25 356.64,-342.25 350.64,-336.25 350.64,-330.25 350.64,-330.25 350.64,-318.25 350.64,-318.25 350.64,-312.25 356.64,-306.25 362.64,-306.25 362.64,-306.25 491.89,-306.25 491.89,-306.25 497.89,-306.25 503.89,-312.25 503.89,-318.25 503.89,-318.25 503.89,-330.25 503.89,-330.25 503.89,-336.25 497.89,-342.25 491.89,-342.25"/>
<text text-anchor="middle" x="427.27" y="-319.57" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- sampleStructureFactor -->
<g id="node48" class="node">
<title>sampleStructureFactor</title>
<polygon fill="grey" stroke="black" points="534.75,-269.25 446.49,-269.25 423.78,-233.25 512.04,-233.25 534.75,-269.25"/>
<text text-anchor="middle" x="479.27" y="-245.07" font-family="Times,serif" font-size="14.00">Ss(Q,E)</text>
</g>
<!-- DivideByVanadiumQslice&#45;&gt;sampleStructureFactor -->
<g id="edge53" class="edge">
<title>DivideByVanadiumQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M439.85,-306.06C445.92,-297.78 453.33,-287.66 460.08,-278.44"/>
<polygon fill="black" stroke="black" points="462.81,-280.64 465.9,-270.5 457.17,-276.5 462.81,-280.64"/>
</g>
<!-- saveToDaveGroup -->
<g id="node21" class="node">
<title>saveToDaveGroup</title>
<path fill="lightskyblue" stroke="black" d="M468.52,-197.25C468.52,-197.25 316.02,-197.25 316.02,-197.25 310.02,-197.25 304.02,-191.25 304.02,-185.25 304.02,-185.25 304.02,-173.25 304.02,-173.25 304.02,-167.25 310.02,-161.25 316.02,-161.25 316.02,-161.25 468.52,-161.25 468.52,-161.25 474.52,-161.25 480.52,-167.25 480.52,-173.25 480.52,-173.25 480.52,-185.25 480.52,-185.25 480.52,-191.25 474.52,-197.25 468.52,-197.25"/>
<text text-anchor="middle" x="392.27" y="-174.57" font-family="Helvetica,sans-Serif" font-size="14.00">save to Dave group file</text>
</g>
<!-- checkDivideByVanadium3 -->
<g id="node41" class="node">
<title>checkDivideByVanadium3</title>
<polygon fill="limegreen" stroke="black" points="272.27,-125.25 112.79,-107.25 272.27,-89.25 431.74,-107.25 272.27,-125.25"/>
<text text-anchor="middle" x="272.27" y="-102.58" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToDaveGroup&#45;&gt;checkDivideByVanadium3 -->
<g id="edge56" class="edge">
<title>saveToDaveGroup&#45;&gt;checkDivideByVanadium3</title>
<path fill="none" stroke="black" d="M362.29,-160.77C345.58,-151.02 324.68,-138.83 307.22,-128.64"/>
<polygon fill="black" stroke="black" points="309.11,-125.69 298.71,-123.68 305.58,-131.74 309.11,-125.69"/>
</g>
<!-- saveToNexus -->
<g id="node22" class="node">
<title>saveToNexus</title>
<path fill="lightskyblue" stroke="black" d="M646.14,-197.25C646.14,-197.25 530.39,-197.25 530.39,-197.25 524.39,-197.25 518.39,-191.25 518.39,-185.25 518.39,-185.25 518.39,-173.25 518.39,-173.25 518.39,-167.25 524.39,-161.25 530.39,-161.25 530.39,-161.25 646.14,-161.25 646.14,-161.25 652.14,-161.25 658.14,-167.25 658.14,-173.25 658.14,-173.25 658.14,-185.25 658.14,-185.25 658.14,-191.25 652.14,-197.25 646.14,-197.25"/>
<text text-anchor="middle" x="588.27" y="-174.57" font-family="Helvetica,sans-Serif" font-size="14.00">save to Nexus file</text>
</g>
<!-- checkDivideByVanadium4 -->
<g id="node42" class="node">
<title>checkDivideByVanadium4</title>
<polygon fill="limegreen" stroke="black" points="609.27,-125.25 449.79,-107.25 609.27,-89.25 768.74,-107.25 609.27,-125.25"/>
<text text-anchor="middle" x="609.27" y="-102.58" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToNexus&#45;&gt;checkDivideByVanadium4 -->
<g id="edge60" class="edge">
<title>saveToNexus&#45;&gt;checkDivideByVanadium4</title>
<path fill="none" stroke="black" d="M593.46,-160.95C595.73,-153.38 598.45,-144.31 600.99,-135.84"/>
<polygon fill="black" stroke="black" points="604.32,-136.91 603.84,-126.32 597.62,-134.89 604.32,-136.91"/>
</g>
<!-- integrateVanadiumAroundElasticLine -->
<g id="node23" class="node">
<title>integrateVanadiumAroundElasticLine</title>
<path fill="lightskyblue" stroke="black" d="M492.14,-494.75C492.14,-494.75 346.39,-494.75 346.39,-494.75 340.39,-494.75 334.39,-488.75 334.39,-482.75 334.39,-482.75 334.39,-464.25 334.39,-464.25 334.39,-458.25 340.39,-452.25 346.39,-452.25 346.39,-452.25 492.14,-452.25 492.14,-452.25 498.14,-452.25 504.14,-458.25 504.14,-464.25 504.14,-464.25 504.14,-482.75 504.14,-482.75 504.14,-488.75 498.14,-494.75 492.14,-494.75"/>
<text text-anchor="middle" x="419.27" y="-477.45" font-family="Helvetica,sans-Serif" font-size="14.00">integrate Vanadium</text>
<text text-anchor="middle" x="419.27" y="-460.2" font-family="Helvetica,sans-Serif" font-size="14.00">around the elastic line</text>
</g>
<!-- vanadiumStructureFactorQ -->
<g id="node47" class="node">
<title>vanadiumStructureFactorQ</title>
<polygon fill="grey" stroke="black" points="470.66,-415.25 396.86,-415.25 377.87,-379.25 451.67,-379.25 470.66,-415.25"/>
<text text-anchor="middle" x="424.27" y="-391.07" font-family="Times,serif" font-size="14.00">Sv(Q)</text>
</g>
<!-- integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ -->
<g id="edge51" class="edge">
<title>integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ</title>
<path fill="none" stroke="black" d="M420.66,-451.82C421.18,-444 421.79,-434.97 422.36,-426.57"/>
<polygon fill="black" stroke="black" points="425.83,-427.04 423.01,-416.83 418.85,-426.57 425.83,-427.04"/>
</g>
<!-- maskFile -->
<g id="node24" class="node">
<title>maskFile</title>
<ellipse fill="khaki" stroke="black" cx="921.27" cy="-2725.5" rx="52.26" ry="18"/>
<text text-anchor="middle" x="921.27" y="-2720.82" font-family="Helvetica,sans-Serif" font-size="14.00">MaskFile</text>
</g>
<!-- maskFile&#45;&gt;loadMaskFile -->
<g id="edge3" class="edge">
<title>maskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M945.62,-2709.14C960.24,-2699.92 979.12,-2688.01 995.52,-2677.67"/>
<polygon fill="black" stroke="black" points="996.97,-2680.9 1003.56,-2672.6 993.24,-2674.98 996.97,-2680.9"/>
</g>
<!-- defaultMaskFile -->
<g id="node25" class="node">
<title>defaultMaskFile</title>
<ellipse fill="khaki" stroke="black" cx="1103.27" cy="-2725.5" rx="111.71" ry="18"/>
<text text-anchor="middle" x="1103.27" y="-2720.82" font-family="Helvetica,sans-Serif" font-size="14.00">DEFAULT_MASK_FILE</text>
</g>
<!-- defaultMaskFile&#45;&gt;loadMaskFile -->
<g id="edge4" class="edge">
<title>defaultMaskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M1086.08,-2707.55C1077.57,-2699.17 1067.13,-2688.88 1057.72,-2679.6"/>
<polygon fill="black" stroke="black" points="1060.44,-2677.37 1050.87,-2672.84 1055.53,-2682.35 1060.44,-2677.37"/>
</g>
<!-- NormRunNumbers -->
<g id="node26" class="node">
<title>NormRunNumbers</title>
<ellipse fill="khaki" stroke="black" cx="249.27" cy="-2653.5" rx="126.44" ry="18"/>
<text text-anchor="middle" x="249.27" y="-2648.82" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium run numbers</text>
</g>
<!-- NormRunNumbers&#45;&gt;aggregateV -->
<g id="edge7" class="edge">
<title>NormRunNumbers&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M303.61,-2636.9C353.22,-2622.66 426.9,-2601.52 481.37,-2585.88"/>
<polygon fill="black" stroke="black" points="482.24,-2589.28 490.88,-2583.15 480.31,-2582.55 482.24,-2589.28"/>
</g>
<!-- NormWavelengthRange -->
<g id="node27" class="node">
<title>NormWavelengthRange</title>
<ellipse fill="khaki" stroke="black" cx="389.27" cy="-1789.5" rx="155.38" ry="18"/>
<text text-anchor="middle" x="389.27" y="-1784.83" font-family="Helvetica,sans-Serif" font-size="14.00">wavelength integration range</text>
</g>
<!-- NormWavelengthRange&#45;&gt;integrateWavelengthV -->
<g id="edge25" class="edge">
<title>NormWavelengthRange&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M415.34,-1771.26C435.5,-1757.94 463.62,-1739.35 485.82,-1724.68"/>
<polygon fill="black" stroke="black" points="487.57,-1727.72 493.98,-1719.29 483.71,-1721.88 487.57,-1727.72"/>
</g>
<!-- groupDetectors -->
<g id="node28" class="node">
<title>groupDetectors</title>
<ellipse fill="khaki" stroke="black" cx="434.27" cy="-961.5" rx="213.25" ry="18"/>
<text text-anchor="middle" x="434.27" y="-956.83" font-family="Helvetica,sans-Serif" font-size="14.00">group detectors by tube or low&#45;resolution</text>
</g>
<!-- groupDetectors&#45;&gt;checkgroupDetectors -->
<g id="edge42" class="edge">
<title>groupDetectors&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M436.98,-943.2C438.14,-935.82 439.53,-927.02 440.83,-918.75"/>
<polygon fill="black" stroke="black" points="444.25,-919.52 442.34,-909.1 437.33,-918.43 444.25,-919.52"/>
</g>
<!-- runNumbers -->
<g id="node29" class="node">
<title>runNumbers</title>
<ellipse fill="khaki" stroke="black" cx="844.27" cy="-2653.5" rx="113.29" ry="18"/>
<text text-anchor="middle" x="844.27" y="-2648.82" font-family="Helvetica,sans-Serif" font-size="14.00">sample run numbers</text>
</g>
<!-- runNumbers&#45;&gt;aggregateS -->
<g id="edge8" class="edge">
<title>runNumbers&#45;&gt;aggregateS</title>
<path fill="none" stroke="black" d="M844.27,-2635.26C844.27,-2623.43 844.27,-2607.45 844.27,-2593.75"/>
<polygon fill="black" stroke="black" points="847.77,-2593.97 844.27,-2583.97 840.77,-2593.97 847.77,-2593.97"/>
</g>
<!-- checkMaskFile -->
<g id="node30" class="node">
<title>checkMaskFile</title>
<polygon fill="limegreen" stroke="black" points="1012.27,-2832.75 871.4,-2814.75 1012.27,-2796.75 1153.14,-2814.75 1012.27,-2832.75"/>
<text text-anchor="middle" x="1012.27" y="-2810.07" font-family="Helvetica,sans-Serif" font-size="14.00">custom mask file?</text>
</g>
<!-- checkMaskFile&#45;&gt;maskFile -->
<g id="edge1" class="edge">
<title>checkMaskFile&#45;&gt;maskFile</title>
<path fill="none" stroke="black" d="M996.41,-2798.55C982.54,-2785.25 962.15,-2765.7 946.1,-2750.31"/>
<polygon fill="black" stroke="black" points="948.9,-2748.15 939.26,-2743.75 944.06,-2753.2 948.9,-2748.15"/>
<text text-anchor="middle" x="985.52" y="-2765.45" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMaskFile&#45;&gt;defaultMaskFile -->
<g id="edge2" class="edge">
<title>checkMaskFile&#45;&gt;defaultMaskFile</title>
<path fill="none" stroke="black" d="M1028.12,-2798.55C1041.73,-2785.5 1061.62,-2766.43 1077.52,-2751.18"/>
<polygon fill="black" stroke="black" points="1079.53,-2754.11 1084.32,-2744.66 1074.68,-2749.06 1079.53,-2754.11"/>
<text text-anchor="middle" x="1074.64" y="-2765.45" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium -->
<g id="node31" class="node">
<title>checkDivideByVanadium</title>
<polygon fill="limegreen" stroke="black" points="553.27,-2671.5 393.79,-2653.5 553.27,-2635.5 712.74,-2653.5 553.27,-2671.5"/>
<text text-anchor="middle" x="553.27" y="-2648.82" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkDivideByVanadium&#45;&gt;aggregateV -->
<g id="edge6" class="edge">
<title>checkDivideByVanadium&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M553.27,-2635.26C553.27,-2623.43 553.27,-2607.45 553.27,-2593.75"/>
<polygon fill="black" stroke="black" points="556.77,-2593.97 553.27,-2583.97 549.77,-2593.97 556.77,-2593.97"/>
<text text-anchor="middle" x="564.52" y="-2604.2" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;moderatorTzeroLinearM -->
<g id="edge15" class="edge">
<title>checkMonNorm&#45;&gt;moderatorTzeroLinearM</title>
<path fill="none" stroke="black" d="M826.03,-2259.65C810.67,-2246.51 788.42,-2227.48 770.72,-2212.34"/>
<polygon fill="black" stroke="black" points="773.46,-2210.08 763.59,-2206.24 768.91,-2215.4 773.46,-2210.08"/>
<text text-anchor="middle" x="813.52" y="-2226.95" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;checkIsVanadium -->
<g id="edge16" class="edge">
<title>checkMonNorm&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M880.73,-2261.19C909.66,-2247.38 945.27,-2223.22 945.27,-2188 945.27,-2188 945.27,-2188 945.27,-1950.75 945.27,-1934.16 936.99,-1917.79 928.06,-1904.96"/>
<polygon fill="black" stroke="black" points="930.95,-1902.98 922.14,-1897.09 925.36,-1907.19 930.95,-1902.98"/>
<text text-anchor="middle" x="954.64" y="-2064.7" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkByQSlice&#45;&gt;convertUnitsToEnergyV -->
<g id="edge38" class="edge">
<title>checkByQSlice&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M712.07,-1402.36C661.47,-1392.36 611.27,-1370.07 611.27,-1321 611.27,-1321 611.27,-1321 611.27,-1193.75 611.27,-1152.16 649.19,-1130.32 691.24,-1118.87"/>
<polygon fill="black" stroke="black" points="691.97,-1122.3 700.82,-1116.48 690.27,-1115.51 691.97,-1122.3"/>
<text text-anchor="middle" x="622.52" y="-1279.33" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2 -->
<g id="node34" class="node">
<title>checkNormalizeByDetectorID2</title>
<polygon fill="limegreen" stroke="black" points="751.27,-1807.5 562.78,-1789.5 751.27,-1771.5 939.75,-1789.5 751.27,-1807.5"/>
<text text-anchor="middle" x="751.27" y="-1784.83" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV -->
<g id="edge22" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M714.57,-1774.58C677.74,-1760.61 620.5,-1738.9 577.86,-1722.72"/>
<polygon fill="black" stroke="black" points="579.36,-1719.54 568.77,-1719.27 576.88,-1726.09 579.36,-1719.54"/>
<text text-anchor="middle" x="667.52" y="-1740.2" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge23" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M748.86,-1771.35C742.93,-1729.06 727.55,-1619.47 720.24,-1567.34"/>
<polygon fill="black" stroke="black" points="723.75,-1567.18 718.9,-1557.77 716.82,-1568.16 723.75,-1567.18"/>
<text text-anchor="middle" x="742.64" y="-1650.95" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkgroupDetectors&#45;&gt;groupingDetectorsV -->
<g id="edge43" class="edge">
<title>checkgroupDetectors&#45;&gt;groupingDetectorsV</title>
<path fill="none" stroke="black" d="M430.25,-872.9C417.82,-860 399.94,-841.42 385.49,-826.42"/>
<polygon fill="black" stroke="black" points="388.39,-824.37 378.93,-819.6 383.34,-829.23 388.39,-824.37"/>
<text text-anchor="middle" x="421.52" y="-840.2" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkgroupDetectors&#45;&gt;SofQW3V -->
<g id="edge45" class="edge">
<title>checkgroupDetectors&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M448.34,-871.61C451.59,-850.37 455.23,-812.97 447.27,-782.25 444.82,-772.8 440.32,-763.25 435.54,-754.86"/>
<polygon fill="black" stroke="black" points="438.68,-753.28 430.47,-746.57 432.7,-756.93 438.68,-753.28"/>
<text text-anchor="middle" x="460.64" y="-795.58" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2 -->
<g id="edge21" class="edge">
<title>checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2</title>
<path fill="none" stroke="black" d="M878.91,-1862.35C853.52,-1848.06 815.55,-1826.69 787.62,-1810.97"/>
<polygon fill="black" stroke="black" points="789.58,-1808.05 779.15,-1806.19 786.14,-1814.15 789.58,-1808.05"/>
<text text-anchor="middle" x="876.77" y="-1829.45" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkDivideByVanadium2 -->
<g id="node37" class="node">
<title>checkDivideByVanadium2</title>
<polygon fill="limegreen" stroke="black" points="1026.27,-1483 866.79,-1465 1026.27,-1447 1185.74,-1465 1026.27,-1483"/>
<text text-anchor="middle" x="1026.27" y="-1460.33" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkDivideByVanadium2 -->
<g id="edge24" class="edge">
<title>checkIsVanadium&#45;&gt;checkDivideByVanadium2</title>
<path fill="none" stroke="black" d="M947.71,-1863.31C978.17,-1849.76 1014.27,-1826.17 1014.27,-1790.5 1014.27,-1790.5 1014.27,-1790.5 1014.27,-1537 1014.27,-1522.64 1016.68,-1506.88 1019.34,-1493.86"/>
<polygon fill="black" stroke="black" points="1022.72,-1494.79 1021.47,-1484.27 1015.89,-1493.28 1022.72,-1494.79"/>
<text text-anchor="middle" x="1040.14" y="-1650.95" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV -->
<g id="edge36" class="edge">
<title>checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M1038.6,-1447.98C1042.51,-1442.25 1046.52,-1435.58 1049.27,-1429 1061.67,-1399.23 1064.27,-1390.25 1064.27,-1358 1064.27,-1358 1064.27,-1358 1064.27,-1193.75 1064.27,-1159.89 984.5,-1136.83 913,-1122.97"/>
<polygon fill="black" stroke="black" points="914.03,-1119.6 903.55,-1121.18 912.73,-1126.48 914.03,-1119.6"/>
<text text-anchor="middle" x="1073.64" y="-1279.33" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;maskDetectors2 -->
<g id="edge30" class="edge">
<title>checkDivideByVanadium2&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M1025.68,-1446.8C1024.17,-1430.57 1019.32,-1406.75 1004.27,-1393 990.73,-1380.63 950.8,-1371.96 913.74,-1366.34"/>
<polygon fill="black" stroke="black" points="914.26,-1362.88 903.86,-1364.91 913.25,-1369.81 914.26,-1362.88"/>
<text text-anchor="middle" x="1033.52" y="-1406.33" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice -->
<g id="node40" class="node">
<title>checkNormalizeByQslice</title>
<polygon fill="limegreen" stroke="black" points="532.27,-584 377.26,-566 532.27,-548 687.27,-566 532.27,-584"/>
<text text-anchor="middle" x="532.27" y="-561.33" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by Q slice</text>
</g>
<!-- checkIsVanadium2&#45;&gt;checkNormalizeByQslice -->
<g id="edge48" class="edge">
<title>checkIsVanadium2&#45;&gt;checkNormalizeByQslice</title>
<path fill="none" stroke="black" d="M438.09,-638.45C456.31,-624.63 482.95,-604.41 503.25,-589.01"/>
<polygon fill="black" stroke="black" points="505.31,-591.85 511.16,-583.01 501.08,-586.27 505.31,-591.85"/>
<text text-anchor="middle" x="510.14" y="-605.95" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- vanadiumStructureFactorQE -->
<g id="node46" class="node">
<title>vanadiumStructureFactorQE</title>
<polygon fill="grey" stroke="black" points="359.15,-584 268.66,-584 245.38,-548 335.87,-548 359.15,-584"/>
<text text-anchor="middle" x="302.27" y="-559.83" font-family="Times,serif" font-size="14.00">Sv(Q,E)</text>
</g>
<!-- checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE -->
<g id="edge47" class="edge">
<title>checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE</title>
<path fill="none" stroke="black" d="M396.44,-638.45C379.12,-625.31 354.17,-606.38 334.31,-591.31"/>
<polygon fill="black" stroke="black" points="336.59,-588.65 326.51,-585.39 332.36,-594.23 336.59,-588.65"/>
<text text-anchor="middle" x="403.77" y="-605.95" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge35" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M836.62,-1266.08C830.1,-1235.79 816.37,-1172.03 808.39,-1134.93"/>
<polygon fill="black" stroke="black" points="811.85,-1134.41 806.33,-1125.37 805.01,-1135.88 811.85,-1134.41"/>
<text text-anchor="middle" x="833.64" y="-1190.08" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge33" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M820.32,-1267.6C803.26,-1254.43 778.39,-1235.23 758.66,-1219.99"/>
<polygon fill="black" stroke="black" points="760.97,-1217.36 750.92,-1214.01 756.7,-1222.9 760.97,-1217.36"/>
<text text-anchor="middle" x="804.52" y="-1234.7" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge49" class="edge">
<title>checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M513.35,-549.85C497.19,-536.91 473.51,-517.95 453.96,-502.29"/>
<polygon fill="black" stroke="black" points="456.2,-499.59 446.2,-496.07 451.82,-505.06 456.2,-499.59"/>
<text text-anchor="middle" x="496.52" y="-516.7" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;sampleStructureFactor -->
<g id="edge54" class="edge">
<title>checkNormalizeByQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M532.27,-547.65C532.27,-529.43 532.27,-499.95 532.27,-474.5 532.27,-474.5 532.27,-474.5 532.27,-323.25 532.27,-305.75 521.8,-289.79 510.17,-277.45"/>
<polygon fill="black" stroke="black" points="512.73,-275.05 503.13,-270.57 507.84,-280.06 512.73,-275.05"/>
<text text-anchor="middle" x="541.64" y="-392.57" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- datFile -->
<g id="node49" class="node">
<title>datFile</title>
<polygon fill="grey" stroke="black" points="158.53,-36 32.44,-36 0,0 126.09,0 158.53,-36"/>
<text text-anchor="middle" x="79.27" y="-11.82" font-family="Times,serif" font-size="14.00">_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;datFile -->
<g id="edge57" class="edge">
<title>checkDivideByVanadium3&#45;&gt;datFile</title>
<path fill="none" stroke="black" d="M241.68,-92.42C211.11,-78.61 163.64,-57.14 127.89,-40.98"/>
<polygon fill="black" stroke="black" points="129.61,-37.92 119.06,-36.99 126.73,-44.3 129.61,-37.92"/>
<text text-anchor="middle" x="201.64" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedDatFile -->
<g id="node50" class="node">
<title>dividedDatFile</title>
<polygon fill="grey" stroke="black" points="423.59,-36 227.41,-36 176.94,0 373.12,0 423.59,-36"/>
<text text-anchor="middle" x="300.27" y="-11.82" font-family="Times,serif" font-size="14.00">_divided_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;dividedDatFile -->
<g id="edge58" class="edge">
<title>checkDivideByVanadium3&#45;&gt;dividedDatFile</title>
<path fill="none" stroke="black" d="M277.66,-89.43C281.53,-77.39 286.81,-60.91 291.3,-46.92"/>
<polygon fill="black" stroke="black" points="294.51,-48.4 294.23,-37.81 287.84,-46.26 294.51,-48.4"/>
<text text-anchor="middle" x="299.52" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- sqwFile -->
<g id="node51" class="node">
<title>sqwFile</title>
<polygon fill="grey" stroke="black" points="661.63,-36 532.2,-36 498.9,0 628.33,0 661.63,-36"/>
<text text-anchor="middle" x="580.27" y="-11.82" font-family="Times,serif" font-size="14.00">_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;sqwFile -->
<g id="edge61" class="edge">
<title>checkDivideByVanadium4&#45;&gt;sqwFile</title>
<path fill="none" stroke="black" d="M603.67,-89.43C599.67,-77.39 594.2,-60.91 589.55,-46.92"/>
<polygon fill="black" stroke="black" points="592.99,-46.19 586.52,-37.8 586.35,-48.4 592.99,-46.19"/>
<text text-anchor="middle" x="606.64" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedSqwFile -->
<g id="node52" class="node">
<title>dividedSqwFile</title>
<polygon fill="grey" stroke="black" points="930.69,-36 731.17,-36 679.84,0 879.36,0 930.69,-36"/>
<text text-anchor="middle" x="805.27" y="-11.82" font-family="Times,serif" font-size="14.00">_divided_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;dividedSqwFile -->
<g id="edge62" class="edge">
<title>checkDivideByVanadium4&#45;&gt;dividedSqwFile</title>
<path fill="none" stroke="black" d="M640.32,-92.42C671.37,-78.61 719.58,-57.14 755.88,-40.98"/>
<polygon fill="black" stroke="black" points="757.16,-44.25 764.87,-36.98 754.31,-37.85 757.16,-44.25"/>
<text text-anchor="middle" x="735.52" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- maskData&#45;&gt;maskDetectors -->
<g id="edge11" class="edge">
<title>maskData&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M970.31,-2545.77C947.97,-2536.46 920.29,-2524.93 896.57,-2515.04"/>
<polygon fill="black" stroke="black" points="897.96,-2511.83 887.38,-2511.21 895.26,-2518.29 897.96,-2511.83"/>
</g>
<!-- basisNormMask&#45;&gt;maskDetectors2 -->
<g id="edge31" class="edge">
<title>basisNormMask&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M647.04,-1446.56C641.08,-1441.69 635.65,-1435.83 632.27,-1429 625.16,-1414.66 621.93,-1405.22 632.27,-1393 649.45,-1372.68 714.16,-1364.15 766.9,-1360.58"/>
<polygon fill="black" stroke="black" points="767.02,-1364.08 776.78,-1359.96 766.58,-1357.09 767.02,-1364.08"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge27" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M566,-1593.71C593.24,-1583.79 628.34,-1571.01 657.77,-1560.3"/>
<polygon fill="black" stroke="black" points="658.71,-1563.68 666.91,-1556.97 656.31,-1557.1 658.71,-1563.68"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge34" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M524.34,-1592.55C526.59,-1578.22 529.27,-1557.36 529.27,-1539 529.27,-1539 529.27,-1539 529.27,-1283 529.27,-1231.45 586.17,-1210.09 638.96,-1201.38"/>
<polygon fill="black" stroke="black" points="639.28,-1204.87 648.65,-1199.92 638.24,-1197.94 639.28,-1204.87"/>
</g>
<!-- vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge50" class="edge">
<title>vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M324.82,-547.55C341.49,-534.66 364.5,-516.86 383.64,-502.06"/>
<polygon fill="black" stroke="black" points="385.71,-504.88 391.48,-495.99 381.43,-499.34 385.71,-504.88"/>
</g>
<!-- vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice -->
<g id="edge52" class="edge">
<title>vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice</title>
<path fill="none" stroke="black" d="M424.99,-379.06C425.32,-371.39 425.71,-362.14 426.07,-353.49"/>
<polygon fill="black" stroke="black" points="429.56,-353.93 426.48,-343.79 422.56,-353.63 429.56,-353.93"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToDaveGroup -->
<g id="edge55" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToDaveGroup</title>
<path fill="none" stroke="black" d="M457.76,-232.95C447.2,-224.45 434.29,-214.06 422.73,-204.76"/>
<polygon fill="black" stroke="black" points="424.99,-202.09 415,-198.55 420.6,-207.54 424.99,-202.09"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToNexus -->
<g id="edge59" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToNexus</title>
<path fill="none" stroke="black" d="M506.49,-232.77C520.25,-223.93 537.13,-213.09 551.98,-203.55"/>
<polygon fill="black" stroke="black" points="553.59,-206.68 560.11,-198.33 549.81,-200.79 553.59,-206.68"/>
</g>
</g>
</svg>
