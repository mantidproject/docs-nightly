<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.0.0 (20240803.0821)
 -->
<!-- Title: BASISReduction Pages: 1 -->
<svg width="1243pt" height="2877pt"
 viewBox="0.00 0.00 1242.98 2877.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2873)">
<title>BASISReduction</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2873 1238.98,-2873 1238.98,4 -4,4"/>
<text text-anchor="middle" x="617.49" y="-2851.7" font-family="Helvetica,sans-Serif" font-size="14.00">BASISReduction Flowchart</text>
<!-- loadMaskFile -->
<g id="node1" class="node">
<title>loadMaskFile</title>
<path fill="lightskyblue" stroke="black" d="M1095.64,-2681.5C1095.64,-2681.5 1006.89,-2681.5 1006.89,-2681.5 1000.89,-2681.5 994.89,-2675.5 994.89,-2669.5 994.89,-2669.5 994.89,-2657.5 994.89,-2657.5 994.89,-2651.5 1000.89,-2645.5 1006.89,-2645.5 1006.89,-2645.5 1095.64,-2645.5 1095.64,-2645.5 1101.64,-2645.5 1107.64,-2651.5 1107.64,-2657.5 1107.64,-2657.5 1107.64,-2669.5 1107.64,-2669.5 1107.64,-2675.5 1101.64,-2681.5 1095.64,-2681.5"/>
<text text-anchor="middle" x="1051.27" y="-2658.82" font-family="Helvetica,sans-Serif" font-size="14.00">load mask file</text>
</g>
<!-- maskData -->
<g id="node43" class="node">
<title>maskData</title>
<polygon fill="grey" stroke="black" points="1073.46,-2592.25 1006.34,-2592.25 989.07,-2556.25 1056.19,-2556.25 1073.46,-2592.25"/>
<text text-anchor="middle" x="1031.27" y="-2568.07" font-family="Times,serif" font-size="14.00">mask</text>
</g>
<!-- loadMaskFile&#45;&gt;maskData -->
<g id="edge5" class="edge">
<title>loadMaskFile&#45;&gt;maskData</title>
<path fill="none" stroke="black" d="M1047.31,-2645.26C1044.57,-2633.31 1040.87,-2617.13 1037.7,-2603.33"/>
<polygon fill="black" stroke="black" points="1041.19,-2602.89 1035.55,-2593.93 1034.37,-2604.46 1041.19,-2602.89"/>
</g>
<!-- aggregateV -->
<g id="node2" class="node">
<title>aggregateV</title>
<path fill="lightskyblue" stroke="black" d="M658.27,-2592.25C658.27,-2592.25 486.27,-2592.25 486.27,-2592.25 480.27,-2592.25 474.27,-2586.25 474.27,-2580.25 474.27,-2580.25 474.27,-2568.25 474.27,-2568.25 474.27,-2562.25 480.27,-2556.25 486.27,-2556.25 486.27,-2556.25 658.27,-2556.25 658.27,-2556.25 664.27,-2556.25 670.27,-2562.25 670.27,-2568.25 670.27,-2568.25 670.27,-2580.25 670.27,-2580.25 670.27,-2586.25 664.27,-2592.25 658.27,-2592.25"/>
<text text-anchor="middle" x="572.27" y="-2569.57" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate Vanadium runs</text>
</g>
<!-- maskDetectors -->
<g id="node3" class="node">
<title>maskDetectors</title>
<path fill="lightskyblue" stroke="black" d="M912.89,-2519.25C912.89,-2519.25 813.64,-2519.25 813.64,-2519.25 807.64,-2519.25 801.64,-2513.25 801.64,-2507.25 801.64,-2507.25 801.64,-2495.25 801.64,-2495.25 801.64,-2489.25 807.64,-2483.25 813.64,-2483.25 813.64,-2483.25 912.89,-2483.25 912.89,-2483.25 918.89,-2483.25 924.89,-2489.25 924.89,-2495.25 924.89,-2495.25 924.89,-2507.25 924.89,-2507.25 924.89,-2513.25 918.89,-2519.25 912.89,-2519.25"/>
<text text-anchor="middle" x="863.27" y="-2496.57" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- aggregateV&#45;&gt;maskDetectors -->
<g id="edge10" class="edge">
<title>aggregateV&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M643.82,-2555.79C688.35,-2544.93 745.46,-2530.99 790.25,-2520.06"/>
<polygon fill="black" stroke="black" points="791,-2523.48 799.89,-2517.71 789.34,-2516.68 791,-2523.48"/>
</g>
<!-- moderatorTzeroLinear -->
<g id="node4" class="node">
<title>moderatorTzeroLinear</title>
<path fill="lightskyblue" stroke="black" d="M996.14,-2446.25C996.14,-2446.25 730.39,-2446.25 730.39,-2446.25 724.39,-2446.25 718.39,-2440.25 718.39,-2434.25 718.39,-2434.25 718.39,-2422.25 718.39,-2422.25 718.39,-2416.25 724.39,-2410.25 730.39,-2410.25 730.39,-2410.25 996.14,-2410.25 996.14,-2410.25 1002.14,-2410.25 1008.14,-2416.25 1008.14,-2422.25 1008.14,-2422.25 1008.14,-2434.25 1008.14,-2434.25 1008.14,-2440.25 1002.14,-2446.25 996.14,-2446.25"/>
<text text-anchor="middle" x="863.27" y="-2423.57" font-family="Helvetica,sans-Serif" font-size="14.00">remove emission delay from moderator</text>
</g>
<!-- maskDetectors&#45;&gt;moderatorTzeroLinear -->
<g id="edge12" class="edge">
<title>maskDetectors&#45;&gt;moderatorTzeroLinear</title>
<path fill="none" stroke="black" d="M863.27,-2483.06C863.27,-2475.48 863.27,-2466.35 863.27,-2457.79"/>
<polygon fill="black" stroke="black" points="866.77,-2457.79 863.27,-2447.79 859.77,-2457.79 866.77,-2457.79"/>
</g>
<!-- convertUnitsToWavelength -->
<g id="node5" class="node">
<title>convertUnitsToWavelength</title>
<path fill="lightskyblue" stroke="black" d="M956.39,-2373.25C956.39,-2373.25 770.14,-2373.25 770.14,-2373.25 764.14,-2373.25 758.14,-2367.25 758.14,-2361.25 758.14,-2361.25 758.14,-2349.25 758.14,-2349.25 758.14,-2343.25 764.14,-2337.25 770.14,-2337.25 770.14,-2337.25 956.39,-2337.25 956.39,-2337.25 962.39,-2337.25 968.39,-2343.25 968.39,-2349.25 968.39,-2349.25 968.39,-2361.25 968.39,-2361.25 968.39,-2367.25 962.39,-2373.25 956.39,-2373.25"/>
<text text-anchor="middle" x="863.27" y="-2350.57" font-family="Helvetica,sans-Serif" font-size="14.00">convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength -->
<g id="edge13" class="edge">
<title>moderatorTzeroLinear&#45;&gt;convertUnitsToWavelength</title>
<path fill="none" stroke="black" d="M863.27,-2410.06C863.27,-2402.48 863.27,-2393.35 863.27,-2384.79"/>
<polygon fill="black" stroke="black" points="866.77,-2384.79 863.27,-2374.79 859.77,-2384.79 866.77,-2384.79"/>
</g>
<!-- checkMonNorm -->
<g id="node32" class="node">
<title>checkMonNorm</title>
<polygon fill="limegreen" stroke="black" points="863.27,-2300.25 667.34,-2282.25 863.27,-2264.25 1059.19,-2282.25 863.27,-2300.25"/>
<text text-anchor="middle" x="863.27" y="-2277.57" font-family="Helvetica,sans-Serif" font-size="14.00">do monitor normalization?</text>
</g>
<!-- convertUnitsToWavelength&#45;&gt;checkMonNorm -->
<g id="edge14" class="edge">
<title>convertUnitsToWavelength&#45;&gt;checkMonNorm</title>
<path fill="none" stroke="black" d="M863.27,-2337.06C863.27,-2329.48 863.27,-2320.35 863.27,-2311.79"/>
<polygon fill="black" stroke="black" points="866.77,-2311.79 863.27,-2301.79 859.77,-2311.79 866.77,-2311.79"/>
</g>
<!-- moderatorTzeroLinearM -->
<g id="node6" class="node">
<title>moderatorTzeroLinearM</title>
<path fill="lightskyblue" stroke="black" d="M874.52,-2211C874.52,-2211 548.02,-2211 548.02,-2211 542.02,-2211 536.02,-2205 536.02,-2199 536.02,-2199 536.02,-2187 536.02,-2187 536.02,-2181 542.02,-2175 548.02,-2175 548.02,-2175 874.52,-2175 874.52,-2175 880.52,-2175 886.52,-2181 886.52,-2187 886.52,-2187 886.52,-2199 886.52,-2199 886.52,-2205 880.52,-2211 874.52,-2211"/>
<text text-anchor="middle" x="711.27" y="-2188.32" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: remove emission delay from moderator</text>
</g>
<!-- convertUnitsToWavelengthM -->
<g id="node7" class="node">
<title>convertUnitsToWavelengthM</title>
<path fill="lightskyblue" stroke="black" d="M863.77,-2138C863.77,-2138 616.77,-2138 616.77,-2138 610.77,-2138 604.77,-2132 604.77,-2126 604.77,-2126 604.77,-2114 604.77,-2114 604.77,-2108 610.77,-2102 616.77,-2102 616.77,-2102 863.77,-2102 863.77,-2102 869.77,-2102 875.77,-2108 875.77,-2114 875.77,-2114 875.77,-2126 875.77,-2126 875.77,-2132 869.77,-2138 863.77,-2138"/>
<text text-anchor="middle" x="740.27" y="-2115.32" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: convert units to wavelength</text>
</g>
<!-- moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM -->
<g id="edge17" class="edge">
<title>moderatorTzeroLinearM&#45;&gt;convertUnitsToWavelengthM</title>
<path fill="none" stroke="black" d="M718.29,-2174.81C721.49,-2166.96 725.37,-2157.47 728.97,-2148.66"/>
<polygon fill="black" stroke="black" points="732.2,-2150.01 732.74,-2139.43 725.72,-2147.36 732.2,-2150.01"/>
</g>
<!-- OneMinusExponentialCorM -->
<g id="node8" class="node">
<title>OneMinusExponentialCorM</title>
<path fill="lightskyblue" stroke="black" d="M866.52,-2048.75C866.52,-2048.75 660.02,-2048.75 660.02,-2048.75 654.02,-2048.75 648.02,-2042.75 648.02,-2036.75 648.02,-2036.75 648.02,-2024.75 648.02,-2024.75 648.02,-2018.75 654.02,-2012.75 660.02,-2012.75 660.02,-2012.75 866.52,-2012.75 866.52,-2012.75 872.52,-2012.75 878.52,-2018.75 878.52,-2024.75 878.52,-2024.75 878.52,-2036.75 878.52,-2036.75 878.52,-2042.75 872.52,-2048.75 866.52,-2048.75"/>
<text text-anchor="middle" x="763.27" y="-2026.08" font-family="Helvetica,sans-Serif" font-size="14.00">Monitor: exponential correction</text>
</g>
<!-- convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM -->
<g id="edge18" class="edge">
<title>convertUnitsToWavelengthM&#45;&gt;OneMinusExponentialCorM</title>
<path fill="none" stroke="black" d="M744.81,-2101.76C747.96,-2089.81 752.23,-2073.63 755.86,-2059.83"/>
<polygon fill="black" stroke="black" points="759.18,-2060.98 758.34,-2050.42 752.41,-2059.19 759.18,-2060.98"/>
</g>
<!-- divideByMonitor -->
<g id="node9" class="node">
<title>divideByMonitor</title>
<path fill="lightskyblue" stroke="black" d="M861.39,-1975.75C861.39,-1975.75 747.14,-1975.75 747.14,-1975.75 741.14,-1975.75 735.14,-1969.75 735.14,-1963.75 735.14,-1963.75 735.14,-1951.75 735.14,-1951.75 735.14,-1945.75 741.14,-1939.75 747.14,-1939.75 747.14,-1939.75 861.39,-1939.75 861.39,-1939.75 867.39,-1939.75 873.39,-1945.75 873.39,-1951.75 873.39,-1951.75 873.39,-1963.75 873.39,-1963.75 873.39,-1969.75 867.39,-1975.75 861.39,-1975.75"/>
<text text-anchor="middle" x="804.27" y="-1953.08" font-family="Helvetica,sans-Serif" font-size="14.00">divide by monitor</text>
</g>
<!-- OneMinusExponentialCorM&#45;&gt;divideByMonitor -->
<g id="edge19" class="edge">
<title>OneMinusExponentialCorM&#45;&gt;divideByMonitor</title>
<path fill="none" stroke="black" d="M773.19,-2012.56C777.87,-2004.45 783.57,-1994.59 788.8,-1985.53"/>
<polygon fill="black" stroke="black" points="791.7,-1987.5 793.67,-1977.09 785.64,-1984 791.7,-1987.5"/>
</g>
<!-- checkIsVanadium -->
<g id="node36" class="node">
<title>checkIsVanadium</title>
<polygon fill="limegreen" stroke="black" points="865.27,-1902.75 621.72,-1884.75 865.27,-1866.75 1108.81,-1884.75 865.27,-1902.75"/>
<text text-anchor="middle" x="865.27" y="-1880.08" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- divideByMonitor&#45;&gt;checkIsVanadium -->
<g id="edge20" class="edge">
<title>divideByMonitor&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M819.03,-1939.56C826.51,-1930.85 835.73,-1920.12 843.97,-1910.54"/>
<polygon fill="black" stroke="black" points="846.62,-1912.82 850.48,-1902.95 841.31,-1908.26 846.62,-1912.82"/>
</g>
<!-- integrateWavelengthV -->
<g id="node10" class="node">
<title>integrateWavelengthV</title>
<path fill="lightskyblue" stroke="black" d="M575.64,-1724.25C575.64,-1724.25 360.89,-1724.25 360.89,-1724.25 354.89,-1724.25 348.89,-1718.25 348.89,-1712.25 348.89,-1712.25 348.89,-1700.25 348.89,-1700.25 348.89,-1694.25 354.89,-1688.25 360.89,-1688.25 360.89,-1688.25 575.64,-1688.25 575.64,-1688.25 581.64,-1688.25 587.64,-1694.25 587.64,-1700.25 587.64,-1700.25 587.64,-1712.25 587.64,-1712.25 587.64,-1718.25 581.64,-1724.25 575.64,-1724.25"/>
<text text-anchor="middle" x="468.27" y="-1701.58" font-family="Helvetica,sans-Serif" font-size="14.00">integrate along wavelength axis</text>
</g>
<!-- vanadiumStructureFactorL -->
<g id="node45" class="node">
<title>vanadiumStructureFactorL</title>
<polygon fill="grey" stroke="black" points="542.63,-1635 424.33,-1635 393.9,-1599 512.2,-1599 542.63,-1635"/>
<text text-anchor="middle" x="468.27" y="-1610.83" font-family="Times,serif" font-size="14.00">Sv(lambda)</text>
</g>
<!-- integrateWavelengthV&#45;&gt;vanadiumStructureFactorL -->
<g id="edge26" class="edge">
<title>integrateWavelengthV&#45;&gt;vanadiumStructureFactorL</title>
<path fill="none" stroke="black" d="M468.27,-1688.01C468.27,-1676.18 468.27,-1660.2 468.27,-1646.5"/>
<polygon fill="black" stroke="black" points="471.77,-1646.72 468.27,-1636.72 464.77,-1646.72 471.77,-1646.72"/>
</g>
<!-- findDetectorsOutsideLimitsV -->
<g id="node11" class="node">
<title>findDetectorsOutsideLimitsV</title>
<path fill="lightskyblue" stroke="black" d="M803.02,-1562C803.02,-1562 533.52,-1562 533.52,-1562 527.52,-1562 521.52,-1556 521.52,-1550 521.52,-1550 521.52,-1538 521.52,-1538 521.52,-1532 527.52,-1526 533.52,-1526 533.52,-1526 803.02,-1526 803.02,-1526 809.02,-1526 815.02,-1532 815.02,-1538 815.02,-1538 815.02,-1550 815.02,-1550 815.02,-1556 809.02,-1562 803.02,-1562"/>
<text text-anchor="middle" x="668.27" y="-1539.33" font-family="Helvetica,sans-Serif" font-size="14.00">find detectors with low Vanadium signal</text>
</g>
<!-- checkByQSlice -->
<g id="node33" class="node">
<title>checkByQSlice</title>
<polygon fill="limegreen" stroke="black" points="767.27,-1435 578.78,-1417 767.27,-1399 955.75,-1417 767.27,-1435"/>
<text text-anchor="middle" x="767.27" y="-1412.33" font-family="Helvetica,sans-Serif" font-size="14.00">normalization by Q slice?</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice -->
<g id="edge29" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;checkByQSlice</title>
<path fill="none" stroke="black" d="M716.07,-1525.65C732.76,-1517.18 749.89,-1505.22 760.27,-1489 768.22,-1476.57 770.28,-1460.34 770.22,-1446.53"/>
<polygon fill="black" stroke="black" points="773.72,-1446.53 769.78,-1436.69 766.73,-1446.84 773.72,-1446.53"/>
</g>
<!-- basisNormMask -->
<g id="node44" class="node">
<title>basisNormMask</title>
<polygon fill="grey" stroke="black" points="750.79,-1489 559.06,-1489 509.74,-1453 701.47,-1453 750.79,-1489"/>
<text text-anchor="middle" x="630.27" y="-1464.83" font-family="Times,serif" font-size="14.00">low Vanadium mask</text>
</g>
<!-- findDetectorsOutsideLimitsV&#45;&gt;basisNormMask -->
<g id="edge28" class="edge">
<title>findDetectorsOutsideLimitsV&#45;&gt;basisNormMask</title>
<path fill="none" stroke="black" d="M659.07,-1525.81C654.77,-1517.79 649.56,-1508.05 644.75,-1499.07"/>
<polygon fill="black" stroke="black" points="647.9,-1497.53 640.09,-1490.36 641.73,-1500.83 647.9,-1497.53"/>
</g>
<!-- convertUnitsToEnergyV -->
<g id="node12" class="node">
<title>convertUnitsToEnergyV</title>
<path fill="lightskyblue" stroke="black" d="M841.77,-1129.5C841.77,-1129.5 666.77,-1129.5 666.77,-1129.5 660.77,-1129.5 654.77,-1123.5 654.77,-1117.5 654.77,-1117.5 654.77,-1105.5 654.77,-1105.5 654.77,-1099.5 660.77,-1093.5 666.77,-1093.5 666.77,-1093.5 841.77,-1093.5 841.77,-1093.5 847.77,-1093.5 853.77,-1099.5 853.77,-1105.5 853.77,-1105.5 853.77,-1117.5 853.77,-1117.5 853.77,-1123.5 847.77,-1129.5 841.77,-1129.5"/>
<text text-anchor="middle" x="754.27" y="-1106.83" font-family="Helvetica,sans-Serif" font-size="14.00">convert to energy transfer</text>
</g>
<!-- correctKiKfV -->
<g id="node13" class="node">
<title>correctKiKfV</title>
<path fill="lightskyblue" stroke="black" d="M802.77,-1056.5C802.77,-1056.5 705.77,-1056.5 705.77,-1056.5 699.77,-1056.5 693.77,-1050.5 693.77,-1044.5 693.77,-1044.5 693.77,-1032.5 693.77,-1032.5 693.77,-1026.5 699.77,-1020.5 705.77,-1020.5 705.77,-1020.5 802.77,-1020.5 802.77,-1020.5 808.77,-1020.5 814.77,-1026.5 814.77,-1032.5 814.77,-1032.5 814.77,-1044.5 814.77,-1044.5 814.77,-1050.5 808.77,-1056.5 802.77,-1056.5"/>
<text text-anchor="middle" x="754.27" y="-1033.83" font-family="Helvetica,sans-Serif" font-size="14.00">scale by k_i/k_f</text>
</g>
<!-- convertUnitsToEnergyV&#45;&gt;correctKiKfV -->
<g id="edge39" class="edge">
<title>convertUnitsToEnergyV&#45;&gt;correctKiKfV</title>
<path fill="none" stroke="black" d="M754.27,-1093.31C754.27,-1085.73 754.27,-1076.6 754.27,-1068.04"/>
<polygon fill="black" stroke="black" points="757.77,-1068.04 754.27,-1058.04 750.77,-1068.04 757.77,-1068.04"/>
</g>
<!-- RebinEnergy -->
<g id="node14" class="node">
<title>RebinEnergy</title>
<path fill="lightskyblue" stroke="black" d="M878.89,-983.5C878.89,-983.5 629.64,-983.5 629.64,-983.5 623.64,-983.5 617.64,-977.5 617.64,-971.5 617.64,-971.5 617.64,-959.5 617.64,-959.5 617.64,-953.5 623.64,-947.5 629.64,-947.5 629.64,-947.5 878.89,-947.5 878.89,-947.5 884.89,-947.5 890.89,-953.5 890.89,-959.5 890.89,-959.5 890.89,-971.5 890.89,-971.5 890.89,-977.5 884.89,-983.5 878.89,-983.5"/>
<text text-anchor="middle" x="754.27" y="-960.83" font-family="Helvetica,sans-Serif" font-size="14.00">rebin to specified energy parameters</text>
</g>
<!-- correctKiKfV&#45;&gt;RebinEnergy -->
<g id="edge40" class="edge">
<title>correctKiKfV&#45;&gt;RebinEnergy</title>
<path fill="none" stroke="black" d="M754.27,-1020.31C754.27,-1012.73 754.27,-1003.6 754.27,-995.04"/>
<polygon fill="black" stroke="black" points="757.77,-995.04 754.27,-985.04 750.77,-995.04 757.77,-995.04"/>
</g>
<!-- checkgroupDetectors -->
<g id="node35" class="node">
<title>checkgroupDetectors</title>
<polygon fill="limegreen" stroke="black" points="398.27,-910.5 220.19,-892.5 398.27,-874.5 576.34,-892.5 398.27,-910.5"/>
<text text-anchor="middle" x="398.27" y="-887.83" font-family="Helvetica,sans-Serif" font-size="14.00">do we group detectors?</text>
</g>
<!-- RebinEnergy&#45;&gt;checkgroupDetectors -->
<g id="edge41" class="edge">
<title>RebinEnergy&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M666.72,-947.04C605.35,-934.8 524.43,-918.66 467.53,-907.31"/>
<polygon fill="black" stroke="black" points="468.46,-903.93 457.97,-905.41 467.09,-910.8 468.46,-903.93"/>
</g>
<!-- groupingDetectorsV -->
<g id="node15" class="node">
<title>groupingDetectorsV</title>
<path fill="lightskyblue" stroke="black" d="M405.89,-821.25C405.89,-821.25 276.64,-821.25 276.64,-821.25 270.64,-821.25 264.64,-815.25 264.64,-809.25 264.64,-809.25 264.64,-797.25 264.64,-797.25 264.64,-791.25 270.64,-785.25 276.64,-785.25 276.64,-785.25 405.89,-785.25 405.89,-785.25 411.89,-785.25 417.89,-791.25 417.89,-797.25 417.89,-797.25 417.89,-809.25 417.89,-809.25 417.89,-815.25 411.89,-821.25 405.89,-821.25"/>
<text text-anchor="middle" x="341.27" y="-798.58" font-family="Helvetica,sans-Serif" font-size="14.00">group the detectors</text>
</g>
<!-- SofQW3V -->
<g id="node16" class="node">
<title>SofQW3V</title>
<path fill="lightskyblue" stroke="black" d="M550.39,-748.25C550.39,-748.25 244.14,-748.25 244.14,-748.25 238.14,-748.25 232.14,-742.25 232.14,-736.25 232.14,-736.25 232.14,-724.25 232.14,-724.25 232.14,-718.25 238.14,-712.25 244.14,-712.25 244.14,-712.25 550.39,-712.25 550.39,-712.25 556.39,-712.25 562.39,-718.25 562.39,-724.25 562.39,-724.25 562.39,-736.25 562.39,-736.25 562.39,-742.25 556.39,-748.25 550.39,-748.25"/>
<text text-anchor="middle" x="397.27" y="-725.58" font-family="Helvetica,sans-Serif" font-size="14.00">transform to momentum and energy transfer</text>
</g>
<!-- groupingDetectorsV&#45;&gt;SofQW3V -->
<g id="edge44" class="edge">
<title>groupingDetectorsV&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M354.82,-785.06C361.42,-776.69 369.5,-766.45 376.83,-757.15"/>
<polygon fill="black" stroke="black" points="379.45,-759.49 382.9,-749.47 373.96,-755.15 379.45,-759.49"/>
</g>
<!-- checkIsVanadium2 -->
<g id="node38" class="node">
<title>checkIsVanadium2</title>
<polygon fill="limegreen" stroke="black" points="397.27,-675.25 153.72,-657.25 397.27,-639.25 640.81,-657.25 397.27,-675.25"/>
<text text-anchor="middle" x="397.27" y="-652.58" font-family="Helvetica,sans-Serif" font-size="14.00">processing Vanadium or sample?</text>
</g>
<!-- SofQW3V&#45;&gt;checkIsVanadium2 -->
<g id="edge46" class="edge">
<title>SofQW3V&#45;&gt;checkIsVanadium2</title>
<path fill="none" stroke="black" d="M397.27,-712.06C397.27,-704.48 397.27,-695.35 397.27,-686.79"/>
<polygon fill="black" stroke="black" points="400.77,-686.79 397.27,-676.79 393.77,-686.79 400.77,-686.79"/>
</g>
<!-- aggregateS -->
<g id="node17" class="node">
<title>aggregateS</title>
<path fill="lightskyblue" stroke="black" d="M939.89,-2592.25C939.89,-2592.25 786.64,-2592.25 786.64,-2592.25 780.64,-2592.25 774.64,-2586.25 774.64,-2580.25 774.64,-2580.25 774.64,-2568.25 774.64,-2568.25 774.64,-2562.25 780.64,-2556.25 786.64,-2556.25 786.64,-2556.25 939.89,-2556.25 939.89,-2556.25 945.89,-2556.25 951.89,-2562.25 951.89,-2568.25 951.89,-2568.25 951.89,-2580.25 951.89,-2580.25 951.89,-2586.25 945.89,-2592.25 939.89,-2592.25"/>
<text text-anchor="middle" x="863.27" y="-2569.57" font-family="Helvetica,sans-Serif" font-size="14.00">aggregate sample runs</text>
</g>
<!-- aggregateS&#45;&gt;maskDetectors -->
<g id="edge9" class="edge">
<title>aggregateS&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M863.27,-2556.06C863.27,-2548.48 863.27,-2539.35 863.27,-2530.79"/>
<polygon fill="black" stroke="black" points="866.77,-2530.79 863.27,-2520.79 859.77,-2530.79 866.77,-2530.79"/>
</g>
<!-- maskDetectors2 -->
<g id="node18" class="node">
<title>maskDetectors2</title>
<path fill="lightskyblue" stroke="black" d="M841.89,-1381C841.89,-1381 742.64,-1381 742.64,-1381 736.64,-1381 730.64,-1375 730.64,-1369 730.64,-1369 730.64,-1357 730.64,-1357 730.64,-1351 736.64,-1345 742.64,-1345 742.64,-1345 841.89,-1345 841.89,-1345 847.89,-1345 853.89,-1351 853.89,-1357 853.89,-1357 853.89,-1369 853.89,-1369 853.89,-1375 847.89,-1381 841.89,-1381"/>
<text text-anchor="middle" x="792.27" y="-1358.33" font-family="Helvetica,sans-Serif" font-size="14.00">mask detectors</text>
</g>
<!-- checkNormalizeByDetectorID -->
<g id="node39" class="node">
<title>checkNormalizeByDetectorID</title>
<polygon fill="limegreen" stroke="black" points="792.27,-1308 603.78,-1290 792.27,-1272 980.75,-1290 792.27,-1308"/>
<text text-anchor="middle" x="792.27" y="-1285.33" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- maskDetectors2&#45;&gt;checkNormalizeByDetectorID -->
<g id="edge32" class="edge">
<title>maskDetectors2&#45;&gt;checkNormalizeByDetectorID</title>
<path fill="none" stroke="black" d="M792.27,-1344.81C792.27,-1337.23 792.27,-1328.1 792.27,-1319.54"/>
<polygon fill="black" stroke="black" points="795.77,-1319.54 792.27,-1309.54 788.77,-1319.54 795.77,-1319.54"/>
</g>
<!-- DivideByVanadiumDetectorID -->
<g id="node19" class="node">
<title>DivideByVanadiumDetectorID</title>
<path fill="lightskyblue" stroke="black" d="M743.89,-1218.75C743.89,-1218.75 614.64,-1218.75 614.64,-1218.75 608.64,-1218.75 602.64,-1212.75 602.64,-1206.75 602.64,-1206.75 602.64,-1194.75 602.64,-1194.75 602.64,-1188.75 608.64,-1182.75 614.64,-1182.75 614.64,-1182.75 743.89,-1182.75 743.89,-1182.75 749.89,-1182.75 755.89,-1188.75 755.89,-1194.75 755.89,-1194.75 755.89,-1206.75 755.89,-1206.75 755.89,-1212.75 749.89,-1218.75 743.89,-1218.75"/>
<text text-anchor="middle" x="679.27" y="-1196.08" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge37" class="edge">
<title>DivideByVanadiumDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M694.08,-1182.51C704.97,-1169.85 719.95,-1152.42 732.24,-1138.13"/>
<polygon fill="black" stroke="black" points="734.63,-1140.71 738.49,-1130.85 729.32,-1136.15 734.63,-1140.71"/>
<text text-anchor="middle" x="734.52" y="-1151.45" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- DivideByVanadiumQslice -->
<g id="node20" class="node">
<title>DivideByVanadiumQslice</title>
<path fill="lightskyblue" stroke="black" d="M471.89,-344.25C471.89,-344.25 342.64,-344.25 342.64,-344.25 336.64,-344.25 330.64,-338.25 330.64,-332.25 330.64,-332.25 330.64,-320.25 330.64,-320.25 330.64,-314.25 336.64,-308.25 342.64,-308.25 342.64,-308.25 471.89,-308.25 471.89,-308.25 477.89,-308.25 483.89,-314.25 483.89,-320.25 483.89,-320.25 483.89,-332.25 483.89,-332.25 483.89,-338.25 477.89,-344.25 471.89,-344.25"/>
<text text-anchor="middle" x="407.27" y="-321.57" font-family="Helvetica,sans-Serif" font-size="14.00">divide by Vanadium</text>
</g>
<!-- sampleStructureFactor -->
<g id="node48" class="node">
<title>sampleStructureFactor</title>
<polygon fill="grey" stroke="black" points="534.75,-271.25 446.49,-271.25 423.78,-235.25 512.04,-235.25 534.75,-271.25"/>
<text text-anchor="middle" x="479.27" y="-247.07" font-family="Times,serif" font-size="14.00">Ss(Q,E)</text>
</g>
<!-- DivideByVanadiumQslice&#45;&gt;sampleStructureFactor -->
<g id="edge53" class="edge">
<title>DivideByVanadiumQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M424.69,-308.06C433.39,-299.49 444.07,-288.96 453.67,-279.49"/>
<polygon fill="black" stroke="black" points="456.01,-282.1 460.67,-272.59 451.09,-277.12 456.01,-282.1"/>
</g>
<!-- saveToDaveGroup -->
<g id="node21" class="node">
<title>saveToDaveGroup</title>
<path fill="lightskyblue" stroke="black" d="M468.52,-198.25C468.52,-198.25 316.02,-198.25 316.02,-198.25 310.02,-198.25 304.02,-192.25 304.02,-186.25 304.02,-186.25 304.02,-174.25 304.02,-174.25 304.02,-168.25 310.02,-162.25 316.02,-162.25 316.02,-162.25 468.52,-162.25 468.52,-162.25 474.52,-162.25 480.52,-168.25 480.52,-174.25 480.52,-174.25 480.52,-186.25 480.52,-186.25 480.52,-192.25 474.52,-198.25 468.52,-198.25"/>
<text text-anchor="middle" x="392.27" y="-175.57" font-family="Helvetica,sans-Serif" font-size="14.00">save to Dave group file</text>
</g>
<!-- checkDivideByVanadium3 -->
<g id="node41" class="node">
<title>checkDivideByVanadium3</title>
<polygon fill="limegreen" stroke="black" points="272.27,-125.25 112.79,-107.25 272.27,-89.25 431.74,-107.25 272.27,-125.25"/>
<text text-anchor="middle" x="272.27" y="-102.58" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToDaveGroup&#45;&gt;checkDivideByVanadium3 -->
<g id="edge56" class="edge">
<title>saveToDaveGroup&#45;&gt;checkDivideByVanadium3</title>
<path fill="none" stroke="black" d="M362.91,-161.88C345.81,-151.77 324.18,-138.97 306.34,-128.41"/>
<polygon fill="black" stroke="black" points="308.56,-125.66 298.17,-123.58 304.99,-131.68 308.56,-125.66"/>
</g>
<!-- saveToNexus -->
<g id="node22" class="node">
<title>saveToNexus</title>
<path fill="lightskyblue" stroke="black" d="M646.14,-198.25C646.14,-198.25 530.39,-198.25 530.39,-198.25 524.39,-198.25 518.39,-192.25 518.39,-186.25 518.39,-186.25 518.39,-174.25 518.39,-174.25 518.39,-168.25 524.39,-162.25 530.39,-162.25 530.39,-162.25 646.14,-162.25 646.14,-162.25 652.14,-162.25 658.14,-168.25 658.14,-174.25 658.14,-174.25 658.14,-186.25 658.14,-186.25 658.14,-192.25 652.14,-198.25 646.14,-198.25"/>
<text text-anchor="middle" x="588.27" y="-175.57" font-family="Helvetica,sans-Serif" font-size="14.00">save to Nexus file</text>
</g>
<!-- checkDivideByVanadium4 -->
<g id="node42" class="node">
<title>checkDivideByVanadium4</title>
<polygon fill="limegreen" stroke="black" points="609.27,-125.25 449.79,-107.25 609.27,-89.25 768.74,-107.25 609.27,-125.25"/>
<text text-anchor="middle" x="609.27" y="-102.58" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- saveToNexus&#45;&gt;checkDivideByVanadium4 -->
<g id="edge60" class="edge">
<title>saveToNexus&#45;&gt;checkDivideByVanadium4</title>
<path fill="none" stroke="black" d="M593.35,-162.06C595.68,-154.19 598.5,-144.66 601.11,-135.82"/>
<polygon fill="black" stroke="black" points="604.46,-136.82 603.94,-126.24 597.75,-134.84 604.46,-136.82"/>
</g>
<!-- integrateVanadiumAroundElasticLine -->
<g id="node23" class="node">
<title>integrateVanadiumAroundElasticLine</title>
<path fill="lightskyblue" stroke="black" d="M472.14,-496.75C472.14,-496.75 326.39,-496.75 326.39,-496.75 320.39,-496.75 314.39,-490.75 314.39,-484.75 314.39,-484.75 314.39,-466.25 314.39,-466.25 314.39,-460.25 320.39,-454.25 326.39,-454.25 326.39,-454.25 472.14,-454.25 472.14,-454.25 478.14,-454.25 484.14,-460.25 484.14,-466.25 484.14,-466.25 484.14,-484.75 484.14,-484.75 484.14,-490.75 478.14,-496.75 472.14,-496.75"/>
<text text-anchor="middle" x="399.27" y="-479.45" font-family="Helvetica,sans-Serif" font-size="14.00">integrate Vanadium</text>
<text text-anchor="middle" x="399.27" y="-462.2" font-family="Helvetica,sans-Serif" font-size="14.00">around the elastic line</text>
</g>
<!-- vanadiumStructureFactorQ -->
<g id="node47" class="node">
<title>vanadiumStructureFactorQ</title>
<polygon fill="grey" stroke="black" points="450.66,-417.25 376.86,-417.25 357.87,-381.25 431.67,-381.25 450.66,-417.25"/>
<text text-anchor="middle" x="404.27" y="-393.07" font-family="Times,serif" font-size="14.00">Sv(Q)</text>
</g>
<!-- integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ -->
<g id="edge51" class="edge">
<title>integrateVanadiumAroundElasticLine&#45;&gt;vanadiumStructureFactorQ</title>
<path fill="none" stroke="black" d="M400.66,-453.82C401.18,-446 401.79,-436.97 402.36,-428.57"/>
<polygon fill="black" stroke="black" points="405.83,-429.04 403.01,-418.83 398.85,-428.57 405.83,-429.04"/>
</g>
<!-- maskFile -->
<g id="node24" class="node">
<title>maskFile</title>
<ellipse fill="khaki" stroke="black" cx="941.27" cy="-2736.5" rx="52.26" ry="18"/>
<text text-anchor="middle" x="941.27" y="-2731.82" font-family="Helvetica,sans-Serif" font-size="14.00">MaskFile</text>
</g>
<!-- maskFile&#45;&gt;loadMaskFile -->
<g id="edge3" class="edge">
<title>maskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M965.13,-2720.09C979.71,-2710.68 998.64,-2698.47 1015.04,-2687.88"/>
<polygon fill="black" stroke="black" points="1016.58,-2691.06 1023.08,-2682.69 1012.78,-2685.17 1016.58,-2691.06"/>
</g>
<!-- defaultMaskFile -->
<g id="node25" class="node">
<title>defaultMaskFile</title>
<ellipse fill="khaki" stroke="black" cx="1123.27" cy="-2736.5" rx="111.71" ry="18"/>
<text text-anchor="middle" x="1123.27" y="-2731.82" font-family="Helvetica,sans-Serif" font-size="14.00">DEFAULT_MASK_FILE</text>
</g>
<!-- defaultMaskFile&#45;&gt;loadMaskFile -->
<g id="edge4" class="edge">
<title>defaultMaskFile&#45;&gt;loadMaskFile</title>
<path fill="none" stroke="black" d="M1105.84,-2718.31C1097.14,-2709.74 1086.47,-2699.21 1076.87,-2689.74"/>
<polygon fill="black" stroke="black" points="1079.44,-2687.37 1069.86,-2682.84 1074.52,-2692.35 1079.44,-2687.37"/>
</g>
<!-- NormRunNumbers -->
<g id="node26" class="node">
<title>NormRunNumbers</title>
<ellipse fill="khaki" stroke="black" cx="268.27" cy="-2663.5" rx="126.44" ry="18"/>
<text text-anchor="middle" x="268.27" y="-2658.82" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium run numbers</text>
</g>
<!-- NormRunNumbers&#45;&gt;aggregateV -->
<g id="edge7" class="edge">
<title>NormRunNumbers&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M322.61,-2646.9C372.22,-2632.66 445.9,-2611.52 500.37,-2595.88"/>
<polygon fill="black" stroke="black" points="501.24,-2599.28 509.88,-2593.15 499.31,-2592.55 501.24,-2599.28"/>
</g>
<!-- NormWavelengthRange -->
<g id="node27" class="node">
<title>NormWavelengthRange</title>
<ellipse fill="khaki" stroke="black" cx="341.27" cy="-1795.5" rx="155.38" ry="18"/>
<text text-anchor="middle" x="341.27" y="-1790.83" font-family="Helvetica,sans-Serif" font-size="14.00">wavelength integration range</text>
</g>
<!-- NormWavelengthRange&#45;&gt;integrateWavelengthV -->
<g id="edge25" class="edge">
<title>NormWavelengthRange&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M366.36,-1777.26C385.66,-1764 412.56,-1745.52 433.87,-1730.88"/>
<polygon fill="black" stroke="black" points="435.72,-1733.86 441.98,-1725.31 431.75,-1728.09 435.72,-1733.86"/>
</g>
<!-- groupDetectors -->
<g id="node28" class="node">
<title>groupDetectors</title>
<ellipse fill="khaki" stroke="black" cx="386.27" cy="-965.5" rx="213.25" ry="18"/>
<text text-anchor="middle" x="386.27" y="-960.83" font-family="Helvetica,sans-Serif" font-size="14.00">group detectors by tube or low&#45;resolution</text>
</g>
<!-- groupDetectors&#45;&gt;checkgroupDetectors -->
<g id="edge42" class="edge">
<title>groupDetectors&#45;&gt;checkgroupDetectors</title>
<path fill="none" stroke="black" d="M389.17,-947.31C390.47,-939.64 392.03,-930.39 393.49,-921.74"/>
<polygon fill="black" stroke="black" points="396.92,-922.46 395.13,-912.02 390.02,-921.3 396.92,-922.46"/>
</g>
<!-- runNumbers -->
<g id="node29" class="node">
<title>runNumbers</title>
<ellipse fill="khaki" stroke="black" cx="863.27" cy="-2663.5" rx="113.29" ry="18"/>
<text text-anchor="middle" x="863.27" y="-2658.82" font-family="Helvetica,sans-Serif" font-size="14.00">sample run numbers</text>
</g>
<!-- runNumbers&#45;&gt;aggregateS -->
<g id="edge8" class="edge">
<title>runNumbers&#45;&gt;aggregateS</title>
<path fill="none" stroke="black" d="M863.27,-2645.26C863.27,-2633.43 863.27,-2617.45 863.27,-2603.75"/>
<polygon fill="black" stroke="black" points="866.77,-2603.97 863.27,-2593.97 859.77,-2603.97 866.77,-2603.97"/>
</g>
<!-- checkMaskFile -->
<g id="node30" class="node">
<title>checkMaskFile</title>
<polygon fill="limegreen" stroke="black" points="1032.27,-2843.75 891.4,-2825.75 1032.27,-2807.75 1173.14,-2825.75 1032.27,-2843.75"/>
<text text-anchor="middle" x="1032.27" y="-2821.07" font-family="Helvetica,sans-Serif" font-size="14.00">custom mask file?</text>
</g>
<!-- checkMaskFile&#45;&gt;maskFile -->
<g id="edge1" class="edge">
<title>checkMaskFile&#45;&gt;maskFile</title>
<path fill="none" stroke="black" d="M1016.41,-2809.55C1002.54,-2796.25 982.15,-2776.7 966.1,-2761.31"/>
<polygon fill="black" stroke="black" points="968.9,-2759.15 959.26,-2754.75 964.06,-2764.2 968.9,-2759.15"/>
<text text-anchor="middle" x="1005.52" y="-2776.45" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMaskFile&#45;&gt;defaultMaskFile -->
<g id="edge2" class="edge">
<title>checkMaskFile&#45;&gt;defaultMaskFile</title>
<path fill="none" stroke="black" d="M1048.12,-2809.55C1061.73,-2796.5 1081.62,-2777.43 1097.52,-2762.18"/>
<polygon fill="black" stroke="black" points="1099.53,-2765.11 1104.32,-2755.66 1094.68,-2760.06 1099.53,-2765.11"/>
<text text-anchor="middle" x="1094.64" y="-2776.45" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium -->
<g id="node31" class="node">
<title>checkDivideByVanadium</title>
<polygon fill="limegreen" stroke="black" points="572.27,-2681.5 412.79,-2663.5 572.27,-2645.5 731.74,-2663.5 572.27,-2681.5"/>
<text text-anchor="middle" x="572.27" y="-2658.82" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkDivideByVanadium&#45;&gt;aggregateV -->
<g id="edge6" class="edge">
<title>checkDivideByVanadium&#45;&gt;aggregateV</title>
<path fill="none" stroke="black" d="M572.27,-2645.26C572.27,-2633.43 572.27,-2617.45 572.27,-2603.75"/>
<polygon fill="black" stroke="black" points="575.77,-2603.97 572.27,-2593.97 568.77,-2603.97 575.77,-2603.97"/>
<text text-anchor="middle" x="583.52" y="-2614.2" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;moderatorTzeroLinearM -->
<g id="edge15" class="edge">
<title>checkMonNorm&#45;&gt;moderatorTzeroLinearM</title>
<path fill="none" stroke="black" d="M837.14,-2266.25C813.58,-2252.73 778.57,-2232.64 751.45,-2217.07"/>
<polygon fill="black" stroke="black" points="753.22,-2214.04 742.8,-2212.1 749.73,-2220.12 753.22,-2214.04"/>
<text text-anchor="middle" x="811.52" y="-2232.95" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkMonNorm&#45;&gt;checkIsVanadium -->
<g id="edge16" class="edge">
<title>checkMonNorm&#45;&gt;checkIsVanadium</title>
<path fill="none" stroke="black" d="M879.4,-2265.49C894.34,-2249.14 914.27,-2222.07 914.27,-2194 914.27,-2194 914.27,-2194 914.27,-1956.75 914.27,-1938.98 903.74,-1922.44 892.45,-1909.8"/>
<polygon fill="black" stroke="black" points="895.15,-1907.55 885.68,-1902.79 890.11,-1912.41 895.15,-1907.55"/>
<text text-anchor="middle" x="923.64" y="-2070.7" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkByQSlice&#45;&gt;convertUnitsToEnergyV -->
<g id="edge38" class="edge">
<title>checkByQSlice&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M664.07,-1408.36C613.47,-1398.36 563.27,-1376.07 563.27,-1327 563.27,-1327 563.27,-1327 563.27,-1199.75 563.27,-1158.16 601.19,-1136.32 643.24,-1124.87"/>
<polygon fill="black" stroke="black" points="643.97,-1128.3 652.82,-1122.48 642.27,-1121.51 643.97,-1128.3"/>
<text text-anchor="middle" x="574.52" y="-1285.33" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2 -->
<g id="node34" class="node">
<title>checkNormalizeByDetectorID2</title>
<polygon fill="limegreen" stroke="black" points="703.27,-1813.5 514.78,-1795.5 703.27,-1777.5 891.75,-1795.5 703.27,-1813.5"/>
<text text-anchor="middle" x="703.27" y="-1790.83" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by detectorID?</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV -->
<g id="edge22" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;integrateWavelengthV</title>
<path fill="none" stroke="black" d="M665.77,-1780.58C628.14,-1766.61 569.66,-1744.9 526.09,-1728.72"/>
<polygon fill="black" stroke="black" points="527.37,-1725.46 516.77,-1725.26 524.93,-1732.02 527.37,-1725.46"/>
<text text-anchor="middle" x="617.52" y="-1746.2" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge23" class="edge">
<title>checkNormalizeByDetectorID2&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M700.86,-1777.35C694.93,-1735.06 679.55,-1625.47 672.24,-1573.34"/>
<polygon fill="black" stroke="black" points="675.75,-1573.18 670.9,-1563.77 668.82,-1574.16 675.75,-1573.18"/>
<text text-anchor="middle" x="694.64" y="-1656.95" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkgroupDetectors&#45;&gt;groupingDetectorsV -->
<g id="edge43" class="edge">
<title>checkgroupDetectors&#45;&gt;groupingDetectorsV</title>
<path fill="none" stroke="black" d="M387.54,-875.09C379.42,-862.66 368.09,-845.31 358.67,-830.9"/>
<polygon fill="black" stroke="black" points="361.75,-829.21 353.35,-822.75 355.89,-833.04 361.75,-829.21"/>
<text text-anchor="middle" x="385.52" y="-843.2" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkgroupDetectors&#45;&gt;SofQW3V -->
<g id="edge45" class="edge">
<title>checkgroupDetectors&#45;&gt;SofQW3V</title>
<path fill="none" stroke="black" d="M408.05,-875.33C419.4,-854.54 435.56,-817.27 427.27,-785.25 424.82,-775.8 420.32,-766.25 415.54,-757.86"/>
<polygon fill="black" stroke="black" points="418.68,-756.28 410.47,-749.57 412.7,-759.93 418.68,-756.28"/>
<text text-anchor="middle" x="438.64" y="-798.58" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2 -->
<g id="edge21" class="edge">
<title>checkIsVanadium&#45;&gt;checkNormalizeByDetectorID2</title>
<path fill="none" stroke="black" d="M837.05,-1868.55C810.29,-1854.14 769.91,-1832.4 740.52,-1816.56"/>
<polygon fill="black" stroke="black" points="742.42,-1813.61 731.95,-1811.95 739.1,-1819.77 742.42,-1813.61"/>
<text text-anchor="middle" x="832.77" y="-1835.45" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkDivideByVanadium2 -->
<g id="node37" class="node">
<title>checkDivideByVanadium2</title>
<polygon fill="limegreen" stroke="black" points="978.27,-1489 818.79,-1471 978.27,-1453 1137.74,-1471 978.27,-1489"/>
<text text-anchor="middle" x="978.27" y="-1466.33" font-family="Helvetica,sans-Serif" font-size="14.00">divide by vanadium?</text>
</g>
<!-- checkIsVanadium&#45;&gt;checkDivideByVanadium2 -->
<g id="edge24" class="edge">
<title>checkIsVanadium&#45;&gt;checkDivideByVanadium2</title>
<path fill="none" stroke="black" d="M902.87,-1869.14C931.59,-1855.24 966.27,-1831.26 966.27,-1796.5 966.27,-1796.5 966.27,-1796.5 966.27,-1543 966.27,-1528.64 968.68,-1512.88 971.34,-1499.86"/>
<polygon fill="black" stroke="black" points="974.72,-1500.79 973.47,-1490.27 967.89,-1499.28 974.72,-1500.79"/>
<text text-anchor="middle" x="992.14" y="-1656.95" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV -->
<g id="edge36" class="edge">
<title>checkDivideByVanadium2&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M990.6,-1453.98C994.51,-1448.25 998.52,-1441.58 1001.27,-1435 1013.67,-1405.23 1016.27,-1396.25 1016.27,-1364 1016.27,-1364 1016.27,-1364 1016.27,-1199.75 1016.27,-1165.89 936.5,-1142.83 865,-1128.97"/>
<polygon fill="black" stroke="black" points="866.03,-1125.6 855.55,-1127.18 864.73,-1132.48 866.03,-1125.6"/>
<text text-anchor="middle" x="1025.64" y="-1285.33" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkDivideByVanadium2&#45;&gt;maskDetectors2 -->
<g id="edge30" class="edge">
<title>checkDivideByVanadium2&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M977.68,-1452.8C976.17,-1436.57 971.32,-1412.75 956.27,-1399 942.73,-1386.63 902.8,-1377.96 865.74,-1372.34"/>
<polygon fill="black" stroke="black" points="866.26,-1368.88 855.86,-1370.91 865.25,-1375.81 866.26,-1368.88"/>
<text text-anchor="middle" x="985.52" y="-1412.33" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice -->
<g id="node40" class="node">
<title>checkNormalizeByQslice</title>
<polygon fill="limegreen" stroke="black" points="512.27,-586 357.26,-568 512.27,-550 667.27,-568 512.27,-586"/>
<text text-anchor="middle" x="512.27" y="-563.33" font-family="Helvetica,sans-Serif" font-size="14.00">normalize by Q slice</text>
</g>
<!-- checkIsVanadium2&#45;&gt;checkNormalizeByQslice -->
<g id="edge48" class="edge">
<title>checkIsVanadium2&#45;&gt;checkNormalizeByQslice</title>
<path fill="none" stroke="black" d="M418.09,-640.45C436.31,-626.63 462.95,-606.41 483.25,-591.01"/>
<polygon fill="black" stroke="black" points="485.31,-593.85 491.16,-585.01 481.08,-588.27 485.31,-593.85"/>
<text text-anchor="middle" x="490.14" y="-607.95" font-family="Helvetica,sans-Serif" font-size="14.00">Sample</text>
</g>
<!-- vanadiumStructureFactorQE -->
<g id="node46" class="node">
<title>vanadiumStructureFactorQE</title>
<polygon fill="grey" stroke="black" points="339.15,-586 248.66,-586 225.38,-550 315.87,-550 339.15,-586"/>
<text text-anchor="middle" x="282.27" y="-561.83" font-family="Times,serif" font-size="14.00">Sv(Q,E)</text>
</g>
<!-- checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE -->
<g id="edge47" class="edge">
<title>checkIsVanadium2&#45;&gt;vanadiumStructureFactorQE</title>
<path fill="none" stroke="black" d="M376.44,-640.45C359.12,-627.31 334.17,-608.38 314.31,-593.31"/>
<polygon fill="black" stroke="black" points="316.59,-590.65 306.51,-587.39 312.36,-596.23 316.59,-590.65"/>
<text text-anchor="middle" x="383.77" y="-607.95" font-family="Helvetica,sans-Serif" font-size="14.00">Vanadium</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV -->
<g id="edge35" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;convertUnitsToEnergyV</title>
<path fill="none" stroke="black" d="M788.62,-1272.08C782.1,-1241.79 768.37,-1178.03 760.39,-1140.93"/>
<polygon fill="black" stroke="black" points="763.85,-1140.41 758.33,-1131.37 757.01,-1141.88 763.85,-1140.41"/>
<text text-anchor="middle" x="785.64" y="-1196.08" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge33" class="edge">
<title>checkNormalizeByDetectorID&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M772.32,-1273.6C755.26,-1260.43 730.39,-1241.23 710.66,-1225.99"/>
<polygon fill="black" stroke="black" points="712.97,-1223.36 702.92,-1220.01 708.7,-1228.9 712.97,-1223.36"/>
<text text-anchor="middle" x="756.52" y="-1240.7" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge49" class="edge">
<title>checkNormalizeByQslice&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M493.35,-551.85C477.19,-538.91 453.51,-519.95 433.96,-504.29"/>
<polygon fill="black" stroke="black" points="436.2,-501.59 426.2,-498.07 431.82,-507.06 436.2,-501.59"/>
<text text-anchor="middle" x="476.52" y="-518.7" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- checkNormalizeByQslice&#45;&gt;sampleStructureFactor -->
<g id="edge54" class="edge">
<title>checkNormalizeByQslice&#45;&gt;sampleStructureFactor</title>
<path fill="none" stroke="black" d="M512.27,-549.65C512.27,-531.43 512.27,-501.95 512.27,-476.5 512.27,-476.5 512.27,-476.5 512.27,-325.25 512.27,-309.7 505.67,-293.87 498.38,-281.11"/>
<polygon fill="black" stroke="black" points="501.53,-279.55 493.29,-272.89 495.58,-283.23 501.53,-279.55"/>
<text text-anchor="middle" x="521.64" y="-394.57" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- datFile -->
<g id="node49" class="node">
<title>datFile</title>
<polygon fill="grey" stroke="black" points="158.53,-36 32.44,-36 0,0 126.09,0 158.53,-36"/>
<text text-anchor="middle" x="79.27" y="-11.82" font-family="Times,serif" font-size="14.00">_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;datFile -->
<g id="edge57" class="edge">
<title>checkDivideByVanadium3&#45;&gt;datFile</title>
<path fill="none" stroke="black" d="M241.68,-92.42C211.11,-78.61 163.64,-57.14 127.89,-40.98"/>
<polygon fill="black" stroke="black" points="129.61,-37.92 119.06,-36.99 126.73,-44.3 129.61,-37.92"/>
<text text-anchor="middle" x="201.64" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedDatFile -->
<g id="node50" class="node">
<title>dividedDatFile</title>
<polygon fill="grey" stroke="black" points="423.59,-36 227.41,-36 176.94,0 373.12,0 423.59,-36"/>
<text text-anchor="middle" x="300.27" y="-11.82" font-family="Times,serif" font-size="14.00">_divided_sqw.dat file</text>
</g>
<!-- checkDivideByVanadium3&#45;&gt;dividedDatFile -->
<g id="edge58" class="edge">
<title>checkDivideByVanadium3&#45;&gt;dividedDatFile</title>
<path fill="none" stroke="black" d="M277.66,-89.43C281.53,-77.39 286.81,-60.91 291.3,-46.92"/>
<polygon fill="black" stroke="black" points="294.51,-48.4 294.23,-37.81 287.84,-46.26 294.51,-48.4"/>
<text text-anchor="middle" x="299.52" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- sqwFile -->
<g id="node51" class="node">
<title>sqwFile</title>
<polygon fill="grey" stroke="black" points="661.63,-36 532.2,-36 498.9,0 628.33,0 661.63,-36"/>
<text text-anchor="middle" x="580.27" y="-11.82" font-family="Times,serif" font-size="14.00">_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;sqwFile -->
<g id="edge61" class="edge">
<title>checkDivideByVanadium4&#45;&gt;sqwFile</title>
<path fill="none" stroke="black" d="M603.67,-89.43C599.67,-77.39 594.2,-60.91 589.55,-46.92"/>
<polygon fill="black" stroke="black" points="592.99,-46.19 586.52,-37.8 586.35,-48.4 592.99,-46.19"/>
<text text-anchor="middle" x="606.64" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">No</text>
</g>
<!-- dividedSqwFile -->
<g id="node52" class="node">
<title>dividedSqwFile</title>
<polygon fill="grey" stroke="black" points="930.69,-36 731.17,-36 679.84,0 879.36,0 930.69,-36"/>
<text text-anchor="middle" x="805.27" y="-11.82" font-family="Times,serif" font-size="14.00">_divided_sqw.nxs file</text>
</g>
<!-- checkDivideByVanadium4&#45;&gt;dividedSqwFile -->
<g id="edge62" class="edge">
<title>checkDivideByVanadium4&#45;&gt;dividedSqwFile</title>
<path fill="none" stroke="black" d="M640.32,-92.42C671.37,-78.61 719.58,-57.14 755.88,-40.98"/>
<polygon fill="black" stroke="black" points="757.16,-44.25 764.87,-36.98 754.31,-37.85 757.16,-44.25"/>
<text text-anchor="middle" x="735.52" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">Yes</text>
</g>
<!-- maskData&#45;&gt;maskDetectors -->
<g id="edge11" class="edge">
<title>maskData&#45;&gt;maskDetectors</title>
<path fill="none" stroke="black" d="M990.17,-2555.88C967.49,-2546.3 939.11,-2534.3 914.94,-2524.09"/>
<polygon fill="black" stroke="black" points="916.49,-2520.94 905.91,-2520.27 913.76,-2527.39 916.49,-2520.94"/>
</g>
<!-- basisNormMask&#45;&gt;maskDetectors2 -->
<g id="edge31" class="edge">
<title>basisNormMask&#45;&gt;maskDetectors2</title>
<path fill="none" stroke="black" d="M594.26,-1452.66C587.83,-1447.87 582,-1442.01 578.27,-1435 570.75,-1420.88 567.9,-1411.19 578.27,-1399 596.22,-1377.87 664.34,-1369.47 718.96,-1366.15"/>
<polygon fill="black" stroke="black" points="719.09,-1369.64 728.88,-1365.59 718.7,-1362.65 719.09,-1369.64"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV -->
<g id="edge27" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;findDetectorsOutsideLimitsV</title>
<path fill="none" stroke="black" d="M513.15,-1600.07C541.27,-1590.08 577.86,-1577.09 608.43,-1566.24"/>
<polygon fill="black" stroke="black" points="609.3,-1569.65 617.55,-1563 606.95,-1563.05 609.3,-1569.65"/>
</g>
<!-- vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID -->
<g id="edge34" class="edge">
<title>vanadiumStructureFactorL&#45;&gt;DivideByVanadiumDetectorID</title>
<path fill="none" stroke="black" d="M473.25,-1598.66C476.92,-1584.38 481.27,-1563.55 481.27,-1545 481.27,-1545 481.27,-1545 481.27,-1289 481.27,-1237.45 538.17,-1216.09 590.96,-1207.38"/>
<polygon fill="black" stroke="black" points="591.28,-1210.87 600.65,-1205.92 590.24,-1203.94 591.28,-1210.87"/>
</g>
<!-- vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine -->
<g id="edge50" class="edge">
<title>vanadiumStructureFactorQE&#45;&gt;integrateVanadiumAroundElasticLine</title>
<path fill="none" stroke="black" d="M304.82,-549.55C321.49,-536.66 344.5,-518.86 363.64,-504.06"/>
<polygon fill="black" stroke="black" points="365.71,-506.88 371.48,-497.99 361.43,-501.34 365.71,-506.88"/>
</g>
<!-- vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice -->
<g id="edge52" class="edge">
<title>vanadiumStructureFactorQ&#45;&gt;DivideByVanadiumQslice</title>
<path fill="none" stroke="black" d="M404.99,-381.06C405.32,-373.39 405.71,-364.14 406.07,-355.49"/>
<polygon fill="black" stroke="black" points="409.56,-355.93 406.48,-345.79 402.56,-355.63 409.56,-355.93"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToDaveGroup -->
<g id="edge55" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToDaveGroup</title>
<path fill="none" stroke="black" d="M458.2,-235.06C447.38,-226.23 434.01,-215.32 422.15,-205.64"/>
<polygon fill="black" stroke="black" points="424.57,-203.09 414.61,-199.48 420.14,-208.52 424.57,-203.09"/>
</g>
<!-- sampleStructureFactor&#45;&gt;saveToNexus -->
<g id="edge59" class="edge">
<title>sampleStructureFactor&#45;&gt;saveToNexus</title>
<path fill="none" stroke="black" d="M505.93,-234.88C519.79,-225.86 536.92,-214.69 551.97,-204.89"/>
<polygon fill="black" stroke="black" points="553.76,-207.9 560.23,-199.51 549.94,-202.04 553.76,-207.9"/>
</g>
</g>
</svg>
