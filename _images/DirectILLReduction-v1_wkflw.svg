<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.0.5 (20221231.0122)
 -->
<!-- Title: DirectILLReduction Pages: 1 -->
<svg width="812pt" height="1044pt"
 viewBox="0.00 0.00 812.36 1044.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1040)">
<title>DirectILLReduction</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1040 808.36,-1040 808.36,4 -4,4"/>
<text text-anchor="middle" x="402.18" y="-1020.8" font-family="Helvetica,sans-Serif" font-size="14.00">DirectILLReduction workflow diagram</text>
<!-- inputDiagnostics -->
<g id="node1" class="node">
<title>inputDiagnostics</title>
<ellipse fill="khaki" stroke="black" cx="578.97" cy="-922" rx="112.38" ry="18"/>
<text text-anchor="middle" x="578.97" y="-918.3" font-family="Helvetica,sans-Serif" font-size="14.00">DiagnosticsWorkspace</text>
</g>
<!-- ApplyDiagnostics -->
<g id="node11" class="node">
<title>ApplyDiagnostics</title>
<path fill="lightskyblue" stroke="black" d="M621.47,-853C621.47,-853 536.47,-853 536.47,-853 530.47,-853 524.47,-847 524.47,-841 524.47,-841 524.47,-829 524.47,-829 524.47,-823 530.47,-817 536.47,-817 536.47,-817 621.47,-817 621.47,-817 627.47,-817 633.47,-823 633.47,-829 633.47,-829 633.47,-841 633.47,-841 633.47,-847 627.47,-853 621.47,-853"/>
<text text-anchor="middle" x="578.97" y="-831.3" font-family="Helvetica,sans-Serif" font-size="14.00">Mask spectra</text>
</g>
<!-- inputDiagnostics&#45;&gt;ApplyDiagnostics -->
<g id="edge4" class="edge">
<title>inputDiagnostics&#45;&gt;ApplyDiagnostics</title>
<path fill="none" stroke="black" d="M578.97,-903.8C578.97,-892.58 578.97,-877.67 578.97,-864.69"/>
<polygon fill="black" stroke="black" points="582.47,-864.98 578.97,-854.98 575.47,-864.98 582.47,-864.98"/>
</g>
<!-- inputVana -->
<g id="node2" class="node">
<title>inputVana</title>
<ellipse fill="khaki" stroke="black" cx="353.97" cy="-835" rx="152.17" ry="18"/>
<text text-anchor="middle" x="353.97" y="-831.3" font-family="Helvetica,sans-Serif" font-size="14.00">IntegratedVanadiumWorkspace</text>
</g>
<!-- Normalize -->
<g id="node17" class="node">
<title>Normalize</title>
<path fill="lightskyblue" stroke="black" d="M371.97,-780C371.97,-780 335.97,-780 335.97,-780 329.97,-780 323.97,-774 323.97,-768 323.97,-768 323.97,-756 323.97,-756 323.97,-750 329.97,-744 335.97,-744 335.97,-744 371.97,-744 371.97,-744 377.97,-744 383.97,-750 383.97,-756 383.97,-756 383.97,-768 383.97,-768 383.97,-774 377.97,-780 371.97,-780"/>
<text text-anchor="middle" x="353.97" y="-758.3" font-family="Helvetica,sans-Serif" font-size="14.00">Divide</text>
</g>
<!-- inputVana&#45;&gt;Normalize -->
<g id="edge6" class="edge">
<title>inputVana&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M353.97,-816.81C353.97,-809.23 353.97,-800.1 353.97,-791.54"/>
<polygon fill="black" stroke="black" points="357.47,-791.54 353.97,-781.54 350.47,-791.54 357.47,-791.54"/>
</g>
<!-- inputWS -->
<g id="node3" class="node">
<title>inputWS</title>
<ellipse fill="khaki" stroke="black" cx="204.97" cy="-995" rx="83.69" ry="18"/>
<text text-anchor="middle" x="204.97" y="-991.3" font-family="Helvetica,sans-Serif" font-size="14.00">InputWorkspace</text>
</g>
<!-- inputDiagnosticsGiven -->
<g id="node9" class="node">
<title>inputDiagnosticsGiven</title>
<polygon fill="limegreen" stroke="black" points="204.97,-940 0.03,-922 204.97,-904 409.92,-922 204.97,-940"/>
<text text-anchor="middle" x="204.97" y="-918.3" font-family="Helvetica,sans-Serif" font-size="14.00">DiagnosticsWorkspace given?</text>
</g>
<!-- inputWS&#45;&gt;inputDiagnosticsGiven -->
<g id="edge1" class="edge">
<title>inputWS&#45;&gt;inputDiagnosticsGiven</title>
<path fill="none" stroke="black" d="M204.97,-976.81C204.97,-969.23 204.97,-960.1 204.97,-951.54"/>
<polygon fill="black" stroke="black" points="208.47,-951.54 204.97,-941.54 201.47,-951.54 208.47,-951.54"/>
</g>
<!-- outputWS -->
<g id="node4" class="node">
<title>outputWS</title>
<ellipse fill="khaki" stroke="black" cx="702.97" cy="-18" rx="91.78" ry="18"/>
<text text-anchor="middle" x="702.97" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- outputOptionalWS -->
<g id="node5" class="node">
<title>outputOptionalWS</title>
<ellipse fill="khaki" stroke="black" cx="422.97" cy="-91" rx="163.27" ry="18"/>
<text text-anchor="middle" x="422.97" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputSofThetaEnergyWorkspace</text>
</g>
<!-- qBinParams -->
<g id="node6" class="node">
<title>qBinParams</title>
<ellipse fill="khaki" stroke="black" cx="702.97" cy="-164" rx="101.28" ry="18"/>
<text text-anchor="middle" x="702.97" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">q rebinning settings</text>
</g>
<!-- SofQW -->
<g id="node19" class="node">
<title>SofQW</title>
<path fill="lightskyblue" stroke="black" d="M789.47,-109C789.47,-109 616.47,-109 616.47,-109 610.47,-109 604.47,-103 604.47,-97 604.47,-97 604.47,-85 604.47,-85 604.47,-79 610.47,-73 616.47,-73 616.47,-73 789.47,-73 789.47,-73 795.47,-73 801.47,-79 801.47,-85 801.47,-85 801.47,-97 801.47,-97 801.47,-103 795.47,-109 789.47,-109"/>
<text text-anchor="middle" x="702.97" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">SofQWNormalisedPolygon</text>
</g>
<!-- qBinParams&#45;&gt;SofQW -->
<g id="edge19" class="edge">
<title>qBinParams&#45;&gt;SofQW</title>
<path fill="none" stroke="black" d="M702.97,-145.81C702.97,-138.23 702.97,-129.1 702.97,-120.54"/>
<polygon fill="black" stroke="black" points="706.47,-120.54 702.97,-110.54 699.47,-120.54 706.47,-120.54"/>
</g>
<!-- wRebinParams -->
<g id="node7" class="node">
<title>wRebinParams</title>
<ellipse fill="khaki" stroke="black" cx="594.97" cy="-383" rx="127.28" ry="18"/>
<text text-anchor="middle" x="594.97" y="-379.3" font-family="Helvetica,sans-Serif" font-size="14.00">Energy rebinning settings</text>
</g>
<!-- Rebin -->
<g id="node18" class="node">
<title>Rebin</title>
<path fill="lightskyblue" stroke="black" d="M522.47,-328C522.47,-328 421.47,-328 421.47,-328 415.47,-328 409.47,-322 409.47,-316 409.47,-316 409.47,-304 409.47,-304 409.47,-298 415.47,-292 421.47,-292 421.47,-292 522.47,-292 522.47,-292 528.47,-292 534.47,-298 534.47,-304 534.47,-304 534.47,-316 534.47,-316 534.47,-322 528.47,-328 522.47,-328"/>
<text text-anchor="middle" x="471.97" y="-306.3" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin in energy</text>
</g>
<!-- wRebinParams&#45;&gt;Rebin -->
<g id="edge14" class="edge">
<title>wRebinParams&#45;&gt;Rebin</title>
<path fill="none" stroke="black" d="M565.82,-365.17C549.79,-355.92 529.65,-344.3 512.15,-334.19"/>
<polygon fill="black" stroke="black" points="513.92,-331.17 503.51,-329.2 510.42,-337.23 513.92,-331.17"/>
</g>
<!-- absoluteUnitsEnabled -->
<g id="node8" class="node">
<title>absoluteUnitsEnabled</title>
<polygon fill="limegreen" stroke="black" points="353.97,-707 157.07,-689 353.97,-671 550.87,-689 353.97,-707"/>
<text text-anchor="middle" x="353.97" y="-685.3" font-family="Helvetica,sans-Serif" font-size="14.00">Normalise to absolute units?</text>
</g>
<!-- AbsoluteUnits -->
<g id="node10" class="node">
<title>AbsoluteUnits</title>
<path fill="lightskyblue" stroke="black" d="M535.97,-620C535.97,-620 385.97,-620 385.97,-620 379.97,-620 373.97,-614 373.97,-608 373.97,-608 373.97,-596 373.97,-596 373.97,-590 379.97,-584 385.97,-584 385.97,-584 535.97,-584 535.97,-584 541.97,-584 547.97,-590 547.97,-596 547.97,-596 547.97,-608 547.97,-608 547.97,-614 541.97,-620 535.97,-620"/>
<text text-anchor="middle" x="460.97" y="-598.3" font-family="Helvetica,sans-Serif" font-size="14.00">Scale to absolute units</text>
</g>
<!-- absoluteUnitsEnabled&#45;&gt;AbsoluteUnits -->
<g id="edge9" class="edge">
<title>absoluteUnitsEnabled&#45;&gt;AbsoluteUnits</title>
<path fill="none" stroke="black" d="M373.6,-672.41C389.49,-659.78 412.17,-641.77 430.44,-627.26"/>
<polygon fill="black" stroke="black" points="432.42,-630.15 438.08,-621.19 428.07,-624.67 432.42,-630.15"/>
<text text-anchor="middle" x="425.47" y="-641.8" font-family="Helvetica,sans-Serif" font-size="14.00">yes</text>
</g>
<!-- ConvertToEnergy -->
<g id="node13" class="node">
<title>ConvertToEnergy</title>
<path fill="lightskyblue" stroke="black" d="M454.97,-547C454.97,-547 244.97,-547 244.97,-547 238.97,-547 232.97,-541 232.97,-535 232.97,-535 232.97,-523 232.97,-523 232.97,-517 238.97,-511 244.97,-511 244.97,-511 454.97,-511 454.97,-511 460.97,-511 466.97,-517 466.97,-523 466.97,-523 466.97,-535 466.97,-535 466.97,-541 460.97,-547 454.97,-547"/>
<text text-anchor="middle" x="349.97" y="-525.3" font-family="Helvetica,sans-Serif" font-size="14.00">Convert TOF to energy transfer</text>
</g>
<!-- absoluteUnitsEnabled&#45;&gt;ConvertToEnergy -->
<g id="edge8" class="edge">
<title>absoluteUnitsEnabled&#45;&gt;ConvertToEnergy</title>
<path fill="none" stroke="black" d="M351.7,-670.71C350.01,-656.99 347.86,-637.3 346.97,-620 346.15,-604.02 346.53,-599.99 346.97,-584 347.2,-575.8 347.62,-566.91 348.08,-558.76"/>
<polygon fill="black" stroke="black" points="351.56,-559.2 348.66,-549.01 344.57,-558.78 351.56,-559.2"/>
<text text-anchor="middle" x="355.97" y="-598.3" font-family="Helvetica,sans-Serif" font-size="14.00">no</text>
</g>
<!-- inputDiagnosticsGiven&#45;&gt;ApplyDiagnostics -->
<g id="edge3" class="edge">
<title>inputDiagnosticsGiven&#45;&gt;ApplyDiagnostics</title>
<path fill="none" stroke="black" d="M264.29,-908.79C324.43,-896.24 420.43,-875.7 513.2,-853.38"/>
<polygon fill="black" stroke="black" points="513.83,-856.82 522.73,-851.07 512.19,-850.02 513.83,-856.82"/>
<text text-anchor="middle" x="442.47" y="-874.8" font-family="Helvetica,sans-Serif" font-size="14.00">yes</text>
</g>
<!-- inputDiagnosticsGiven&#45;&gt;Normalize -->
<g id="edge2" class="edge">
<title>inputDiagnosticsGiven&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M192.24,-904.66C176.83,-882.75 155.25,-843.55 174.97,-817 206.38,-774.72 269.87,-764.34 312.17,-762.41"/>
<polygon fill="black" stroke="black" points="312.09,-765.92 321.98,-762.12 311.88,-758.92 312.09,-765.92"/>
<text text-anchor="middle" x="183.97" y="-831.3" font-family="Helvetica,sans-Serif" font-size="14.00">no</text>
</g>
<!-- AbsoluteUnits&#45;&gt;ConvertToEnergy -->
<g id="edge10" class="edge">
<title>AbsoluteUnits&#45;&gt;ConvertToEnergy</title>
<path fill="none" stroke="black" d="M433.82,-583.63C419.57,-574.52 401.92,-563.23 386.5,-553.36"/>
<polygon fill="black" stroke="black" points="388.82,-550.69 378.51,-548.25 385.04,-556.59 388.82,-550.69"/>
</g>
<!-- ApplyDiagnostics&#45;&gt;Normalize -->
<g id="edge5" class="edge">
<title>ApplyDiagnostics&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M524.22,-816.72C484.37,-804.15 431.27,-787.39 395.03,-775.96"/>
<polygon fill="black" stroke="black" points="396.39,-772.72 385.8,-773.04 394.29,-779.39 396.39,-772.72"/>
</g>
<!-- ConvertToDistribution -->
<g id="node12" class="node">
<title>ConvertToDistribution</title>
<path fill="lightskyblue" stroke="black" d="M543.47,-255C543.47,-255 400.47,-255 400.47,-255 394.47,-255 388.47,-249 388.47,-243 388.47,-243 388.47,-231 388.47,-231 388.47,-225 394.47,-219 400.47,-219 400.47,-219 543.47,-219 543.47,-219 549.47,-219 555.47,-225 555.47,-231 555.47,-231 555.47,-243 555.47,-243 555.47,-249 549.47,-255 543.47,-255"/>
<text text-anchor="middle" x="471.97" y="-233.3" font-family="Helvetica,sans-Serif" font-size="14.00">ConvertToDistribution</text>
</g>
<!-- GroupDetectors -->
<g id="node16" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M522.47,-182C522.47,-182 421.47,-182 421.47,-182 415.47,-182 409.47,-176 409.47,-170 409.47,-170 409.47,-158 409.47,-158 409.47,-152 415.47,-146 421.47,-146 421.47,-146 522.47,-146 522.47,-146 528.47,-146 534.47,-152 534.47,-158 534.47,-158 534.47,-170 534.47,-170 534.47,-176 528.47,-182 522.47,-182"/>
<text text-anchor="middle" x="471.97" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">GroupDetectors</text>
</g>
<!-- ConvertToDistribution&#45;&gt;GroupDetectors -->
<g id="edge16" class="edge">
<title>ConvertToDistribution&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M471.97,-218.81C471.97,-211.23 471.97,-202.1 471.97,-193.54"/>
<polygon fill="black" stroke="black" points="475.47,-193.54 471.97,-183.54 468.47,-193.54 475.47,-193.54"/>
</g>
<!-- CorrectKiKf -->
<g id="node14" class="node">
<title>CorrectKiKf</title>
<path fill="lightskyblue" stroke="black" d="M384.47,-474C384.47,-474 315.47,-474 315.47,-474 309.47,-474 303.47,-468 303.47,-462 303.47,-462 303.47,-450 303.47,-450 303.47,-444 309.47,-438 315.47,-438 315.47,-438 384.47,-438 384.47,-438 390.47,-438 396.47,-444 396.47,-450 396.47,-450 396.47,-462 396.47,-462 396.47,-468 390.47,-474 384.47,-474"/>
<text text-anchor="middle" x="349.97" y="-452.3" font-family="Helvetica,sans-Serif" font-size="14.00">CorrectKiKf</text>
</g>
<!-- ConvertToEnergy&#45;&gt;CorrectKiKf -->
<g id="edge11" class="edge">
<title>ConvertToEnergy&#45;&gt;CorrectKiKf</title>
<path fill="none" stroke="black" d="M349.97,-510.81C349.97,-503.23 349.97,-494.1 349.97,-485.54"/>
<polygon fill="black" stroke="black" points="353.47,-485.54 349.97,-475.54 346.47,-485.54 353.47,-485.54"/>
</g>
<!-- DetectorEfficiency -->
<g id="node15" class="node">
<title>DetectorEfficiency</title>
<path fill="lightskyblue" stroke="black" d="M437.47,-401C437.47,-401 262.47,-401 262.47,-401 256.47,-401 250.47,-395 250.47,-389 250.47,-389 250.47,-377 250.47,-377 250.47,-371 256.47,-365 262.47,-365 262.47,-365 437.47,-365 437.47,-365 443.47,-365 449.47,-371 449.47,-377 449.47,-377 449.47,-389 449.47,-389 449.47,-395 443.47,-401 437.47,-401"/>
<text text-anchor="middle" x="349.97" y="-379.3" font-family="Helvetica,sans-Serif" font-size="14.00">DetectorEfficiencyCorUser</text>
</g>
<!-- CorrectKiKf&#45;&gt;DetectorEfficiency -->
<g id="edge12" class="edge">
<title>CorrectKiKf&#45;&gt;DetectorEfficiency</title>
<path fill="none" stroke="black" d="M349.97,-437.81C349.97,-430.23 349.97,-421.1 349.97,-412.54"/>
<polygon fill="black" stroke="black" points="353.47,-412.54 349.97,-402.54 346.47,-412.54 353.47,-412.54"/>
</g>
<!-- DetectorEfficiency&#45;&gt;Rebin -->
<g id="edge13" class="edge">
<title>DetectorEfficiency&#45;&gt;Rebin</title>
<path fill="none" stroke="black" d="M379.82,-364.63C395.62,-355.43 415.24,-344.02 432.31,-334.08"/>
<polygon fill="black" stroke="black" points="433.82,-337.25 440.7,-329.2 430.3,-331.2 433.82,-337.25"/>
</g>
<!-- GroupDetectors&#45;&gt;outputOptionalWS -->
<g id="edge17" class="edge">
<title>GroupDetectors&#45;&gt;outputOptionalWS</title>
<path fill="none" stroke="black" d="M460.11,-145.81C454.45,-137.62 447.56,-127.62 441.25,-118.48"/>
<polygon fill="black" stroke="black" points="444.14,-116.52 435.58,-110.27 438.38,-120.49 444.14,-116.52"/>
</g>
<!-- GroupDetectors&#45;&gt;SofQW -->
<g id="edge18" class="edge">
<title>GroupDetectors&#45;&gt;SofQW</title>
<path fill="none" stroke="black" d="M528.78,-145.54C561.08,-135.61 601.73,-123.12 635.64,-112.7"/>
<polygon fill="black" stroke="black" points="636.41,-116.12 644.94,-109.84 634.35,-109.43 636.41,-116.12"/>
</g>
<!-- Normalize&#45;&gt;absoluteUnitsEnabled -->
<g id="edge7" class="edge">
<title>Normalize&#45;&gt;absoluteUnitsEnabled</title>
<path fill="none" stroke="black" d="M353.97,-743.81C353.97,-736.23 353.97,-727.1 353.97,-718.54"/>
<polygon fill="black" stroke="black" points="357.47,-718.54 353.97,-708.54 350.47,-718.54 357.47,-718.54"/>
</g>
<!-- Rebin&#45;&gt;ConvertToDistribution -->
<g id="edge15" class="edge">
<title>Rebin&#45;&gt;ConvertToDistribution</title>
<path fill="none" stroke="black" d="M471.97,-291.81C471.97,-284.23 471.97,-275.1 471.97,-266.54"/>
<polygon fill="black" stroke="black" points="475.47,-266.54 471.97,-256.54 468.47,-266.54 475.47,-266.54"/>
</g>
<!-- SofQW&#45;&gt;outputWS -->
<g id="edge20" class="edge">
<title>SofQW&#45;&gt;outputWS</title>
<path fill="none" stroke="black" d="M702.97,-72.81C702.97,-65.23 702.97,-56.1 702.97,-47.54"/>
<polygon fill="black" stroke="black" points="706.47,-47.54 702.97,-37.54 699.47,-47.54 706.47,-47.54"/>
</g>
</g>
</svg>
