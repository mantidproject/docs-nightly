<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.1.0 (20250701.1702)
 -->
<!-- Title: DirectILLReduction Pages: 1 -->
<svg width="862pt" height="1051pt"
 viewBox="0.00 0.00 862.00 1051.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1046.75)">
<title>DirectILLReduction</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1046.75 857.56,-1046.75 857.56,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="426.78" y="-1025.45" font-family="Helvetica,sans-Serif" font-size="14.00">DirectILLReduction workflow diagram</text>
<!-- inputDiagnostics -->
<g id="node1" class="node">
<title>inputDiagnostics</title>
<ellipse fill="khaki" stroke="black" cx="617.48" cy="-926.5" rx="120.65" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="617.48" y="-921.83" font-family="Helvetica,sans-Serif" font-size="14.00">DiagnosticsWorkspace</text>
</g>
<!-- ApplyDiagnostics -->
<g id="node11" class="node">
<title>ApplyDiagnostics</title>
<path fill="lightskyblue" stroke="black" d="M659.61,-855.25C659.61,-855.25 575.36,-855.25 575.36,-855.25 569.36,-855.25 563.36,-849.25 563.36,-843.25 563.36,-843.25 563.36,-831.25 563.36,-831.25 563.36,-825.25 569.36,-819.25 575.36,-819.25 575.36,-819.25 659.61,-819.25 659.61,-819.25 665.61,-819.25 671.61,-825.25 671.61,-831.25 671.61,-831.25 671.61,-843.25 671.61,-843.25 671.61,-849.25 665.61,-855.25 659.61,-855.25"/>
<text xml:space="preserve" text-anchor="middle" x="617.48" y="-832.58" font-family="Helvetica,sans-Serif" font-size="14.00">Mask spectra</text>
</g>
<!-- inputDiagnostics&#45;&gt;ApplyDiagnostics -->
<g id="edge4" class="edge">
<title>inputDiagnostics&#45;&gt;ApplyDiagnostics</title>
<path fill="none" stroke="black" d="M617.48,-908.26C617.48,-896.43 617.48,-880.45 617.48,-866.75"/>
<polygon fill="black" stroke="black" points="620.98,-866.97 617.48,-856.97 613.98,-866.97 620.98,-866.97"/>
</g>
<!-- inputVana -->
<g id="node2" class="node">
<title>inputVana</title>
<ellipse fill="khaki" stroke="black" cx="381.48" cy="-837.25" rx="163.8" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="381.48" y="-832.58" font-family="Helvetica,sans-Serif" font-size="14.00">IntegratedVanadiumWorkspace</text>
</g>
<!-- Normalize -->
<g id="node17" class="node">
<title>Normalize</title>
<path fill="lightskyblue" stroke="black" d="M399.23,-782.25C399.23,-782.25 363.73,-782.25 363.73,-782.25 357.73,-782.25 351.73,-776.25 351.73,-770.25 351.73,-770.25 351.73,-758.25 351.73,-758.25 351.73,-752.25 357.73,-746.25 363.73,-746.25 363.73,-746.25 399.23,-746.25 399.23,-746.25 405.23,-746.25 411.23,-752.25 411.23,-758.25 411.23,-758.25 411.23,-770.25 411.23,-770.25 411.23,-776.25 405.23,-782.25 399.23,-782.25"/>
<text xml:space="preserve" text-anchor="middle" x="381.48" y="-759.58" font-family="Helvetica,sans-Serif" font-size="14.00">Divide</text>
</g>
<!-- inputVana&#45;&gt;Normalize -->
<g id="edge6" class="edge">
<title>inputVana&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M381.48,-819.06C381.48,-811.48 381.48,-802.35 381.48,-793.79"/>
<polygon fill="black" stroke="black" points="384.98,-793.79 381.48,-783.79 377.98,-793.79 384.98,-793.79"/>
</g>
<!-- inputWS -->
<g id="node3" class="node">
<title>inputWS</title>
<ellipse fill="khaki" stroke="black" cx="220.48" cy="-999.5" rx="90.14" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="220.48" y="-994.83" font-family="Helvetica,sans-Serif" font-size="14.00">InputWorkspace</text>
</g>
<!-- inputDiagnosticsGiven -->
<g id="node9" class="node">
<title>inputDiagnosticsGiven</title>
<polygon fill="limegreen" stroke="black" points="220.48,-944.5 0,-926.5 220.48,-908.5 440.96,-926.5 220.48,-944.5"/>
<text xml:space="preserve" text-anchor="middle" x="220.48" y="-921.83" font-family="Helvetica,sans-Serif" font-size="14.00">DiagnosticsWorkspace given?</text>
</g>
<!-- inputWS&#45;&gt;inputDiagnosticsGiven -->
<g id="edge1" class="edge">
<title>inputWS&#45;&gt;inputDiagnosticsGiven</title>
<path fill="none" stroke="black" d="M220.48,-981.31C220.48,-973.73 220.48,-964.6 220.48,-956.04"/>
<polygon fill="black" stroke="black" points="223.98,-956.04 220.48,-946.04 216.98,-956.04 223.98,-956.04"/>
</g>
<!-- outputWS -->
<g id="node4" class="node">
<title>outputWS</title>
<ellipse fill="khaki" stroke="black" cx="744.48" cy="-18" rx="98.56" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="744.48" y="-13.32" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- outputOptionalWS -->
<g id="node5" class="node">
<title>outputOptionalWS</title>
<ellipse fill="khaki" stroke="black" cx="452.48" cy="-91" rx="175.9" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="452.48" y="-86.33" font-family="Helvetica,sans-Serif" font-size="14.00">OutputSofThetaEnergyWorkspace</text>
</g>
<!-- qBinParams -->
<g id="node6" class="node">
<title>qBinParams</title>
<ellipse fill="khaki" stroke="black" cx="744.48" cy="-164" rx="109.08" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="744.48" y="-159.32" font-family="Helvetica,sans-Serif" font-size="14.00">q rebinning settings</text>
</g>
<!-- SofQW -->
<g id="node19" class="node">
<title>SofQW</title>
<path fill="lightskyblue" stroke="black" d="M830.48,-109C830.48,-109 658.48,-109 658.48,-109 652.48,-109 646.48,-103 646.48,-97 646.48,-97 646.48,-85 646.48,-85 646.48,-79 652.48,-73 658.48,-73 658.48,-73 830.48,-73 830.48,-73 836.48,-73 842.48,-79 842.48,-85 842.48,-85 842.48,-97 842.48,-97 842.48,-103 836.48,-109 830.48,-109"/>
<text xml:space="preserve" text-anchor="middle" x="744.48" y="-86.33" font-family="Helvetica,sans-Serif" font-size="14.00">SofQWNormalisedPolygon</text>
</g>
<!-- qBinParams&#45;&gt;SofQW -->
<g id="edge19" class="edge">
<title>qBinParams&#45;&gt;SofQW</title>
<path fill="none" stroke="black" d="M744.48,-145.81C744.48,-138.23 744.48,-129.1 744.48,-120.54"/>
<polygon fill="black" stroke="black" points="747.98,-120.54 744.48,-110.54 740.98,-120.54 747.98,-120.54"/>
</g>
<!-- wRebinParams -->
<g id="node7" class="node">
<title>wRebinParams</title>
<ellipse fill="khaki" stroke="black" cx="631.48" cy="-383" rx="136.96" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="631.48" y="-378.32" font-family="Helvetica,sans-Serif" font-size="14.00">Energy rebinning settings</text>
</g>
<!-- Rebin -->
<g id="node18" class="node">
<title>Rebin</title>
<path fill="lightskyblue" stroke="black" d="M554.86,-328C554.86,-328 454.11,-328 454.11,-328 448.11,-328 442.11,-322 442.11,-316 442.11,-316 442.11,-304 442.11,-304 442.11,-298 448.11,-292 454.11,-292 454.11,-292 554.86,-292 554.86,-292 560.86,-292 566.86,-298 566.86,-304 566.86,-304 566.86,-316 566.86,-316 566.86,-322 560.86,-328 554.86,-328"/>
<text xml:space="preserve" text-anchor="middle" x="504.48" y="-305.32" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin in energy</text>
</g>
<!-- wRebinParams&#45;&gt;Rebin -->
<g id="edge14" class="edge">
<title>wRebinParams&#45;&gt;Rebin</title>
<path fill="none" stroke="black" d="M601.06,-364.99C584.42,-355.69 563.58,-344.04 545.52,-333.94"/>
<polygon fill="black" stroke="black" points="547.29,-330.92 536.86,-329.1 543.88,-337.03 547.29,-330.92"/>
</g>
<!-- absoluteUnitsEnabled -->
<g id="node8" class="node">
<title>absoluteUnitsEnabled</title>
<polygon fill="limegreen" stroke="black" points="381.48,-709.25 169.93,-691.25 381.48,-673.25 593.03,-691.25 381.48,-709.25"/>
<text xml:space="preserve" text-anchor="middle" x="381.48" y="-686.58" font-family="Helvetica,sans-Serif" font-size="14.00">Normalise to absolute units?</text>
</g>
<!-- AbsoluteUnits -->
<g id="node10" class="node">
<title>AbsoluteUnits</title>
<path fill="lightskyblue" stroke="black" d="M562.23,-620C562.23,-620 412.73,-620 412.73,-620 406.73,-620 400.73,-614 400.73,-608 400.73,-608 400.73,-596 400.73,-596 400.73,-590 406.73,-584 412.73,-584 412.73,-584 562.23,-584 562.23,-584 568.23,-584 574.23,-590 574.23,-596 574.23,-596 574.23,-608 574.23,-608 574.23,-614 568.23,-620 562.23,-620"/>
<text xml:space="preserve" text-anchor="middle" x="487.48" y="-597.33" font-family="Helvetica,sans-Serif" font-size="14.00">Scale to absolute units</text>
</g>
<!-- absoluteUnitsEnabled&#45;&gt;AbsoluteUnits -->
<g id="edge9" class="edge">
<title>absoluteUnitsEnabled&#45;&gt;AbsoluteUnits</title>
<path fill="none" stroke="black" d="M400.43,-674.65C416.33,-661.57 439.31,-642.65 457.66,-627.54"/>
<polygon fill="black" stroke="black" points="459.85,-630.28 465.35,-621.22 455.4,-624.87 459.85,-630.28"/>
<text xml:space="preserve" text-anchor="middle" x="455.98" y="-641.95" font-family="Helvetica,sans-Serif" font-size="14.00">yes</text>
</g>
<!-- ConvertToEnergy -->
<g id="node13" class="node">
<title>ConvertToEnergy</title>
<path fill="lightskyblue" stroke="black" d="M482.23,-547C482.23,-547 272.73,-547 272.73,-547 266.73,-547 260.73,-541 260.73,-535 260.73,-535 260.73,-523 260.73,-523 260.73,-517 266.73,-511 272.73,-511 272.73,-511 482.23,-511 482.23,-511 488.23,-511 494.23,-517 494.23,-523 494.23,-523 494.23,-535 494.23,-535 494.23,-541 488.23,-547 482.23,-547"/>
<text xml:space="preserve" text-anchor="middle" x="377.48" y="-524.33" font-family="Helvetica,sans-Serif" font-size="14.00">Convert TOF to energy transfer</text>
</g>
<!-- absoluteUnitsEnabled&#45;&gt;ConvertToEnergy -->
<g id="edge8" class="edge">
<title>absoluteUnitsEnabled&#45;&gt;ConvertToEnergy</title>
<path fill="none" stroke="black" d="M379.2,-672.97C377.44,-658.77 375.16,-638.12 374.23,-620 373.41,-604.02 373.75,-599.99 374.23,-584 374.48,-575.8 374.93,-566.91 375.43,-558.75"/>
<polygon fill="black" stroke="black" points="378.91,-559.21 376.06,-549.01 371.92,-558.76 378.91,-559.21"/>
<text xml:space="preserve" text-anchor="middle" x="382.86" y="-597.33" font-family="Helvetica,sans-Serif" font-size="14.00">no</text>
</g>
<!-- inputDiagnosticsGiven&#45;&gt;ApplyDiagnostics -->
<g id="edge3" class="edge">
<title>inputDiagnosticsGiven&#45;&gt;ApplyDiagnostics</title>
<path fill="none" stroke="black" d="M284.13,-913.22C349.07,-900.44 453,-879.31 551.81,-855.83"/>
<polygon fill="black" stroke="black" points="552.51,-859.26 561.42,-853.53 550.88,-852.45 552.51,-859.26"/>
<text xml:space="preserve" text-anchor="middle" x="484.35" y="-877.2" font-family="Helvetica,sans-Serif" font-size="14.00">yes</text>
</g>
<!-- inputDiagnosticsGiven&#45;&gt;Normalize -->
<g id="edge2" class="edge">
<title>inputDiagnosticsGiven&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M208.01,-909.11C192.61,-886.72 170.81,-846.27 191.23,-819.25 209.14,-795.55 289.75,-779.22 340.12,-771.12"/>
<polygon fill="black" stroke="black" points="340.46,-774.61 349.8,-769.61 339.38,-767.7 340.46,-774.61"/>
<text xml:space="preserve" text-anchor="middle" x="199.86" y="-832.58" font-family="Helvetica,sans-Serif" font-size="14.00">no</text>
</g>
<!-- AbsoluteUnits&#45;&gt;ConvertToEnergy -->
<g id="edge10" class="edge">
<title>AbsoluteUnits&#45;&gt;ConvertToEnergy</title>
<path fill="none" stroke="black" d="M460.57,-583.63C446.59,-574.61 429.3,-563.44 414.11,-553.64"/>
<polygon fill="black" stroke="black" points="416.07,-550.74 405.77,-548.26 412.27,-556.62 416.07,-550.74"/>
</g>
<!-- ApplyDiagnostics&#45;&gt;Normalize -->
<g id="edge5" class="edge">
<title>ApplyDiagnostics&#45;&gt;Normalize</title>
<path fill="none" stroke="black" d="M563.04,-819.87C520.17,-806.98 461.35,-789.28 422.42,-777.57"/>
<polygon fill="black" stroke="black" points="423.54,-774.25 412.96,-774.72 421.53,-780.95 423.54,-774.25"/>
</g>
<!-- ConvertToDistribution -->
<g id="node12" class="node">
<title>ConvertToDistribution</title>
<path fill="lightskyblue" stroke="black" d="M575.48,-255C575.48,-255 433.48,-255 433.48,-255 427.48,-255 421.48,-249 421.48,-243 421.48,-243 421.48,-231 421.48,-231 421.48,-225 427.48,-219 433.48,-219 433.48,-219 575.48,-219 575.48,-219 581.48,-219 587.48,-225 587.48,-231 587.48,-231 587.48,-243 587.48,-243 587.48,-249 581.48,-255 575.48,-255"/>
<text xml:space="preserve" text-anchor="middle" x="504.48" y="-232.32" font-family="Helvetica,sans-Serif" font-size="14.00">ConvertToDistribution</text>
</g>
<!-- GroupDetectors -->
<g id="node16" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M554.86,-182C554.86,-182 454.11,-182 454.11,-182 448.11,-182 442.11,-176 442.11,-170 442.11,-170 442.11,-158 442.11,-158 442.11,-152 448.11,-146 454.11,-146 454.11,-146 554.86,-146 554.86,-146 560.86,-146 566.86,-152 566.86,-158 566.86,-158 566.86,-170 566.86,-170 566.86,-176 560.86,-182 554.86,-182"/>
<text xml:space="preserve" text-anchor="middle" x="504.48" y="-159.32" font-family="Helvetica,sans-Serif" font-size="14.00">GroupDetectors</text>
</g>
<!-- ConvertToDistribution&#45;&gt;GroupDetectors -->
<g id="edge16" class="edge">
<title>ConvertToDistribution&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M504.48,-218.81C504.48,-211.23 504.48,-202.1 504.48,-193.54"/>
<polygon fill="black" stroke="black" points="507.98,-193.54 504.48,-183.54 500.98,-193.54 507.98,-193.54"/>
</g>
<!-- CorrectKiKf -->
<g id="node14" class="node">
<title>CorrectKiKf</title>
<path fill="lightskyblue" stroke="black" d="M411.73,-474C411.73,-474 343.23,-474 343.23,-474 337.23,-474 331.23,-468 331.23,-462 331.23,-462 331.23,-450 331.23,-450 331.23,-444 337.23,-438 343.23,-438 343.23,-438 411.73,-438 411.73,-438 417.73,-438 423.73,-444 423.73,-450 423.73,-450 423.73,-462 423.73,-462 423.73,-468 417.73,-474 411.73,-474"/>
<text xml:space="preserve" text-anchor="middle" x="377.48" y="-451.32" font-family="Helvetica,sans-Serif" font-size="14.00">CorrectKiKf</text>
</g>
<!-- ConvertToEnergy&#45;&gt;CorrectKiKf -->
<g id="edge11" class="edge">
<title>ConvertToEnergy&#45;&gt;CorrectKiKf</title>
<path fill="none" stroke="black" d="M377.48,-510.81C377.48,-503.23 377.48,-494.1 377.48,-485.54"/>
<polygon fill="black" stroke="black" points="380.98,-485.54 377.48,-475.54 373.98,-485.54 380.98,-485.54"/>
</g>
<!-- DetectorEfficiency -->
<g id="node15" class="node">
<title>DetectorEfficiency</title>
<path fill="lightskyblue" stroke="black" d="M464.61,-401C464.61,-401 290.36,-401 290.36,-401 284.36,-401 278.36,-395 278.36,-389 278.36,-389 278.36,-377 278.36,-377 278.36,-371 284.36,-365 290.36,-365 290.36,-365 464.61,-365 464.61,-365 470.61,-365 476.61,-371 476.61,-377 476.61,-377 476.61,-389 476.61,-389 476.61,-395 470.61,-401 464.61,-401"/>
<text xml:space="preserve" text-anchor="middle" x="377.48" y="-378.32" font-family="Helvetica,sans-Serif" font-size="14.00">DetectorEfficiencyCorUser</text>
</g>
<!-- CorrectKiKf&#45;&gt;DetectorEfficiency -->
<g id="edge12" class="edge">
<title>CorrectKiKf&#45;&gt;DetectorEfficiency</title>
<path fill="none" stroke="black" d="M377.48,-437.81C377.48,-430.23 377.48,-421.1 377.48,-412.54"/>
<polygon fill="black" stroke="black" points="380.98,-412.54 377.48,-402.54 373.98,-412.54 380.98,-412.54"/>
</g>
<!-- DetectorEfficiency&#45;&gt;Rebin -->
<g id="edge13" class="edge">
<title>DetectorEfficiency&#45;&gt;Rebin</title>
<path fill="none" stroke="black" d="M408.55,-364.63C425.15,-355.35 445.8,-343.8 463.69,-333.81"/>
<polygon fill="black" stroke="black" points="464.95,-337.11 471.97,-329.17 461.54,-331 464.95,-337.11"/>
</g>
<!-- GroupDetectors&#45;&gt;outputOptionalWS -->
<g id="edge17" class="edge">
<title>GroupDetectors&#45;&gt;outputOptionalWS</title>
<path fill="none" stroke="black" d="M491.89,-145.81C485.83,-137.53 478.42,-127.41 471.67,-118.19"/>
<polygon fill="black" stroke="black" points="474.58,-116.25 465.85,-110.25 468.93,-120.39 474.58,-116.25"/>
</g>
<!-- GroupDetectors&#45;&gt;SofQW -->
<g id="edge18" class="edge">
<title>GroupDetectors&#45;&gt;SofQW</title>
<path fill="none" stroke="black" d="M563.5,-145.54C597.21,-135.57 639.66,-123.01 674.98,-112.56"/>
<polygon fill="black" stroke="black" points="675.64,-116.01 684.24,-109.82 673.66,-109.3 675.64,-116.01"/>
</g>
<!-- Normalize&#45;&gt;absoluteUnitsEnabled -->
<g id="edge7" class="edge">
<title>Normalize&#45;&gt;absoluteUnitsEnabled</title>
<path fill="none" stroke="black" d="M381.48,-746.06C381.48,-738.48 381.48,-729.35 381.48,-720.79"/>
<polygon fill="black" stroke="black" points="384.98,-720.79 381.48,-710.79 377.98,-720.79 384.98,-720.79"/>
</g>
<!-- Rebin&#45;&gt;ConvertToDistribution -->
<g id="edge15" class="edge">
<title>Rebin&#45;&gt;ConvertToDistribution</title>
<path fill="none" stroke="black" d="M504.48,-291.81C504.48,-284.23 504.48,-275.1 504.48,-266.54"/>
<polygon fill="black" stroke="black" points="507.98,-266.54 504.48,-256.54 500.98,-266.54 507.98,-266.54"/>
</g>
<!-- SofQW&#45;&gt;outputWS -->
<g id="edge20" class="edge">
<title>SofQW&#45;&gt;outputWS</title>
<path fill="none" stroke="black" d="M744.48,-72.81C744.48,-65.23 744.48,-56.1 744.48,-47.54"/>
<polygon fill="black" stroke="black" points="747.98,-47.54 744.48,-37.54 740.98,-47.54 747.98,-47.54"/>
</g>
</g>
</svg>
