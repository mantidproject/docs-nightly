<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 11.0.0 (20240519.1550)
 -->
<!-- Title: ReflectometryILLPreprocess Pages: 1 -->
<svg width="388pt" height="925pt"
 viewBox="0.00 0.00 387.50 924.75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 920.75)">
<title>ReflectometryILLPreprocess</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-920.75 383.5,-920.75 383.5,4 -4,4"/>
<text text-anchor="middle" x="189.75" y="-899.45" font-family="Helvetica,sans-Serif" font-size="14.00">Direct Beam Preprocessing</text>
<!-- run -->
<g id="node1" class="node">
<title>run</title>
<ellipse fill="khaki" stroke="black" cx="62.75" cy="-873.5" rx="30.16" ry="18"/>
<text text-anchor="middle" x="62.75" y="-868.83" font-family="Helvetica,sans-Serif" font-size="14.00">Run</text>
</g>
<!-- load -->
<g id="node7" class="node">
<title>load</title>
<path fill="lightskyblue" stroke="black" d="M110.5,-819.5C110.5,-819.5 15,-819.5 15,-819.5 9,-819.5 3,-813.5 3,-807.5 3,-807.5 3,-795.5 3,-795.5 3,-789.5 9,-783.5 15,-783.5 15,-783.5 110.5,-783.5 110.5,-783.5 116.5,-783.5 122.5,-789.5 122.5,-795.5 122.5,-795.5 122.5,-807.5 122.5,-807.5 122.5,-813.5 116.5,-819.5 110.5,-819.5"/>
<text text-anchor="middle" x="62.75" y="-796.83" font-family="Helvetica,sans-Serif" font-size="14.00">LoadAndMerge</text>
</g>
<!-- run&#45;&gt;load -->
<g id="edge1" class="edge">
<title>run&#45;&gt;load</title>
<path fill="none" stroke="black" d="M62.75,-855.2C62.75,-847.91 62.75,-839.23 62.75,-831.04"/>
<polygon fill="black" stroke="black" points="66.25,-831.12 62.75,-821.12 59.25,-831.12 66.25,-831.12"/>
</g>
<!-- output -->
<g id="node2" class="node">
<title>output</title>
<ellipse fill="khaki" stroke="black" cx="180.75" cy="-18" rx="98.56" ry="18"/>
<text text-anchor="middle" x="180.75" y="-13.32" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- waterReference -->
<g id="node3" class="node">
<title>waterReference</title>
<ellipse fill="khaki" stroke="black" cx="236.75" cy="-729.5" rx="92.77" ry="18"/>
<text text-anchor="middle" x="236.75" y="-724.83" font-family="Helvetica,sans-Serif" font-size="14.00">WaterWorkspace</text>
</g>
<!-- waterNorm -->
<g id="node8" class="node">
<title>waterNorm</title>
<path fill="lightskyblue" stroke="black" d="M200.12,-658.25C200.12,-658.25 99.38,-658.25 99.38,-658.25 93.38,-658.25 87.38,-652.25 87.38,-646.25 87.38,-646.25 87.38,-627.75 87.38,-627.75 87.38,-621.75 93.38,-615.75 99.38,-615.75 99.38,-615.75 200.12,-615.75 200.12,-615.75 206.12,-615.75 212.12,-621.75 212.12,-627.75 212.12,-627.75 212.12,-646.25 212.12,-646.25 212.12,-652.25 206.12,-658.25 200.12,-658.25"/>
<text text-anchor="middle" x="149.75" y="-640.95" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="149.75" y="-623.7" font-family="Helvetica,sans-Serif" font-size="14.00">water reference</text>
</g>
<!-- waterReference&#45;&gt;waterNorm -->
<g id="edge4" class="edge">
<title>waterReference&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M220.39,-711.48C208.18,-698.78 191.22,-681.13 176.98,-666.32"/>
<polygon fill="black" stroke="black" points="179.89,-664.31 170.44,-659.52 174.85,-669.16 179.89,-664.31"/>
<text text-anchor="middle" x="221.25" y="-680.2" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin</text>
</g>
<!-- toWavelength -->
<g id="node4" class="node">
<title>toWavelength</title>
<path fill="lightskyblue" stroke="black" d="M238.62,-260.5C238.62,-260.5 122.88,-260.5 122.88,-260.5 116.88,-260.5 110.88,-254.5 110.88,-248.5 110.88,-248.5 110.88,-230 110.88,-230 110.88,-224 116.88,-218 122.88,-218 122.88,-218 238.62,-218 238.62,-218 244.62,-218 250.62,-224 250.62,-230 250.62,-230 250.62,-248.5 250.62,-248.5 250.62,-254.5 244.62,-260.5 238.62,-260.5"/>
<text text-anchor="middle" x="180.75" y="-243.2" font-family="Helvetica,sans-Serif" font-size="14.00">Convert from TOF</text>
<text text-anchor="middle" x="180.75" y="-225.95" font-family="Helvetica,sans-Serif" font-size="14.00"> to wavelength</text>
</g>
<!-- correctGravity -->
<g id="node13" class="node">
<title>correctGravity</title>
<polygon fill="limegreen" stroke="black" points="180.75,-182 31.7,-164 180.75,-146 329.8,-164 180.75,-182"/>
<text text-anchor="middle" x="180.75" y="-159.32" font-family="Helvetica,sans-Serif" font-size="14.00">Correct for gravity?</text>
</g>
<!-- toWavelength&#45;&gt;correctGravity -->
<g id="edge11" class="edge">
<title>toWavelength&#45;&gt;correctGravity</title>
<path fill="none" stroke="black" d="M180.75,-217.85C180.75,-210.34 180.75,-201.69 180.75,-193.59"/>
<polygon fill="black" stroke="black" points="184.25,-193.83 180.75,-183.83 177.25,-193.83 184.25,-193.83"/>
</g>
<!-- extractMonitors -->
<g id="node5" class="node">
<title>extractMonitors</title>
<path fill="lightskyblue" stroke="black" d="M113.5,-747.5C113.5,-747.5 12,-747.5 12,-747.5 6,-747.5 0,-741.5 0,-735.5 0,-735.5 0,-723.5 0,-723.5 0,-717.5 6,-711.5 12,-711.5 12,-711.5 113.5,-711.5 113.5,-711.5 119.5,-711.5 125.5,-717.5 125.5,-723.5 125.5,-723.5 125.5,-735.5 125.5,-735.5 125.5,-741.5 119.5,-747.5 113.5,-747.5"/>
<text text-anchor="middle" x="62.75" y="-724.83" font-family="Helvetica,sans-Serif" font-size="14.00">ExtractMonitors</text>
</g>
<!-- extractMonitors&#45;&gt;waterNorm -->
<g id="edge3" class="edge">
<title>extractMonitors&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M79.52,-711.05C91.58,-698.51 108.1,-681.33 122.09,-666.77"/>
<polygon fill="black" stroke="black" points="124.53,-669.29 128.93,-659.66 119.48,-664.44 124.53,-669.29"/>
</g>
<!-- fluxNorm -->
<g id="node6" class="node">
<title>fluxNorm</title>
<path fill="lightskyblue" stroke="black" d="M243.12,-411C243.12,-411 118.38,-411 118.38,-411 112.38,-411 106.38,-405 106.38,-399 106.38,-399 106.38,-380.5 106.38,-380.5 106.38,-374.5 112.38,-368.5 118.38,-368.5 118.38,-368.5 243.12,-368.5 243.12,-368.5 249.12,-368.5 255.12,-374.5 255.12,-380.5 255.12,-380.5 255.12,-399 255.12,-399 255.12,-405 249.12,-411 243.12,-411"/>
<text text-anchor="middle" x="180.75" y="-393.7" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by duration/</text>
<text text-anchor="middle" x="180.75" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">monitor counts</text>
</g>
<!-- subtractBkg -->
<g id="node10" class="node">
<title>subtractBkg</title>
<path fill="lightskyblue" stroke="black" d="M249.88,-332.5C249.88,-332.5 111.62,-332.5 111.62,-332.5 105.62,-332.5 99.62,-326.5 99.62,-320.5 99.62,-320.5 99.62,-308.5 99.62,-308.5 99.62,-302.5 105.62,-296.5 111.62,-296.5 111.62,-296.5 249.88,-296.5 249.88,-296.5 255.88,-296.5 261.88,-302.5 261.88,-308.5 261.88,-308.5 261.88,-320.5 261.88,-320.5 261.88,-326.5 255.88,-332.5 249.88,-332.5"/>
<text text-anchor="middle" x="180.75" y="-309.82" font-family="Helvetica,sans-Serif" font-size="14.00">Subtract background</text>
</g>
<!-- fluxNorm&#45;&gt;subtractBkg -->
<g id="edge9" class="edge">
<title>fluxNorm&#45;&gt;subtractBkg</title>
<path fill="none" stroke="black" d="M180.75,-368.35C180.75,-360.84 180.75,-352.19 180.75,-344.09"/>
<polygon fill="black" stroke="black" points="184.25,-344.33 180.75,-334.33 177.25,-344.33 184.25,-344.33"/>
</g>
<!-- load&#45;&gt;extractMonitors -->
<g id="edge2" class="edge">
<title>load&#45;&gt;extractMonitors</title>
<path fill="none" stroke="black" d="M62.75,-783.2C62.75,-775.91 62.75,-767.23 62.75,-759.04"/>
<polygon fill="black" stroke="black" points="66.25,-759.12 62.75,-749.12 59.25,-759.12 66.25,-759.12"/>
</g>
<!-- isSlitNorm -->
<g id="node12" class="node">
<title>isSlitNorm</title>
<polygon fill="limegreen" stroke="black" points="149.75,-579.75 10.37,-561.75 149.75,-543.75 289.13,-561.75 149.75,-579.75"/>
<text text-anchor="middle" x="149.75" y="-557.08" font-family="Helvetica,sans-Serif" font-size="14.00">SlitNormalisation?</text>
</g>
<!-- waterNorm&#45;&gt;isSlitNorm -->
<g id="edge5" class="edge">
<title>waterNorm&#45;&gt;isSlitNorm</title>
<path fill="none" stroke="black" d="M149.75,-615.6C149.75,-608.09 149.75,-599.44 149.75,-591.34"/>
<polygon fill="black" stroke="black" points="153.25,-591.58 149.75,-581.58 146.25,-591.58 153.25,-591.58"/>
</g>
<!-- slitNorm -->
<g id="node9" class="node">
<title>slitNorm</title>
<path fill="lightskyblue" stroke="black" d="M153.5,-490.5C153.5,-490.5 46,-490.5 46,-490.5 40,-490.5 34,-484.5 34,-478.5 34,-478.5 34,-460 34,-460 34,-454 40,-448 46,-448 46,-448 153.5,-448 153.5,-448 159.5,-448 165.5,-454 165.5,-460 165.5,-460 165.5,-478.5 165.5,-478.5 165.5,-484.5 159.5,-490.5 153.5,-490.5"/>
<text text-anchor="middle" x="99.75" y="-473.2" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="99.75" y="-455.95" font-family="Helvetica,sans-Serif" font-size="14.00">slit opening area</text>
</g>
<!-- slitNorm&#45;&gt;fluxNorm -->
<g id="edge8" class="edge">
<title>slitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M121.03,-447.89C130.26,-439.06 141.22,-428.57 151.22,-419.01"/>
<polygon fill="black" stroke="black" points="153.43,-421.73 158.24,-412.29 148.59,-416.68 153.43,-421.73"/>
</g>
<!-- subtractBkg&#45;&gt;toWavelength -->
<g id="edge10" class="edge">
<title>subtractBkg&#45;&gt;toWavelength</title>
<path fill="none" stroke="black" d="M180.75,-296.14C180.75,-288.95 180.75,-280.38 180.75,-272.13"/>
<polygon fill="black" stroke="black" points="184.25,-272.38 180.75,-262.38 177.25,-272.38 184.25,-272.38"/>
</g>
<!-- gravityCorrection -->
<g id="node11" class="node">
<title>gravityCorrection</title>
<path fill="lightskyblue" stroke="black" d="M358.25,-109C358.25,-109 195.25,-109 195.25,-109 189.25,-109 183.25,-103 183.25,-97 183.25,-97 183.25,-85 183.25,-85 183.25,-79 189.25,-73 195.25,-73 195.25,-73 358.25,-73 358.25,-73 364.25,-73 370.25,-79 370.25,-85 370.25,-85 370.25,-97 370.25,-97 370.25,-103 364.25,-109 358.25,-109"/>
<text text-anchor="middle" x="276.75" y="-86.33" font-family="Helvetica,sans-Serif" font-size="14.00">Gravity correction step 1</text>
</g>
<!-- gravityCorrection&#45;&gt;output -->
<g id="edge14" class="edge">
<title>gravityCorrection&#45;&gt;output</title>
<path fill="none" stroke="black" d="M253.51,-72.81C241.16,-63.68 225.79,-52.31 212.37,-42.38"/>
<polygon fill="black" stroke="black" points="214.78,-39.82 204.66,-36.68 210.62,-45.44 214.78,-39.82"/>
</g>
<!-- isSlitNorm&#45;&gt;fluxNorm -->
<g id="edge7" class="edge">
<title>isSlitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M190.6,-548.55C201.28,-543.31 211.53,-535.95 217.75,-525.75 237.67,-493.09 219.1,-449.54 201.84,-420.85"/>
<polygon fill="black" stroke="black" points="204.96,-419.23 196.66,-412.64 199.04,-422.97 204.96,-419.23"/>
<text text-anchor="middle" x="302.62" y="-464.57" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation OFF</text>
</g>
<!-- isSlitNorm&#45;&gt;slitNorm -->
<g id="edge6" class="edge">
<title>isSlitNorm&#45;&gt;slitNorm</title>
<path fill="none" stroke="black" d="M101.19,-549.71C88.97,-544.51 77.28,-536.89 70,-525.75 64.7,-517.64 66.64,-508.49 71.44,-499.99"/>
<polygon fill="black" stroke="black" points="74.15,-502.23 76.97,-492.01 68.4,-498.24 74.15,-502.23"/>
<text text-anchor="middle" x="144.62" y="-512.45" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation ON</text>
</g>
<!-- correctGravity&#45;&gt;output -->
<g id="edge12" class="edge">
<title>correctGravity&#45;&gt;output</title>
<path fill="none" stroke="black" d="M178.38,-146.02C177.01,-135.4 175.44,-121.43 174.75,-109 173.87,-93.02 173.87,-88.98 174.75,-73 175.21,-64.77 176.05,-55.87 176.96,-47.72"/>
<polygon fill="black" stroke="black" points="180.42,-48.32 178.13,-37.97 173.47,-47.48 180.42,-48.32"/>
</g>
<!-- correctGravity&#45;&gt;gravityCorrection -->
<g id="edge13" class="edge">
<title>correctGravity&#45;&gt;gravityCorrection</title>
<path fill="none" stroke="black" d="M200.64,-148.29C213.17,-139.03 229.63,-126.85 244.04,-116.19"/>
<polygon fill="black" stroke="black" points="245.98,-119.11 251.94,-110.35 241.82,-113.48 245.98,-119.11"/>
</g>
</g>
</svg>
