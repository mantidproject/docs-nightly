<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 13.0.1 (20250616.1512)
 -->
<!-- Title: ReflectometryILLPreprocess Pages: 1 -->
<svg width="558pt" height="1004pt"
 viewBox="0.00 0.00 558.00 1004.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 999.75)">
<title>ReflectometryILLPreprocess</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-999.75 553.83,-999.75 553.83,4 -4,4"/>
<text xml:space="preserve" text-anchor="middle" x="274.92" y="-978.45" font-family="Helvetica,sans-Serif" font-size="14.00">Reflected Beam Preprocessing</text>
<!-- run -->
<g id="node1" class="node">
<title>run</title>
<ellipse fill="khaki" stroke="black" cx="30.16" cy="-879.5" rx="30.16" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="30.16" y="-874.83" font-family="Helvetica,sans-Serif" font-size="14.00">Run</text>
</g>
<!-- load -->
<g id="node10" class="node">
<title>load</title>
<path fill="lightskyblue" stroke="black" d="M264.91,-824.5C264.91,-824.5 169.41,-824.5 169.41,-824.5 163.41,-824.5 157.41,-818.5 157.41,-812.5 157.41,-812.5 157.41,-800.5 157.41,-800.5 157.41,-794.5 163.41,-788.5 169.41,-788.5 169.41,-788.5 264.91,-788.5 264.91,-788.5 270.91,-788.5 276.91,-794.5 276.91,-800.5 276.91,-800.5 276.91,-812.5 276.91,-812.5 276.91,-818.5 270.91,-824.5 264.91,-824.5"/>
<text xml:space="preserve" text-anchor="middle" x="217.16" y="-801.83" font-family="Helvetica,sans-Serif" font-size="14.00">LoadAndMerge</text>
</g>
<!-- run&#45;&gt;load -->
<g id="edge7" class="edge">
<title>run&#45;&gt;load</title>
<path fill="none" stroke="black" d="M53.58,-868.02C58.69,-865.81 64.09,-863.53 69.16,-861.5 97.51,-850.16 129.27,-838.45 156.09,-828.84"/>
<polygon fill="black" stroke="black" points="157.2,-832.16 165.44,-825.5 154.84,-825.56 157.2,-832.16"/>
</g>
<!-- output -->
<g id="node2" class="node">
<title>output</title>
<ellipse fill="khaki" stroke="black" cx="335.16" cy="-18" rx="98.56" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="335.16" y="-13.32" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- waterReference -->
<g id="node3" class="node">
<title>waterReference</title>
<ellipse fill="khaki" stroke="black" cx="391.16" cy="-733.5" rx="92.77" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="391.16" y="-728.83" font-family="Helvetica,sans-Serif" font-size="14.00">WaterWorkspace</text>
</g>
<!-- waterNorm -->
<g id="node11" class="node">
<title>waterNorm</title>
<path fill="lightskyblue" stroke="black" d="M354.54,-662.25C354.54,-662.25 253.79,-662.25 253.79,-662.25 247.79,-662.25 241.79,-656.25 241.79,-650.25 241.79,-650.25 241.79,-631.75 241.79,-631.75 241.79,-625.75 247.79,-619.75 253.79,-619.75 253.79,-619.75 354.54,-619.75 354.54,-619.75 360.54,-619.75 366.54,-625.75 366.54,-631.75 366.54,-631.75 366.54,-650.25 366.54,-650.25 366.54,-656.25 360.54,-662.25 354.54,-662.25"/>
<text xml:space="preserve" text-anchor="middle" x="304.16" y="-644.95" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text xml:space="preserve" text-anchor="middle" x="304.16" y="-627.7" font-family="Helvetica,sans-Serif" font-size="14.00">water reference</text>
</g>
<!-- waterReference&#45;&gt;waterNorm -->
<g id="edge10" class="edge">
<title>waterReference&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M374.8,-715.48C362.59,-702.78 345.63,-685.13 331.39,-670.32"/>
<polygon fill="black" stroke="black" points="334.31,-668.31 324.85,-663.52 329.26,-673.16 334.31,-668.31"/>
<text xml:space="preserve" text-anchor="middle" x="374.96" y="-684.2" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin</text>
</g>
<!-- uan -->
<g id="node4" class="node">
<title>uan</title>
<ellipse fill="khaki" stroke="black" cx="140.16" cy="-879.5" rx="61.73" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="140.16" y="-874.83" font-family="Helvetica,sans-Serif" font-size="14.00">UserAngle</text>
</g>
<!-- uan&#45;&gt;load -->
<g id="edge4" class="edge">
<title>uan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M158.02,-862.03C167.56,-853.24 179.49,-842.24 190.14,-832.42"/>
<polygon fill="black" stroke="black" points="192.24,-835.25 197.21,-825.89 187.49,-830.1 192.24,-835.25"/>
</g>
<!-- san -->
<g id="node5" class="node">
<title>san</title>
<ellipse fill="khaki" stroke="black" cx="295.16" cy="-879.5" rx="75.41" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="295.16" y="-874.83" font-family="Helvetica,sans-Serif" font-size="14.00">SampleAngle</text>
</g>
<!-- san&#45;&gt;load -->
<g id="edge5" class="edge">
<title>san&#45;&gt;load</title>
<path fill="none" stroke="black" d="M276.68,-861.67C267.18,-853.02 255.4,-842.31 244.84,-832.69"/>
<polygon fill="black" stroke="black" points="247.2,-830.11 237.45,-825.97 242.49,-835.29 247.2,-830.11"/>
</g>
<!-- dan -->
<g id="node6" class="node">
<title>dan</title>
<ellipse fill="khaki" stroke="black" cx="469.16" cy="-879.5" rx="80.67" ry="18"/>
<text xml:space="preserve" text-anchor="middle" x="469.16" y="-874.83" font-family="Helvetica,sans-Serif" font-size="14.00">DetectorAngle</text>
</g>
<!-- dan&#45;&gt;load -->
<g id="edge6" class="edge">
<title>dan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M420.58,-864.81C383.03,-854.23 330.5,-839.43 288.23,-827.52"/>
<polygon fill="black" stroke="black" points="289.2,-824.16 278.62,-824.82 287.3,-830.9 289.2,-824.16"/>
</g>
<!-- toWavelength -->
<g id="node7" class="node">
<title>toWavelength</title>
<path fill="lightskyblue" stroke="black" d="M393.04,-261.5C393.04,-261.5 277.29,-261.5 277.29,-261.5 271.29,-261.5 265.29,-255.5 265.29,-249.5 265.29,-249.5 265.29,-231 265.29,-231 265.29,-225 271.29,-219 277.29,-219 277.29,-219 393.04,-219 393.04,-219 399.04,-219 405.04,-225 405.04,-231 405.04,-231 405.04,-249.5 405.04,-249.5 405.04,-255.5 399.04,-261.5 393.04,-261.5"/>
<text xml:space="preserve" text-anchor="middle" x="335.16" y="-244.2" font-family="Helvetica,sans-Serif" font-size="14.00">Convert from TOF</text>
<text xml:space="preserve" text-anchor="middle" x="335.16" y="-226.95" font-family="Helvetica,sans-Serif" font-size="14.00"> to wavelength</text>
</g>
<!-- correctGravity -->
<g id="node17" class="node">
<title>correctGravity</title>
<polygon fill="limegreen" stroke="black" points="335.16,-182 186.11,-164 335.16,-146 484.22,-164 335.16,-182"/>
<text xml:space="preserve" text-anchor="middle" x="335.16" y="-159.32" font-family="Helvetica,sans-Serif" font-size="14.00">Correct for gravity?</text>
</g>
<!-- toWavelength&#45;&gt;correctGravity -->
<g id="edge17" class="edge">
<title>toWavelength&#45;&gt;correctGravity</title>
<path fill="none" stroke="black" d="M335.16,-218.57C335.16,-210.75 335.16,-201.72 335.16,-193.32"/>
<polygon fill="black" stroke="black" points="338.66,-193.58 335.16,-183.58 331.66,-193.58 338.66,-193.58"/>
</g>
<!-- extractMonitors -->
<g id="node8" class="node">
<title>extractMonitors</title>
<path fill="lightskyblue" stroke="black" d="M267.91,-751.5C267.91,-751.5 166.41,-751.5 166.41,-751.5 160.41,-751.5 154.41,-745.5 154.41,-739.5 154.41,-739.5 154.41,-727.5 154.41,-727.5 154.41,-721.5 160.41,-715.5 166.41,-715.5 166.41,-715.5 267.91,-715.5 267.91,-715.5 273.91,-715.5 279.91,-721.5 279.91,-727.5 279.91,-727.5 279.91,-739.5 279.91,-739.5 279.91,-745.5 273.91,-751.5 267.91,-751.5"/>
<text xml:space="preserve" text-anchor="middle" x="217.16" y="-728.83" font-family="Helvetica,sans-Serif" font-size="14.00">ExtractMonitors</text>
</g>
<!-- extractMonitors&#45;&gt;waterNorm -->
<g id="edge9" class="edge">
<title>extractMonitors&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M233.94,-715.05C245.99,-702.51 262.51,-685.33 276.5,-670.77"/>
<polygon fill="black" stroke="black" points="278.94,-673.29 283.35,-663.66 273.89,-668.44 278.94,-673.29"/>
</g>
<!-- fluxNorm -->
<g id="node9" class="node">
<title>fluxNorm</title>
<path fill="lightskyblue" stroke="black" d="M397.54,-414C397.54,-414 272.79,-414 272.79,-414 266.79,-414 260.79,-408 260.79,-402 260.79,-402 260.79,-383.5 260.79,-383.5 260.79,-377.5 266.79,-371.5 272.79,-371.5 272.79,-371.5 397.54,-371.5 397.54,-371.5 403.54,-371.5 409.54,-377.5 409.54,-383.5 409.54,-383.5 409.54,-402 409.54,-402 409.54,-408 403.54,-414 397.54,-414"/>
<text xml:space="preserve" text-anchor="middle" x="335.16" y="-396.7" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by duration/</text>
<text xml:space="preserve" text-anchor="middle" x="335.16" y="-379.45" font-family="Helvetica,sans-Serif" font-size="14.00">monitor counts</text>
</g>
<!-- subtractBkg -->
<g id="node13" class="node">
<title>subtractBkg</title>
<path fill="lightskyblue" stroke="black" d="M404.29,-334.5C404.29,-334.5 266.04,-334.5 266.04,-334.5 260.04,-334.5 254.04,-328.5 254.04,-322.5 254.04,-322.5 254.04,-310.5 254.04,-310.5 254.04,-304.5 260.04,-298.5 266.04,-298.5 266.04,-298.5 404.29,-298.5 404.29,-298.5 410.29,-298.5 416.29,-304.5 416.29,-310.5 416.29,-310.5 416.29,-322.5 416.29,-322.5 416.29,-328.5 410.29,-334.5 404.29,-334.5"/>
<text xml:space="preserve" text-anchor="middle" x="335.16" y="-311.82" font-family="Helvetica,sans-Serif" font-size="14.00">Subtract background</text>
</g>
<!-- fluxNorm&#45;&gt;subtractBkg -->
<g id="edge15" class="edge">
<title>fluxNorm&#45;&gt;subtractBkg</title>
<path fill="none" stroke="black" d="M335.16,-371.07C335.16,-363.25 335.16,-354.22 335.16,-345.82"/>
<polygon fill="black" stroke="black" points="338.66,-346.08 335.16,-336.08 331.66,-346.08 338.66,-346.08"/>
</g>
<!-- load&#45;&gt;extractMonitors -->
<g id="edge8" class="edge">
<title>load&#45;&gt;extractMonitors</title>
<path fill="none" stroke="black" d="M217.16,-788.31C217.16,-780.73 217.16,-771.6 217.16,-763.04"/>
<polygon fill="black" stroke="black" points="220.66,-763.04 217.16,-753.04 213.66,-763.04 220.66,-763.04"/>
</g>
<!-- isSlitNorm -->
<g id="node15" class="node">
<title>isSlitNorm</title>
<polygon fill="limegreen" stroke="black" points="304.16,-582.75 164.78,-564.75 304.16,-546.75 443.55,-564.75 304.16,-582.75"/>
<text xml:space="preserve" text-anchor="middle" x="304.16" y="-560.08" font-family="Helvetica,sans-Serif" font-size="14.00">SlitNormalisation?</text>
</g>
<!-- waterNorm&#45;&gt;isSlitNorm -->
<g id="edge11" class="edge">
<title>waterNorm&#45;&gt;isSlitNorm</title>
<path fill="none" stroke="black" d="M304.16,-619.32C304.16,-611.5 304.16,-602.47 304.16,-594.07"/>
<polygon fill="black" stroke="black" points="307.66,-594.33 304.16,-584.33 300.66,-594.33 307.66,-594.33"/>
</g>
<!-- slitNorm -->
<g id="node12" class="node">
<title>slitNorm</title>
<path fill="lightskyblue" stroke="black" d="M307.91,-493.5C307.91,-493.5 200.41,-493.5 200.41,-493.5 194.41,-493.5 188.41,-487.5 188.41,-481.5 188.41,-481.5 188.41,-463 188.41,-463 188.41,-457 194.41,-451 200.41,-451 200.41,-451 307.91,-451 307.91,-451 313.91,-451 319.91,-457 319.91,-463 319.91,-463 319.91,-481.5 319.91,-481.5 319.91,-487.5 313.91,-493.5 307.91,-493.5"/>
<text xml:space="preserve" text-anchor="middle" x="254.16" y="-476.2" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text xml:space="preserve" text-anchor="middle" x="254.16" y="-458.95" font-family="Helvetica,sans-Serif" font-size="14.00">slit opening area</text>
</g>
<!-- slitNorm&#45;&gt;fluxNorm -->
<g id="edge14" class="edge">
<title>slitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M275.45,-450.89C284.67,-442.06 295.63,-431.57 305.63,-422.01"/>
<polygon fill="black" stroke="black" points="307.84,-424.73 312.65,-415.29 303,-419.68 307.84,-424.73"/>
</g>
<!-- subtractBkg&#45;&gt;toWavelength -->
<g id="edge16" class="edge">
<title>subtractBkg&#45;&gt;toWavelength</title>
<path fill="none" stroke="black" d="M335.16,-298.28C335.16,-290.8 335.16,-281.79 335.16,-273.16"/>
<polygon fill="black" stroke="black" points="338.66,-273.32 335.16,-263.32 331.66,-273.32 338.66,-273.32"/>
</g>
<!-- gravityCorrection -->
<g id="node14" class="node">
<title>gravityCorrection</title>
<path fill="lightskyblue" stroke="black" d="M526.66,-109C526.66,-109 363.66,-109 363.66,-109 357.66,-109 351.66,-103 351.66,-97 351.66,-97 351.66,-85 351.66,-85 351.66,-79 357.66,-73 363.66,-73 363.66,-73 526.66,-73 526.66,-73 532.66,-73 538.66,-79 538.66,-85 538.66,-85 538.66,-97 538.66,-97 538.66,-103 532.66,-109 526.66,-109"/>
<text xml:space="preserve" text-anchor="middle" x="445.16" y="-86.33" font-family="Helvetica,sans-Serif" font-size="14.00">Gravity correction step 1</text>
</g>
<!-- gravityCorrection&#45;&gt;output -->
<g id="edge20" class="edge">
<title>gravityCorrection&#45;&gt;output</title>
<path fill="none" stroke="black" d="M418.25,-72.63C403.82,-63.32 385.86,-51.72 370.34,-41.7"/>
<polygon fill="black" stroke="black" points="372.61,-39 362.31,-36.52 368.81,-44.88 372.61,-39"/>
</g>
<!-- isSlitNorm&#45;&gt;fluxNorm -->
<g id="edge13" class="edge">
<title>isSlitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M345.01,-551.55C355.69,-546.31 365.94,-538.95 372.16,-528.75 392.09,-496.09 373.51,-452.54 356.25,-423.85"/>
<polygon fill="black" stroke="black" points="359.37,-422.23 351.08,-415.64 353.45,-425.97 359.37,-422.23"/>
<text xml:space="preserve" text-anchor="middle" x="457.56" y="-467.57" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation OFF</text>
</g>
<!-- isSlitNorm&#45;&gt;slitNorm -->
<g id="edge12" class="edge">
<title>isSlitNorm&#45;&gt;slitNorm</title>
<path fill="none" stroke="black" d="M255.61,-552.71C243.39,-547.51 231.69,-539.89 224.41,-528.75 219.11,-520.64 221.05,-511.49 225.85,-502.99"/>
<polygon fill="black" stroke="black" points="228.56,-505.23 231.39,-495.01 222.81,-501.24 228.56,-505.23"/>
<text xml:space="preserve" text-anchor="middle" x="298.29" y="-515.45" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation ON</text>
</g>
<!-- angleOption -->
<g id="node16" class="node">
<title>angleOption</title>
<polygon fill="limegreen" stroke="black" points="295.16,-970.5 193.73,-952.5 295.16,-934.5 396.6,-952.5 295.16,-970.5"/>
<text xml:space="preserve" text-anchor="middle" x="295.16" y="-947.83" font-family="Helvetica,sans-Serif" font-size="14.00">AngleOption</text>
</g>
<!-- angleOption&#45;&gt;uan -->
<g id="edge1" class="edge">
<title>angleOption&#45;&gt;uan</title>
<path fill="none" stroke="black" d="M267.81,-938.97C244.26,-928.18 209.87,-912.43 182.72,-899.99"/>
<polygon fill="black" stroke="black" points="184.26,-896.85 173.71,-895.87 181.34,-903.21 184.26,-896.85"/>
</g>
<!-- angleOption&#45;&gt;san -->
<g id="edge2" class="edge">
<title>angleOption&#45;&gt;san</title>
<path fill="none" stroke="black" d="M295.16,-934.31C295.16,-926.73 295.16,-917.6 295.16,-909.04"/>
<polygon fill="black" stroke="black" points="298.66,-909.04 295.16,-899.04 291.66,-909.04 298.66,-909.04"/>
</g>
<!-- angleOption&#45;&gt;dan -->
<g id="edge3" class="edge">
<title>angleOption&#45;&gt;dan</title>
<path fill="none" stroke="black" d="M324.68,-939.46C351.05,-928.7 390.16,-912.74 421.05,-900.13"/>
<polygon fill="black" stroke="black" points="422.26,-903.42 430.19,-896.4 419.61,-896.94 422.26,-903.42"/>
</g>
<!-- correctGravity&#45;&gt;output -->
<g id="edge18" class="edge">
<title>correctGravity&#45;&gt;output</title>
<path fill="none" stroke="black" d="M335.16,-145.63C335.16,-121.3 335.16,-76.8 335.16,-47.56"/>
<polygon fill="black" stroke="black" points="338.66,-47.94 335.16,-37.94 331.66,-47.94 338.66,-47.94"/>
</g>
<!-- correctGravity&#45;&gt;gravityCorrection -->
<g id="edge19" class="edge">
<title>correctGravity&#45;&gt;gravityCorrection</title>
<path fill="none" stroke="black" d="M357.96,-148.29C372.58,-138.85 391.89,-126.38 408.63,-115.58"/>
<polygon fill="black" stroke="black" points="410.35,-118.63 416.86,-110.27 406.56,-112.75 410.35,-118.63"/>
</g>
</g>
</svg>
