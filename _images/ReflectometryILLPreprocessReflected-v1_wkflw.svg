<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 11.0.0 (20240519.1550)
 -->
<!-- Title: ReflectometryILLPreprocess Pages: 1 -->
<svg width="558pt" height="997pt"
 viewBox="0.00 0.00 557.83 996.75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 992.75)">
<title>ReflectometryILLPreprocess</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-992.75 553.83,-992.75 553.83,4 -4,4"/>
<text text-anchor="middle" x="274.92" y="-971.45" font-family="Helvetica,sans-Serif" font-size="14.00">Reflected Beam Preprocessing</text>
<!-- run -->
<g id="node1" class="node">
<title>run</title>
<ellipse fill="khaki" stroke="black" cx="30.16" cy="-873.5" rx="30.16" ry="18"/>
<text text-anchor="middle" x="30.16" y="-868.83" font-family="Helvetica,sans-Serif" font-size="14.00">Run</text>
</g>
<!-- load -->
<g id="node10" class="node">
<title>load</title>
<path fill="lightskyblue" stroke="black" d="M264.91,-819.5C264.91,-819.5 169.41,-819.5 169.41,-819.5 163.41,-819.5 157.41,-813.5 157.41,-807.5 157.41,-807.5 157.41,-795.5 157.41,-795.5 157.41,-789.5 163.41,-783.5 169.41,-783.5 169.41,-783.5 264.91,-783.5 264.91,-783.5 270.91,-783.5 276.91,-789.5 276.91,-795.5 276.91,-795.5 276.91,-807.5 276.91,-807.5 276.91,-813.5 270.91,-819.5 264.91,-819.5"/>
<text text-anchor="middle" x="217.16" y="-796.83" font-family="Helvetica,sans-Serif" font-size="14.00">LoadAndMerge</text>
</g>
<!-- run&#45;&gt;load -->
<g id="edge7" class="edge">
<title>run&#45;&gt;load</title>
<path fill="none" stroke="black" d="M53.57,-861.99C58.68,-859.78 64.08,-857.51 69.16,-855.5 97.15,-844.4 128.49,-833.03 155.11,-823.68"/>
<polygon fill="black" stroke="black" points="156.1,-827.04 164.39,-820.43 153.79,-820.43 156.1,-827.04"/>
</g>
<!-- output -->
<g id="node2" class="node">
<title>output</title>
<ellipse fill="khaki" stroke="black" cx="335.16" cy="-18" rx="98.56" ry="18"/>
<text text-anchor="middle" x="335.16" y="-13.32" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- waterReference -->
<g id="node3" class="node">
<title>waterReference</title>
<ellipse fill="khaki" stroke="black" cx="391.16" cy="-729.5" rx="92.77" ry="18"/>
<text text-anchor="middle" x="391.16" y="-724.83" font-family="Helvetica,sans-Serif" font-size="14.00">WaterWorkspace</text>
</g>
<!-- waterNorm -->
<g id="node11" class="node">
<title>waterNorm</title>
<path fill="lightskyblue" stroke="black" d="M354.54,-658.25C354.54,-658.25 253.79,-658.25 253.79,-658.25 247.79,-658.25 241.79,-652.25 241.79,-646.25 241.79,-646.25 241.79,-627.75 241.79,-627.75 241.79,-621.75 247.79,-615.75 253.79,-615.75 253.79,-615.75 354.54,-615.75 354.54,-615.75 360.54,-615.75 366.54,-621.75 366.54,-627.75 366.54,-627.75 366.54,-646.25 366.54,-646.25 366.54,-652.25 360.54,-658.25 354.54,-658.25"/>
<text text-anchor="middle" x="304.16" y="-640.95" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="304.16" y="-623.7" font-family="Helvetica,sans-Serif" font-size="14.00">water reference</text>
</g>
<!-- waterReference&#45;&gt;waterNorm -->
<g id="edge10" class="edge">
<title>waterReference&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M374.8,-711.48C362.59,-698.78 345.63,-681.13 331.39,-666.32"/>
<polygon fill="black" stroke="black" points="334.31,-664.31 324.85,-659.52 329.26,-669.16 334.31,-664.31"/>
<text text-anchor="middle" x="374.66" y="-680.2" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin</text>
</g>
<!-- uan -->
<g id="node4" class="node">
<title>uan</title>
<ellipse fill="khaki" stroke="black" cx="140.16" cy="-873.5" rx="61.73" ry="18"/>
<text text-anchor="middle" x="140.16" y="-868.83" font-family="Helvetica,sans-Serif" font-size="14.00">UserAngle</text>
</g>
<!-- uan&#45;&gt;load -->
<g id="edge4" class="edge">
<title>uan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M158.41,-855.91C167.72,-847.45 179.24,-836.97 189.61,-827.55"/>
<polygon fill="black" stroke="black" points="191.81,-830.28 196.85,-820.96 187.1,-825.1 191.81,-830.28"/>
</g>
<!-- san -->
<g id="node5" class="node">
<title>san</title>
<ellipse fill="khaki" stroke="black" cx="295.16" cy="-873.5" rx="75.41" ry="18"/>
<text text-anchor="middle" x="295.16" y="-868.83" font-family="Helvetica,sans-Serif" font-size="14.00">SampleAngle</text>
</g>
<!-- san&#45;&gt;load -->
<g id="edge5" class="edge">
<title>san&#45;&gt;load</title>
<path fill="none" stroke="black" d="M276.68,-855.91C267.25,-847.45 255.58,-836.97 245.08,-827.55"/>
<polygon fill="black" stroke="black" points="247.51,-825.03 237.73,-820.96 242.84,-830.24 247.51,-825.03"/>
</g>
<!-- dan -->
<g id="node6" class="node">
<title>dan</title>
<ellipse fill="khaki" stroke="black" cx="469.16" cy="-873.5" rx="80.67" ry="18"/>
<text text-anchor="middle" x="469.16" y="-868.83" font-family="Helvetica,sans-Serif" font-size="14.00">DetectorAngle</text>
</g>
<!-- dan&#45;&gt;load -->
<g id="edge6" class="edge">
<title>dan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M419.98,-858.84C382.5,-848.43 330.37,-833.95 288.35,-822.27"/>
<polygon fill="black" stroke="black" points="289.37,-818.92 278.8,-819.62 287.5,-825.67 289.37,-818.92"/>
</g>
<!-- toWavelength -->
<g id="node7" class="node">
<title>toWavelength</title>
<path fill="lightskyblue" stroke="black" d="M393.04,-260.5C393.04,-260.5 277.29,-260.5 277.29,-260.5 271.29,-260.5 265.29,-254.5 265.29,-248.5 265.29,-248.5 265.29,-230 265.29,-230 265.29,-224 271.29,-218 277.29,-218 277.29,-218 393.04,-218 393.04,-218 399.04,-218 405.04,-224 405.04,-230 405.04,-230 405.04,-248.5 405.04,-248.5 405.04,-254.5 399.04,-260.5 393.04,-260.5"/>
<text text-anchor="middle" x="335.16" y="-243.2" font-family="Helvetica,sans-Serif" font-size="14.00">Convert from TOF</text>
<text text-anchor="middle" x="335.16" y="-225.95" font-family="Helvetica,sans-Serif" font-size="14.00"> to wavelength</text>
</g>
<!-- correctGravity -->
<g id="node17" class="node">
<title>correctGravity</title>
<polygon fill="limegreen" stroke="black" points="335.16,-182 186.11,-164 335.16,-146 484.22,-164 335.16,-182"/>
<text text-anchor="middle" x="335.16" y="-159.32" font-family="Helvetica,sans-Serif" font-size="14.00">Correct for gravity?</text>
</g>
<!-- toWavelength&#45;&gt;correctGravity -->
<g id="edge17" class="edge">
<title>toWavelength&#45;&gt;correctGravity</title>
<path fill="none" stroke="black" d="M335.16,-217.85C335.16,-210.34 335.16,-201.69 335.16,-193.59"/>
<polygon fill="black" stroke="black" points="338.66,-193.83 335.16,-183.83 331.66,-193.83 338.66,-193.83"/>
</g>
<!-- extractMonitors -->
<g id="node8" class="node">
<title>extractMonitors</title>
<path fill="lightskyblue" stroke="black" d="M267.91,-747.5C267.91,-747.5 166.41,-747.5 166.41,-747.5 160.41,-747.5 154.41,-741.5 154.41,-735.5 154.41,-735.5 154.41,-723.5 154.41,-723.5 154.41,-717.5 160.41,-711.5 166.41,-711.5 166.41,-711.5 267.91,-711.5 267.91,-711.5 273.91,-711.5 279.91,-717.5 279.91,-723.5 279.91,-723.5 279.91,-735.5 279.91,-735.5 279.91,-741.5 273.91,-747.5 267.91,-747.5"/>
<text text-anchor="middle" x="217.16" y="-724.83" font-family="Helvetica,sans-Serif" font-size="14.00">ExtractMonitors</text>
</g>
<!-- extractMonitors&#45;&gt;waterNorm -->
<g id="edge9" class="edge">
<title>extractMonitors&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M233.94,-711.05C245.99,-698.51 262.51,-681.33 276.5,-666.77"/>
<polygon fill="black" stroke="black" points="278.94,-669.29 283.35,-659.66 273.89,-664.44 278.94,-669.29"/>
</g>
<!-- fluxNorm -->
<g id="node9" class="node">
<title>fluxNorm</title>
<path fill="lightskyblue" stroke="black" d="M397.54,-411C397.54,-411 272.79,-411 272.79,-411 266.79,-411 260.79,-405 260.79,-399 260.79,-399 260.79,-380.5 260.79,-380.5 260.79,-374.5 266.79,-368.5 272.79,-368.5 272.79,-368.5 397.54,-368.5 397.54,-368.5 403.54,-368.5 409.54,-374.5 409.54,-380.5 409.54,-380.5 409.54,-399 409.54,-399 409.54,-405 403.54,-411 397.54,-411"/>
<text text-anchor="middle" x="335.16" y="-393.7" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by duration/</text>
<text text-anchor="middle" x="335.16" y="-376.45" font-family="Helvetica,sans-Serif" font-size="14.00">monitor counts</text>
</g>
<!-- subtractBkg -->
<g id="node13" class="node">
<title>subtractBkg</title>
<path fill="lightskyblue" stroke="black" d="M404.29,-332.5C404.29,-332.5 266.04,-332.5 266.04,-332.5 260.04,-332.5 254.04,-326.5 254.04,-320.5 254.04,-320.5 254.04,-308.5 254.04,-308.5 254.04,-302.5 260.04,-296.5 266.04,-296.5 266.04,-296.5 404.29,-296.5 404.29,-296.5 410.29,-296.5 416.29,-302.5 416.29,-308.5 416.29,-308.5 416.29,-320.5 416.29,-320.5 416.29,-326.5 410.29,-332.5 404.29,-332.5"/>
<text text-anchor="middle" x="335.16" y="-309.82" font-family="Helvetica,sans-Serif" font-size="14.00">Subtract background</text>
</g>
<!-- fluxNorm&#45;&gt;subtractBkg -->
<g id="edge15" class="edge">
<title>fluxNorm&#45;&gt;subtractBkg</title>
<path fill="none" stroke="black" d="M335.16,-368.35C335.16,-360.84 335.16,-352.19 335.16,-344.09"/>
<polygon fill="black" stroke="black" points="338.66,-344.33 335.16,-334.33 331.66,-344.33 338.66,-344.33"/>
</g>
<!-- load&#45;&gt;extractMonitors -->
<g id="edge8" class="edge">
<title>load&#45;&gt;extractMonitors</title>
<path fill="none" stroke="black" d="M217.16,-783.2C217.16,-775.91 217.16,-767.23 217.16,-759.04"/>
<polygon fill="black" stroke="black" points="220.66,-759.12 217.16,-749.12 213.66,-759.12 220.66,-759.12"/>
</g>
<!-- isSlitNorm -->
<g id="node15" class="node">
<title>isSlitNorm</title>
<polygon fill="limegreen" stroke="black" points="304.16,-579.75 164.78,-561.75 304.16,-543.75 443.55,-561.75 304.16,-579.75"/>
<text text-anchor="middle" x="304.16" y="-557.08" font-family="Helvetica,sans-Serif" font-size="14.00">SlitNormalisation?</text>
</g>
<!-- waterNorm&#45;&gt;isSlitNorm -->
<g id="edge11" class="edge">
<title>waterNorm&#45;&gt;isSlitNorm</title>
<path fill="none" stroke="black" d="M304.16,-615.6C304.16,-608.09 304.16,-599.44 304.16,-591.34"/>
<polygon fill="black" stroke="black" points="307.66,-591.58 304.16,-581.58 300.66,-591.58 307.66,-591.58"/>
</g>
<!-- slitNorm -->
<g id="node12" class="node">
<title>slitNorm</title>
<path fill="lightskyblue" stroke="black" d="M307.91,-490.5C307.91,-490.5 200.41,-490.5 200.41,-490.5 194.41,-490.5 188.41,-484.5 188.41,-478.5 188.41,-478.5 188.41,-460 188.41,-460 188.41,-454 194.41,-448 200.41,-448 200.41,-448 307.91,-448 307.91,-448 313.91,-448 319.91,-454 319.91,-460 319.91,-460 319.91,-478.5 319.91,-478.5 319.91,-484.5 313.91,-490.5 307.91,-490.5"/>
<text text-anchor="middle" x="254.16" y="-473.2" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="254.16" y="-455.95" font-family="Helvetica,sans-Serif" font-size="14.00">slit opening area</text>
</g>
<!-- slitNorm&#45;&gt;fluxNorm -->
<g id="edge14" class="edge">
<title>slitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M275.45,-447.89C284.67,-439.06 295.63,-428.57 305.63,-419.01"/>
<polygon fill="black" stroke="black" points="307.84,-421.73 312.65,-412.29 303,-416.68 307.84,-421.73"/>
</g>
<!-- subtractBkg&#45;&gt;toWavelength -->
<g id="edge16" class="edge">
<title>subtractBkg&#45;&gt;toWavelength</title>
<path fill="none" stroke="black" d="M335.16,-296.14C335.16,-288.95 335.16,-280.38 335.16,-272.13"/>
<polygon fill="black" stroke="black" points="338.66,-272.38 335.16,-262.38 331.66,-272.38 338.66,-272.38"/>
</g>
<!-- gravityCorrection -->
<g id="node14" class="node">
<title>gravityCorrection</title>
<path fill="lightskyblue" stroke="black" d="M512.66,-109C512.66,-109 349.66,-109 349.66,-109 343.66,-109 337.66,-103 337.66,-97 337.66,-97 337.66,-85 337.66,-85 337.66,-79 343.66,-73 349.66,-73 349.66,-73 512.66,-73 512.66,-73 518.66,-73 524.66,-79 524.66,-85 524.66,-85 524.66,-97 524.66,-97 524.66,-103 518.66,-109 512.66,-109"/>
<text text-anchor="middle" x="431.16" y="-86.33" font-family="Helvetica,sans-Serif" font-size="14.00">Gravity correction step 1</text>
</g>
<!-- gravityCorrection&#45;&gt;output -->
<g id="edge20" class="edge">
<title>gravityCorrection&#45;&gt;output</title>
<path fill="none" stroke="black" d="M407.92,-72.81C395.57,-63.68 380.2,-52.31 366.78,-42.38"/>
<polygon fill="black" stroke="black" points="369.2,-39.82 359.07,-36.68 365.03,-45.44 369.2,-39.82"/>
</g>
<!-- isSlitNorm&#45;&gt;fluxNorm -->
<g id="edge13" class="edge">
<title>isSlitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M345.01,-548.55C355.69,-543.31 365.94,-535.95 372.16,-525.75 392.09,-493.09 373.51,-449.54 356.25,-420.85"/>
<polygon fill="black" stroke="black" points="359.37,-419.23 351.08,-412.64 353.45,-422.97 359.37,-419.23"/>
<text text-anchor="middle" x="457.04" y="-464.57" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation OFF</text>
</g>
<!-- isSlitNorm&#45;&gt;slitNorm -->
<g id="edge12" class="edge">
<title>isSlitNorm&#45;&gt;slitNorm</title>
<path fill="none" stroke="black" d="M255.61,-549.71C243.39,-544.51 231.69,-536.89 224.41,-525.75 219.11,-517.64 221.05,-508.49 225.85,-499.99"/>
<polygon fill="black" stroke="black" points="228.56,-502.23 231.39,-492.01 222.81,-498.24 228.56,-502.23"/>
<text text-anchor="middle" x="298.04" y="-512.45" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation ON</text>
</g>
<!-- angleOption -->
<g id="node16" class="node">
<title>angleOption</title>
<polygon fill="limegreen" stroke="black" points="295.16,-963.5 193.73,-945.5 295.16,-927.5 396.6,-945.5 295.16,-963.5"/>
<text text-anchor="middle" x="295.16" y="-940.83" font-family="Helvetica,sans-Serif" font-size="14.00">AngleOption</text>
</g>
<!-- angleOption&#45;&gt;uan -->
<g id="edge1" class="edge">
<title>angleOption&#45;&gt;uan</title>
<path fill="none" stroke="black" d="M267.45,-931.99C244.01,-921.4 210.02,-906.05 183.06,-893.87"/>
<polygon fill="black" stroke="black" points="184.67,-890.76 174.11,-889.83 181.79,-897.14 184.67,-890.76"/>
</g>
<!-- angleOption&#45;&gt;san -->
<g id="edge2" class="edge">
<title>angleOption&#45;&gt;san</title>
<path fill="none" stroke="black" d="M295.16,-927.2C295.16,-919.91 295.16,-911.23 295.16,-903.04"/>
<polygon fill="black" stroke="black" points="298.66,-903.12 295.16,-893.12 291.66,-903.12 298.66,-903.12"/>
</g>
<!-- angleOption&#45;&gt;dan -->
<g id="edge3" class="edge">
<title>angleOption&#45;&gt;dan</title>
<path fill="none" stroke="black" d="M325.08,-932.47C351.32,-921.91 389.99,-906.35 420.66,-894.01"/>
<polygon fill="black" stroke="black" points="421.76,-897.34 429.73,-890.36 419.15,-890.85 421.76,-897.34"/>
</g>
<!-- correctGravity&#45;&gt;output -->
<g id="edge18" class="edge">
<title>correctGravity&#45;&gt;output</title>
<path fill="none" stroke="black" d="M332.79,-146.02C331.43,-135.4 329.85,-121.43 329.16,-109 328.28,-93.02 328.28,-88.98 329.16,-73 329.62,-64.77 330.46,-55.87 331.38,-47.72"/>
<polygon fill="black" stroke="black" points="334.83,-48.32 332.55,-37.97 327.88,-47.48 334.83,-48.32"/>
</g>
<!-- correctGravity&#45;&gt;gravityCorrection -->
<g id="edge19" class="edge">
<title>correctGravity&#45;&gt;gravityCorrection</title>
<path fill="none" stroke="black" d="M355.05,-148.29C367.58,-139.03 384.05,-126.85 398.46,-116.19"/>
<polygon fill="black" stroke="black" points="400.39,-119.11 406.35,-110.35 396.23,-113.48 400.39,-119.11"/>
</g>
</g>
</svg>
