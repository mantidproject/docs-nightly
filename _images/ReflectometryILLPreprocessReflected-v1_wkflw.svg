<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.0.5 (20221231.0122)
 -->
<!-- Title: ReflectometryILLPreprocess Pages: 1 -->
<svg width="531pt" height="979pt"
 viewBox="0.00 0.00 530.60 979.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 975)">
<title>ReflectometryILLPreprocess</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-975 526.6,-975 526.6,4 -4,4"/>
<text text-anchor="middle" x="261.3" y="-955.8" font-family="Helvetica,sans-Serif" font-size="14.00">Reflected Beam Preprocessing</text>
<!-- run -->
<g id="node1" class="node">
<title>run</title>
<ellipse fill="khaki" stroke="black" cx="28.6" cy="-857" rx="28.7" ry="18"/>
<text text-anchor="middle" x="28.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">Run</text>
</g>
<!-- load -->
<g id="node10" class="node">
<title>load</title>
<path fill="lightskyblue" stroke="black" d="M252.6,-802C252.6,-802 156.6,-802 156.6,-802 150.6,-802 144.6,-796 144.6,-790 144.6,-790 144.6,-778 144.6,-778 144.6,-772 150.6,-766 156.6,-766 156.6,-766 252.6,-766 252.6,-766 258.6,-766 264.6,-772 264.6,-778 264.6,-778 264.6,-790 264.6,-790 264.6,-796 258.6,-802 252.6,-802"/>
<text text-anchor="middle" x="204.6" y="-780.3" font-family="Helvetica,sans-Serif" font-size="14.00">LoadAndMerge</text>
</g>
<!-- run&#45;&gt;load -->
<g id="edge7" class="edge">
<title>run&#45;&gt;load</title>
<path fill="none" stroke="black" d="M51.2,-845.35C55.93,-843.2 60.91,-840.98 65.6,-839 92.19,-827.74 122.01,-816.03 147.18,-806.42"/>
<polygon fill="black" stroke="black" points="148.15,-809.79 156.25,-802.97 145.66,-803.25 148.15,-809.79"/>
</g>
<!-- output -->
<g id="node2" class="node">
<title>output</title>
<ellipse fill="khaki" stroke="black" cx="318.6" cy="-18" rx="91.78" ry="18"/>
<text text-anchor="middle" x="318.6" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- waterReference -->
<g id="node3" class="node">
<title>waterReference</title>
<ellipse fill="khaki" stroke="black" cx="371.6" cy="-711" rx="86.38" ry="18"/>
<text text-anchor="middle" x="371.6" y="-707.3" font-family="Helvetica,sans-Serif" font-size="14.00">WaterWorkspace</text>
</g>
<!-- waterNorm -->
<g id="node11" class="node">
<title>waterNorm</title>
<path fill="lightskyblue" stroke="black" d="M338.1,-642C338.1,-642 237.1,-642 237.1,-642 231.1,-642 225.1,-636 225.1,-630 225.1,-630 225.1,-616 225.1,-616 225.1,-610 231.1,-604 237.1,-604 237.1,-604 338.1,-604 338.1,-604 344.1,-604 350.1,-610 350.1,-616 350.1,-616 350.1,-630 350.1,-630 350.1,-636 344.1,-642 338.1,-642"/>
<text text-anchor="middle" x="287.6" y="-626.8" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="287.6" y="-611.8" font-family="Helvetica,sans-Serif" font-size="14.00">water reference</text>
</g>
<!-- waterReference&#45;&gt;waterNorm -->
<g id="edge10" class="edge">
<title>waterReference&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M355,-693.01C343.2,-680.93 327.12,-664.46 313.62,-650.64"/>
<polygon fill="black" stroke="black" points="316.16,-648.24 306.67,-643.53 311.15,-653.13 316.16,-648.24"/>
<text text-anchor="middle" x="356.6" y="-663.8" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin</text>
</g>
<!-- uan -->
<g id="node4" class="node">
<title>uan</title>
<ellipse fill="khaki" stroke="black" cx="132.6" cy="-857" rx="57.69" ry="18"/>
<text text-anchor="middle" x="132.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">UserAngle</text>
</g>
<!-- uan&#45;&gt;load -->
<g id="edge4" class="edge">
<title>uan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M149.3,-839.53C158.12,-830.83 169.15,-819.95 179.03,-810.21"/>
<polygon fill="black" stroke="black" points="181.24,-812.94 185.91,-803.43 176.33,-807.96 181.24,-812.94"/>
</g>
<!-- san -->
<g id="node5" class="node">
<title>san</title>
<ellipse fill="khaki" stroke="black" cx="278.6" cy="-857" rx="70.39" ry="18"/>
<text text-anchor="middle" x="278.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">SampleAngle</text>
</g>
<!-- san&#45;&gt;load -->
<g id="edge5" class="edge">
<title>san&#45;&gt;load</title>
<path fill="none" stroke="black" d="M261.06,-839.17C252.05,-830.52 240.87,-819.81 230.85,-810.19"/>
<polygon fill="black" stroke="black" points="233.51,-807.89 223.87,-803.49 228.67,-812.94 233.51,-807.89"/>
</g>
<!-- dan -->
<g id="node6" class="node">
<title>dan</title>
<ellipse fill="khaki" stroke="black" cx="442.6" cy="-857" rx="75.29" ry="18"/>
<text text-anchor="middle" x="442.6" y="-853.3" font-family="Helvetica,sans-Serif" font-size="14.00">DetectorAngle</text>
</g>
<!-- dan&#45;&gt;load -->
<g id="edge6" class="edge">
<title>dan&#45;&gt;load</title>
<path fill="none" stroke="black" d="M396.71,-842.31C361.89,-831.92 313.44,-817.47 273.9,-805.68"/>
<polygon fill="black" stroke="black" points="275.04,-802.36 264.46,-802.86 273.04,-809.07 275.04,-802.36"/>
</g>
<!-- toWavelength -->
<g id="node7" class="node">
<title>toWavelength</title>
<path fill="lightskyblue" stroke="black" d="M376.6,-257C376.6,-257 260.6,-257 260.6,-257 254.6,-257 248.6,-251 248.6,-245 248.6,-245 248.6,-231 248.6,-231 248.6,-225 254.6,-219 260.6,-219 260.6,-219 376.6,-219 376.6,-219 382.6,-219 388.6,-225 388.6,-231 388.6,-231 388.6,-245 388.6,-245 388.6,-251 382.6,-257 376.6,-257"/>
<text text-anchor="middle" x="318.6" y="-241.8" font-family="Helvetica,sans-Serif" font-size="14.00">Convert from TOF</text>
<text text-anchor="middle" x="318.6" y="-226.8" font-family="Helvetica,sans-Serif" font-size="14.00"> to wavelength</text>
</g>
<!-- correctGravity -->
<g id="node17" class="node">
<title>correctGravity</title>
<polygon fill="limegreen" stroke="black" points="318.6,-182 180.01,-164 318.6,-146 457.18,-164 318.6,-182"/>
<text text-anchor="middle" x="318.6" y="-160.3" font-family="Helvetica,sans-Serif" font-size="14.00">Correct for gravity?</text>
</g>
<!-- toWavelength&#45;&gt;correctGravity -->
<g id="edge17" class="edge">
<title>toWavelength&#45;&gt;correctGravity</title>
<path fill="none" stroke="black" d="M318.6,-218.83C318.6,-211.24 318.6,-202.24 318.6,-193.79"/>
<polygon fill="black" stroke="black" points="322.1,-193.93 318.6,-183.93 315.1,-193.93 322.1,-193.93"/>
</g>
<!-- extractMonitors -->
<g id="node8" class="node">
<title>extractMonitors</title>
<path fill="lightskyblue" stroke="black" d="M255.6,-729C255.6,-729 153.6,-729 153.6,-729 147.6,-729 141.6,-723 141.6,-717 141.6,-717 141.6,-705 141.6,-705 141.6,-699 147.6,-693 153.6,-693 153.6,-693 255.6,-693 255.6,-693 261.6,-693 267.6,-699 267.6,-705 267.6,-705 267.6,-717 267.6,-717 267.6,-723 261.6,-729 255.6,-729"/>
<text text-anchor="middle" x="204.6" y="-707.3" font-family="Helvetica,sans-Serif" font-size="14.00">ExtractMonitors</text>
</g>
<!-- extractMonitors&#45;&gt;waterNorm -->
<g id="edge9" class="edge">
<title>extractMonitors&#45;&gt;waterNorm</title>
<path fill="none" stroke="black" d="M221.39,-692.6C233.08,-680.48 248.88,-664.11 262.12,-650.4"/>
<polygon fill="black" stroke="black" points="264.49,-652.98 268.92,-643.36 259.45,-648.12 264.49,-652.98"/>
</g>
<!-- fluxNorm -->
<g id="node9" class="node">
<title>fluxNorm</title>
<path fill="lightskyblue" stroke="black" d="M381.1,-405C381.1,-405 256.1,-405 256.1,-405 250.1,-405 244.1,-399 244.1,-393 244.1,-393 244.1,-379 244.1,-379 244.1,-373 250.1,-367 256.1,-367 256.1,-367 381.1,-367 381.1,-367 387.1,-367 393.1,-373 393.1,-379 393.1,-379 393.1,-393 393.1,-393 393.1,-399 387.1,-405 381.1,-405"/>
<text text-anchor="middle" x="318.6" y="-389.8" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by duration/</text>
<text text-anchor="middle" x="318.6" y="-374.8" font-family="Helvetica,sans-Serif" font-size="14.00">monitor counts</text>
</g>
<!-- subtractBkg -->
<g id="node13" class="node">
<title>subtractBkg</title>
<path fill="lightskyblue" stroke="black" d="M388.1,-330C388.1,-330 249.1,-330 249.1,-330 243.1,-330 237.1,-324 237.1,-318 237.1,-318 237.1,-306 237.1,-306 237.1,-300 243.1,-294 249.1,-294 249.1,-294 388.1,-294 388.1,-294 394.1,-294 400.1,-300 400.1,-306 400.1,-306 400.1,-318 400.1,-318 400.1,-324 394.1,-330 388.1,-330"/>
<text text-anchor="middle" x="318.6" y="-308.3" font-family="Helvetica,sans-Serif" font-size="14.00">Subtract background</text>
</g>
<!-- fluxNorm&#45;&gt;subtractBkg -->
<g id="edge15" class="edge">
<title>fluxNorm&#45;&gt;subtractBkg</title>
<path fill="none" stroke="black" d="M318.6,-366.83C318.6,-359.24 318.6,-350.24 318.6,-341.79"/>
<polygon fill="black" stroke="black" points="322.1,-341.93 318.6,-331.93 315.1,-341.93 322.1,-341.93"/>
</g>
<!-- load&#45;&gt;extractMonitors -->
<g id="edge8" class="edge">
<title>load&#45;&gt;extractMonitors</title>
<path fill="none" stroke="black" d="M204.6,-765.81C204.6,-758.23 204.6,-749.1 204.6,-740.54"/>
<polygon fill="black" stroke="black" points="208.1,-740.54 204.6,-730.54 201.1,-740.54 208.1,-740.54"/>
</g>
<!-- isSlitNorm -->
<g id="node15" class="node">
<title>isSlitNorm</title>
<polygon fill="limegreen" stroke="black" points="287.6,-567 157.9,-549 287.6,-531 417.3,-549 287.6,-567"/>
<text text-anchor="middle" x="287.6" y="-545.3" font-family="Helvetica,sans-Serif" font-size="14.00">SlitNormalisation?</text>
</g>
<!-- waterNorm&#45;&gt;isSlitNorm -->
<g id="edge11" class="edge">
<title>waterNorm&#45;&gt;isSlitNorm</title>
<path fill="none" stroke="black" d="M287.6,-603.83C287.6,-596.24 287.6,-587.24 287.6,-578.79"/>
<polygon fill="black" stroke="black" points="291.1,-578.93 287.6,-568.93 284.1,-578.93 291.1,-578.93"/>
</g>
<!-- slitNorm -->
<g id="node12" class="node">
<title>slitNorm</title>
<path fill="lightskyblue" stroke="black" d="M291.6,-480C291.6,-480 183.6,-480 183.6,-480 177.6,-480 171.6,-474 171.6,-468 171.6,-468 171.6,-454 171.6,-454 171.6,-448 177.6,-442 183.6,-442 183.6,-442 291.6,-442 291.6,-442 297.6,-442 303.6,-448 303.6,-454 303.6,-454 303.6,-468 303.6,-468 303.6,-474 297.6,-480 291.6,-480"/>
<text text-anchor="middle" x="237.6" y="-464.8" font-family="Helvetica,sans-Serif" font-size="14.00">Divide by</text>
<text text-anchor="middle" x="237.6" y="-449.8" font-family="Helvetica,sans-Serif" font-size="14.00">slit opening area</text>
</g>
<!-- slitNorm&#45;&gt;fluxNorm -->
<g id="edge14" class="edge">
<title>slitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M258.04,-441.58C267.63,-432.93 279.23,-422.48 289.7,-413.04"/>
<polygon fill="black" stroke="black" points="291.95,-415.72 297.04,-406.43 287.27,-410.52 291.95,-415.72"/>
</g>
<!-- subtractBkg&#45;&gt;toWavelength -->
<g id="edge16" class="edge">
<title>subtractBkg&#45;&gt;toWavelength</title>
<path fill="none" stroke="black" d="M318.6,-293.57C318.6,-286.1 318.6,-277.17 318.6,-268.71"/>
<polygon fill="black" stroke="black" points="322.1,-268.79 318.6,-258.79 315.1,-268.79 322.1,-268.79"/>
</g>
<!-- gravityCorrection -->
<g id="node14" class="node">
<title>gravityCorrection</title>
<path fill="lightskyblue" stroke="black" d="M510.6,-109C510.6,-109 346.6,-109 346.6,-109 340.6,-109 334.6,-103 334.6,-97 334.6,-97 334.6,-85 334.6,-85 334.6,-79 340.6,-73 346.6,-73 346.6,-73 510.6,-73 510.6,-73 516.6,-73 522.6,-79 522.6,-85 522.6,-85 522.6,-97 522.6,-97 522.6,-103 516.6,-109 510.6,-109"/>
<text text-anchor="middle" x="428.6" y="-87.3" font-family="Helvetica,sans-Serif" font-size="14.00">Gravity correction step 1</text>
</g>
<!-- gravityCorrection&#45;&gt;output -->
<g id="edge20" class="edge">
<title>gravityCorrection&#45;&gt;output</title>
<path fill="none" stroke="black" d="M401.69,-72.63C387.26,-63.32 369.3,-51.72 353.77,-41.7"/>
<polygon fill="black" stroke="black" points="356.04,-39 345.74,-36.52 352.25,-44.88 356.04,-39"/>
</g>
<!-- isSlitNorm&#45;&gt;fluxNorm -->
<g id="edge13" class="edge">
<title>isSlitNorm&#45;&gt;fluxNorm</title>
<path fill="none" stroke="black" d="M327.73,-536.15C338.67,-530.88 349.24,-523.43 355.6,-513 374.34,-482.28 355.9,-441.54 339.01,-414.82"/>
<polygon fill="black" stroke="black" points="341.98,-412.97 333.53,-406.58 336.15,-416.84 341.98,-412.97"/>
<text text-anchor="middle" x="439.6" y="-457.3" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation OFF</text>
</g>
<!-- isSlitNorm&#45;&gt;slitNorm -->
<g id="edge12" class="edge">
<title>isSlitNorm&#45;&gt;slitNorm</title>
<path fill="none" stroke="black" d="M239.73,-537.34C227.17,-532.13 215.07,-524.42 207.6,-513 202.64,-505.42 204.66,-497.01 209.43,-489.25"/>
<polygon fill="black" stroke="black" points="212.14,-491.47 215.42,-481.4 206.57,-487.23 212.14,-491.47"/>
<text text-anchor="middle" x="281.6" y="-501.8" font-family="Helvetica,sans-Serif" font-size="14.00">Slit Normalisation ON</text>
</g>
<!-- angleOption -->
<g id="node16" class="node">
<title>angleOption</title>
<polygon fill="limegreen" stroke="black" points="278.6,-948 183.75,-930 278.6,-912 373.44,-930 278.6,-948"/>
<text text-anchor="middle" x="278.6" y="-926.3" font-family="Helvetica,sans-Serif" font-size="14.00">AngleOption</text>
</g>
<!-- angleOption&#45;&gt;uan -->
<g id="edge1" class="edge">
<title>angleOption&#45;&gt;uan</title>
<path fill="none" stroke="black" d="M252.83,-916.47C230.74,-905.73 198.54,-890.07 173.02,-877.66"/>
<polygon fill="black" stroke="black" points="174.79,-874.62 164.26,-873.4 171.72,-880.92 174.79,-874.62"/>
</g>
<!-- angleOption&#45;&gt;san -->
<g id="edge2" class="edge">
<title>angleOption&#45;&gt;san</title>
<path fill="none" stroke="black" d="M278.6,-911.81C278.6,-904.23 278.6,-895.1 278.6,-886.54"/>
<polygon fill="black" stroke="black" points="282.1,-886.54 278.6,-876.54 275.1,-886.54 282.1,-886.54"/>
</g>
<!-- angleOption&#45;&gt;dan -->
<g id="edge3" class="edge">
<title>angleOption&#45;&gt;dan</title>
<path fill="none" stroke="black" d="M306.42,-916.96C331.16,-906.24 367.82,-890.37 396.87,-877.8"/>
<polygon fill="black" stroke="black" points="398.01,-881.12 405.8,-873.93 395.23,-874.69 398.01,-881.12"/>
</g>
<!-- correctGravity&#45;&gt;output -->
<g id="edge18" class="edge">
<title>correctGravity&#45;&gt;output</title>
<path fill="none" stroke="black" d="M318.6,-145.63C318.6,-121.3 318.6,-76.8 318.6,-47.56"/>
<polygon fill="black" stroke="black" points="322.1,-47.94 318.6,-37.94 315.1,-47.94 322.1,-47.94"/>
</g>
<!-- correctGravity&#45;&gt;gravityCorrection -->
<g id="edge19" class="edge">
<title>correctGravity&#45;&gt;gravityCorrection</title>
<path fill="none" stroke="black" d="M341.12,-148.46C355.84,-138.96 375.38,-126.35 392.26,-115.46"/>
<polygon fill="black" stroke="black" points="394.06,-118.46 400.56,-110.1 390.26,-112.58 394.06,-118.46"/>
</g>
</g>
</svg>
