<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 7.0.5 (20221231.0122)
 -->
<!-- Title: TOSCABankCorrection Pages: 1 -->
<svg width="943pt" height="1083pt"
 viewBox="0.00 0.00 942.63 1083.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1079)">
<title>TOSCABankCorrection</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1079 938.63,-1079 938.63,4 -4,4"/>
<text text-anchor="middle" x="467.32" y="-1059.8" font-family="Helvetica,sans-Serif" font-size="14.00">TOSCABankCorrection Flowchart</text>
<!-- InputWorkspace -->
<g id="node1" class="node">
<title>InputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="83.84" cy="-1034" rx="83.69" ry="18"/>
<text text-anchor="middle" x="83.84" y="-1030.3" font-family="Helvetica,sans-Serif" font-size="14.00">InputWorkspace</text>
</g>
<!-- CropWorkspace -->
<g id="node12" class="node">
<title>CropWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M446.34,-965C446.34,-965 345.34,-965 345.34,-965 339.34,-965 333.34,-959 333.34,-953 333.34,-953 333.34,-941 333.34,-941 333.34,-935 339.34,-929 345.34,-929 345.34,-929 446.34,-929 446.34,-929 452.34,-929 458.34,-935 458.34,-941 458.34,-941 458.34,-953 458.34,-953 458.34,-959 452.34,-965 446.34,-965"/>
<text text-anchor="middle" x="395.84" y="-943.3" font-family="Helvetica,sans-Serif" font-size="14.00">CropWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;CropWorkspace -->
<g id="edge1" class="edge">
<title>InputWorkspace&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M134.32,-1019.25C185.19,-1005.39 264.26,-983.85 322.14,-968.08"/>
<polygon fill="black" stroke="black" points="322.87,-971.51 331.59,-965.5 321.03,-964.76 322.87,-971.51"/>
</g>
<!-- RebinToWorkspace -->
<g id="node16" class="node">
<title>RebinToWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M173.84,-297C173.84,-297 51.84,-297 51.84,-297 45.84,-297 39.84,-291 39.84,-285 39.84,-285 39.84,-273 39.84,-273 39.84,-267 45.84,-261 51.84,-261 51.84,-261 173.84,-261 173.84,-261 179.84,-261 185.84,-267 185.84,-273 185.84,-273 185.84,-285 185.84,-285 185.84,-291 179.84,-297 173.84,-297"/>
<text text-anchor="middle" x="112.84" y="-275.3" font-family="Helvetica,sans-Serif" font-size="14.00">RebinToWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge19" class="edge">
<title>InputWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M88.1,-1015.54C91.89,-998.44 96.84,-971.59 96.84,-948 96.84,-948 96.84,-948 96.84,-365 96.84,-345.91 100.79,-324.81 104.76,-308.42"/>
<polygon fill="black" stroke="black" points="108.12,-309.42 107.23,-298.87 101.34,-307.68 108.12,-309.42"/>
</g>
<!-- SearchRange -->
<g id="node2" class="node">
<title>SearchRange</title>
<ellipse fill="khaki" stroke="black" cx="395.84" cy="-1034" rx="70.39" ry="18"/>
<text text-anchor="middle" x="395.84" y="-1030.3" font-family="Helvetica,sans-Serif" font-size="14.00">SearchRange</text>
</g>
<!-- SearchRange&#45;&gt;CropWorkspace -->
<g id="edge2" class="edge">
<title>SearchRange&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M395.84,-1015.8C395.84,-1004.58 395.84,-989.67 395.84,-976.69"/>
<polygon fill="black" stroke="black" points="399.34,-976.98 395.84,-966.98 392.34,-976.98 399.34,-976.98"/>
<text text-anchor="middle" x="478.84" y="-986.8" font-family="Helvetica,sans-Serif" font-size="14.00">Defines XMin and XMax</text>
</g>
<!-- CroppedWorkspace -->
<g id="node3" class="node">
<title>CroppedWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="535.84" cy="-860" rx="98.28" ry="18"/>
<text text-anchor="middle" x="535.84" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">CroppedWorkspace</text>
</g>
<!-- FindPeak -->
<g id="node13" class="node">
<title>FindPeak</title>
<path fill="lightskyblue" stroke="black" d="M375.84,-791C375.84,-791 321.84,-791 321.84,-791 315.84,-791 309.84,-785 309.84,-779 309.84,-779 309.84,-767 309.84,-767 309.84,-761 315.84,-755 321.84,-755 321.84,-755 375.84,-755 375.84,-755 381.84,-755 387.84,-761 387.84,-767 387.84,-767 387.84,-779 387.84,-779 387.84,-785 381.84,-791 375.84,-791"/>
<text text-anchor="middle" x="348.84" y="-769.3" font-family="Helvetica,sans-Serif" font-size="14.00">FindPeak</text>
</g>
<!-- CroppedWorkspace&#45;&gt;FindPeak -->
<g id="edge4" class="edge">
<title>CroppedWorkspace&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M500.23,-842.81C471.06,-829.56 429.51,-810.67 397.32,-796.03"/>
<polygon fill="black" stroke="black" points="399.15,-793.02 388.6,-792.07 396.25,-799.39 399.15,-793.02"/>
<text text-anchor="middle" x="543.84" y="-812.8" font-family="Helvetica,sans-Serif" font-size="14.00">Find peak in Bank 1 and 2</text>
</g>
<!-- PeakPosition -->
<g id="node4" class="node">
<title>PeakPosition</title>
<ellipse fill="khaki" stroke="black" cx="192.84" cy="-860" rx="67.69" ry="18"/>
<text text-anchor="middle" x="192.84" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">PeakPosition</text>
</g>
<!-- PeakPosition&#45;&gt;FindPeak -->
<g id="edge6" class="edge">
<title>PeakPosition&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M221.46,-843.41C245.4,-830.36 279.89,-811.57 306.95,-796.83"/>
<polygon fill="black" stroke="black" points="308.48,-799.98 315.59,-792.12 305.13,-793.83 308.48,-799.98"/>
</g>
<!-- ClosePeakTolerance -->
<g id="node5" class="node">
<title>ClosePeakTolerance</title>
<ellipse fill="khaki" stroke="black" cx="502.84" cy="-613" rx="98.58" ry="18"/>
<text text-anchor="middle" x="502.84" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeakTolerance</text>
</g>
<!-- Bank1_ScaleFactor -->
<g id="node9" class="node">
<title>Bank1_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="415.84" cy="-526" rx="94.78" ry="18"/>
<text text-anchor="middle" x="415.84" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Bank1_ScaleFactor</text>
</g>
<!-- ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor -->
<g id="edge10" class="edge">
<title>ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M485.24,-594.8C472.62,-582.47 455.43,-565.68 441.32,-551.89"/>
<polygon fill="black" stroke="black" points="444.1,-549.72 434.5,-545.23 439.21,-554.73 444.1,-549.72"/>
</g>
<!-- PeakFunction -->
<g id="node6" class="node">
<title>PeakFunction</title>
<ellipse fill="khaki" stroke="black" cx="348.84" cy="-860" rx="70.69" ry="18"/>
<text text-anchor="middle" x="348.84" y="-856.3" font-family="Helvetica,sans-Serif" font-size="14.00">PeakFunction</text>
</g>
<!-- PeakFunction&#45;&gt;FindPeak -->
<g id="edge5" class="edge">
<title>PeakFunction&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M348.84,-841.8C348.84,-830.58 348.84,-815.67 348.84,-802.69"/>
<polygon fill="black" stroke="black" points="352.34,-802.98 348.84,-792.98 345.34,-802.98 352.34,-802.98"/>
</g>
<!-- OutputWorkspace -->
<g id="node7" class="node">
<title>OutputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="112.84" cy="-18" rx="91.78" ry="18"/>
<text text-anchor="middle" x="112.84" y="-14.3" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- TargetPeakCentre -->
<g id="node8" class="node">
<title>TargetPeakCentre</title>
<ellipse fill="khaki" stroke="black" cx="213.84" cy="-526" rx="89.08" ry="18"/>
<text text-anchor="middle" x="213.84" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">TargetPeakCentre</text>
</g>
<!-- ScaleX -->
<g id="node15" class="node">
<title>ScaleX</title>
<path fill="lightskyblue" stroke="black" d="M546.34,-457C546.34,-457 507.34,-457 507.34,-457 501.34,-457 495.34,-451 495.34,-445 495.34,-445 495.34,-433 495.34,-433 495.34,-427 501.34,-421 507.34,-421 507.34,-421 546.34,-421 546.34,-421 552.34,-421 558.34,-427 558.34,-433 558.34,-433 558.34,-445 558.34,-445 558.34,-451 552.34,-457 546.34,-457"/>
<text text-anchor="middle" x="526.84" y="-435.3" font-family="Helvetica,sans-Serif" font-size="14.00">ScaleX</text>
</g>
<!-- Bank1_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge15" class="edge">
<title>Bank1_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M437.77,-508.21C454.2,-495.62 476.92,-478.23 495.3,-464.15"/>
<polygon fill="black" stroke="black" points="497.18,-467.12 502.99,-458.26 492.93,-461.56 497.18,-467.12"/>
</g>
<!-- Bank2_ScaleFactor -->
<g id="node10" class="node">
<title>Bank2_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="835.84" cy="-526" rx="94.78" ry="18"/>
<text text-anchor="middle" x="835.84" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Bank2_ScaleFactor</text>
</g>
<!-- Bank2_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge16" class="edge">
<title>Bank2_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M835.64,-507.6C834.53,-496.59 831.16,-482.97 821.84,-475 784.96,-443.43 642.77,-439.36 570.12,-439.42"/>
<polygon fill="black" stroke="black" points="570.16,-435.92 560.18,-439.46 570.19,-442.92 570.16,-435.92"/>
</g>
<!-- Peaks -->
<g id="node11" class="node">
<title>Peaks</title>
<ellipse fill="khaki" stroke="black" cx="348.84" cy="-613" rx="37.09" ry="18"/>
<text text-anchor="middle" x="348.84" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">Peaks</text>
</g>
<!-- Peaks&#45;&gt;TargetPeakCentre -->
<g id="edge9" class="edge">
<title>Peaks&#45;&gt;TargetPeakCentre</title>
<path fill="none" stroke="black" d="M326.85,-598.15C305.97,-585.01 274.21,-565.01 249.67,-549.56"/>
<polygon fill="black" stroke="black" points="251.6,-546.63 241.27,-544.27 247.87,-552.56 251.6,-546.63"/>
<text text-anchor="middle" x="314.34" y="-565.8" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- Peaks&#45;&gt;Bank1_ScaleFactor -->
<g id="edge11" class="edge">
<title>Peaks&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M361.44,-596.01C371.02,-583.86 384.39,-566.9 395.48,-552.83"/>
<polygon fill="black" stroke="black" points="398,-555.29 401.44,-545.27 392.5,-550.96 398,-555.29"/>
</g>
<!-- Peaks&#45;&gt;Bank2_ScaleFactor -->
<g id="edge13" class="edge">
<title>Peaks&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M376.77,-600.65C382.67,-598.54 388.91,-596.53 394.84,-595 541.54,-557.21 582.2,-567.55 731.84,-544 739.25,-542.83 746.95,-541.61 754.66,-540.37"/>
<polygon fill="black" stroke="black" points="755.12,-543.84 764.44,-538.79 754.01,-536.93 755.12,-543.84"/>
</g>
<!-- CropWorkspace&#45;&gt;CroppedWorkspace -->
<g id="edge3" class="edge">
<title>CropWorkspace&#45;&gt;CroppedWorkspace</title>
<path fill="none" stroke="black" d="M424.51,-928.59C446.07,-915.5 475.78,-897.47 499.09,-883.32"/>
<polygon fill="black" stroke="black" points="500.61,-886.48 507.35,-878.3 496.98,-880.5 500.61,-886.48"/>
<text text-anchor="middle" x="616.84" y="-899.8" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank 1 and 2 data</text>
</g>
<!-- SortTableWorkspace -->
<g id="node14" class="node">
<title>SortTableWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M414.84,-704C414.84,-704 282.84,-704 282.84,-704 276.84,-704 270.84,-698 270.84,-692 270.84,-692 270.84,-680 270.84,-680 270.84,-674 276.84,-668 282.84,-668 282.84,-668 414.84,-668 414.84,-668 420.84,-668 426.84,-674 426.84,-680 426.84,-680 426.84,-692 426.84,-692 426.84,-698 420.84,-704 414.84,-704"/>
<text text-anchor="middle" x="348.84" y="-682.3" font-family="Helvetica,sans-Serif" font-size="14.00">SortTableWorkspace</text>
</g>
<!-- FindPeak&#45;&gt;SortTableWorkspace -->
<g id="edge7" class="edge">
<title>FindPeak&#45;&gt;SortTableWorkspace</title>
<path fill="none" stroke="black" d="M348.84,-754.8C348.84,-743.58 348.84,-728.67 348.84,-715.69"/>
<polygon fill="black" stroke="black" points="352.34,-715.98 348.84,-705.98 345.34,-715.98 352.34,-715.98"/>
<text text-anchor="middle" x="421.34" y="-725.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sort peaks by height</text>
</g>
<!-- SortTableWorkspace&#45;&gt;Peaks -->
<g id="edge8" class="edge">
<title>SortTableWorkspace&#45;&gt;Peaks</title>
<path fill="none" stroke="black" d="M348.84,-667.81C348.84,-660.23 348.84,-651.1 348.84,-642.54"/>
<polygon fill="black" stroke="black" points="352.34,-642.54 348.84,-632.54 345.34,-642.54 352.34,-642.54"/>
</g>
<!-- ScaledWorkspace -->
<g id="node21" class="node">
<title>ScaledWorkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="392.84" cy="-366" rx="89.88" ry="18"/>
<text text-anchor="middle" x="392.84" y="-362.3" font-family="Helvetica,sans-Serif" font-size="14.00">ScaledWorkspace</text>
</g>
<!-- ScaleX&#45;&gt;ScaledWorkspace -->
<g id="edge17" class="edge">
<title>ScaleX&#45;&gt;ScaledWorkspace</title>
<path fill="none" stroke="black" d="M495.09,-421.17C476.63,-411.4 453.19,-398.98 433.41,-388.5"/>
<polygon fill="black" stroke="black" points="435.26,-385.51 424.79,-383.93 431.98,-391.7 435.26,-385.51"/>
</g>
<!-- GroupDetectors -->
<g id="node17" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M163.34,-210C163.34,-210 62.34,-210 62.34,-210 56.34,-210 50.34,-204 50.34,-198 50.34,-198 50.34,-186 50.34,-186 50.34,-180 56.34,-174 62.34,-174 62.34,-174 163.34,-174 163.34,-174 169.34,-174 175.34,-180 175.34,-186 175.34,-186 175.34,-198 175.34,-198 175.34,-204 169.34,-210 163.34,-210"/>
<text text-anchor="middle" x="112.84" y="-188.3" font-family="Helvetica,sans-Serif" font-size="14.00">GroupDetectors</text>
</g>
<!-- RebinToWorkspace&#45;&gt;GroupDetectors -->
<g id="edge20" class="edge">
<title>RebinToWorkspace&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M112.84,-260.8C112.84,-249.58 112.84,-234.67 112.84,-221.69"/>
<polygon fill="black" stroke="black" points="116.34,-221.98 112.84,-211.98 109.34,-221.98 116.34,-221.98"/>
<text text-anchor="middle" x="233.34" y="-231.8" font-family="Helvetica,sans-Serif" font-size="14.00">Sum spectra from corrected banks</text>
</g>
<!-- AppendSpectra -->
<g id="node18" class="node">
<title>AppendSpectra</title>
<path fill="lightskyblue" stroke="black" d="M162.84,-123C162.84,-123 62.84,-123 62.84,-123 56.84,-123 50.84,-117 50.84,-111 50.84,-111 50.84,-99 50.84,-99 50.84,-93 56.84,-87 62.84,-87 62.84,-87 162.84,-87 162.84,-87 168.84,-87 174.84,-93 174.84,-99 174.84,-99 174.84,-111 174.84,-111 174.84,-117 168.84,-123 162.84,-123"/>
<text text-anchor="middle" x="112.84" y="-101.3" font-family="Helvetica,sans-Serif" font-size="14.00">AppendSpectra</text>
</g>
<!-- GroupDetectors&#45;&gt;AppendSpectra -->
<g id="edge21" class="edge">
<title>GroupDetectors&#45;&gt;AppendSpectra</title>
<path fill="none" stroke="black" d="M112.84,-173.8C112.84,-162.58 112.84,-147.67 112.84,-134.69"/>
<polygon fill="black" stroke="black" points="116.34,-134.98 112.84,-124.98 109.34,-134.98 116.34,-134.98"/>
<text text-anchor="middle" x="187.34" y="-144.8" font-family="Helvetica,sans-Serif" font-size="14.00">Behaviour = Average</text>
</g>
<!-- AppendSpectra&#45;&gt;OutputWorkspace -->
<g id="edge22" class="edge">
<title>AppendSpectra&#45;&gt;OutputWorkspace</title>
<path fill="none" stroke="black" d="M112.84,-86.8C112.84,-75.58 112.84,-60.67 112.84,-47.69"/>
<polygon fill="black" stroke="black" points="116.34,-47.98 112.84,-37.98 109.34,-47.98 116.34,-47.98"/>
<text text-anchor="middle" x="137.34" y="-57.8" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- ClosePeaktolerance -->
<g id="node19" class="node">
<title>ClosePeaktolerance</title>
<ellipse fill="lightgrey" stroke="black" cx="835.84" cy="-613" rx="98.58" ry="18"/>
<text text-anchor="middle" x="835.84" y="-609.3" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeaktolerance</text>
</g>
<!-- ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor -->
<g id="edge12" class="edge">
<title>ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M835.84,-594.8C835.84,-583.58 835.84,-568.67 835.84,-555.69"/>
<polygon fill="black" stroke="black" points="839.34,-555.98 835.84,-545.98 832.34,-555.98 839.34,-555.98"/>
</g>
<!-- Croppedworkspace -->
<g id="node20" class="node">
<title>Croppedworkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="625.84" cy="-526" rx="96.68" ry="18"/>
<text text-anchor="middle" x="625.84" y="-522.3" font-family="Helvetica,sans-Serif" font-size="14.00">Croppedworkspace</text>
</g>
<!-- Croppedworkspace&#45;&gt;ScaleX -->
<g id="edge14" class="edge">
<title>Croppedworkspace&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M597.97,-508.41C589.58,-502.95 580.57,-496.58 572.84,-490 564.27,-482.7 555.69,-473.89 548.31,-465.71"/>
<polygon fill="black" stroke="black" points="551.05,-463.53 541.82,-458.33 545.79,-468.15 551.05,-463.53"/>
<text text-anchor="middle" x="697.34" y="-478.8" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank spectra</text>
</g>
<!-- ScaledWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge18" class="edge">
<title>ScaledWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M344.71,-350.39C299.55,-336.68 231.56,-316.04 180.87,-300.65"/>
<polygon fill="black" stroke="black" points="182.04,-297.35 171.45,-297.79 180,-304.05 182.04,-297.35"/>
<text text-anchor="middle" x="375.34" y="-318.8" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin to original input binning</text>
</g>
</g>
</svg>
