<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 11.0.0 (20240519.1550)
 -->
<!-- Title: TOSCABankCorrection Pages: 1 -->
<svg width="1002pt" height="1107pt"
 viewBox="0.00 0.00 1002.06 1106.75" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1102.75)">
<title>TOSCABankCorrection</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-1102.75 998.06,-1102.75 998.06,4 -4,4"/>
<text text-anchor="middle" x="497.03" y="-1081.45" font-family="Helvetica,sans-Serif" font-size="14.00">TOSCABankCorrection Flowchart</text>
<!-- InputWorkspace -->
<g id="node1" class="node">
<title>InputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="90.14" cy="-1055.5" rx="90.14" ry="18"/>
<text text-anchor="middle" x="90.14" y="-1050.83" font-family="Helvetica,sans-Serif" font-size="14.00">InputWorkspace</text>
</g>
<!-- CropWorkspace -->
<g id="node12" class="node">
<title>CropWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M468.14,-984.25C468.14,-984.25 368.14,-984.25 368.14,-984.25 362.14,-984.25 356.14,-978.25 356.14,-972.25 356.14,-972.25 356.14,-960.25 356.14,-960.25 356.14,-954.25 362.14,-948.25 368.14,-948.25 368.14,-948.25 468.14,-948.25 468.14,-948.25 474.14,-948.25 480.14,-954.25 480.14,-960.25 480.14,-960.25 480.14,-972.25 480.14,-972.25 480.14,-978.25 474.14,-984.25 468.14,-984.25"/>
<text text-anchor="middle" x="418.14" y="-961.58" font-family="Helvetica,sans-Serif" font-size="14.00">CropWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;CropWorkspace -->
<g id="edge1" class="edge">
<title>InputWorkspace&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M142.84,-1040.48C197.59,-1025.92 283.68,-1003.02 345,-986.7"/>
<polygon fill="black" stroke="black" points="345.54,-990.18 354.31,-984.23 343.74,-983.42 345.54,-990.18"/>
</g>
<!-- RebinToWorkspace -->
<g id="node16" class="node">
<title>RebinToWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M174.64,-303.75C174.64,-303.75 53.64,-303.75 53.64,-303.75 47.64,-303.75 41.64,-297.75 41.64,-291.75 41.64,-291.75 41.64,-279.75 41.64,-279.75 41.64,-273.75 47.64,-267.75 53.64,-267.75 53.64,-267.75 174.64,-267.75 174.64,-267.75 180.64,-267.75 186.64,-273.75 186.64,-279.75 186.64,-279.75 186.64,-291.75 186.64,-291.75 186.64,-297.75 180.64,-303.75 174.64,-303.75"/>
<text text-anchor="middle" x="114.14" y="-281.07" font-family="Helvetica,sans-Serif" font-size="14.00">RebinToWorkspace</text>
</g>
<!-- InputWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge19" class="edge">
<title>InputWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M92.67,-1037.16C95.02,-1019.59 98.14,-991.59 98.14,-967.25 98.14,-967.25 98.14,-967.25 98.14,-374 98.14,-353.98 102.27,-331.79 106.33,-314.8"/>
<polygon fill="black" stroke="black" points="109.64,-315.98 108.71,-305.43 102.85,-314.26 109.64,-315.98"/>
</g>
<!-- SearchRange -->
<g id="node2" class="node">
<title>SearchRange</title>
<ellipse fill="khaki" stroke="black" cx="418.14" cy="-1055.5" rx="75.41" ry="18"/>
<text text-anchor="middle" x="418.14" y="-1050.83" font-family="Helvetica,sans-Serif" font-size="14.00">SearchRange</text>
</g>
<!-- SearchRange&#45;&gt;CropWorkspace -->
<g id="edge2" class="edge">
<title>SearchRange&#45;&gt;CropWorkspace</title>
<path fill="none" stroke="black" d="M418.14,-1037.26C418.14,-1025.43 418.14,-1009.45 418.14,-995.75"/>
<polygon fill="black" stroke="black" points="421.64,-995.97 418.14,-985.97 414.64,-995.97 421.64,-995.97"/>
<text text-anchor="middle" x="500.64" y="-1006.2" font-family="Helvetica,sans-Serif" font-size="14.00">Defines XMin and XMax</text>
</g>
<!-- CroppedWorkspace -->
<g id="node3" class="node">
<title>CroppedWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="563.14" cy="-877" rx="105.4" ry="18"/>
<text text-anchor="middle" x="563.14" y="-872.33" font-family="Helvetica,sans-Serif" font-size="14.00">CroppedWorkspace</text>
</g>
<!-- FindPeak -->
<g id="node13" class="node">
<title>FindPeak</title>
<path fill="lightskyblue" stroke="black" d="M390.89,-805.75C390.89,-805.75 337.39,-805.75 337.39,-805.75 331.39,-805.75 325.39,-799.75 325.39,-793.75 325.39,-793.75 325.39,-781.75 325.39,-781.75 325.39,-775.75 331.39,-769.75 337.39,-769.75 337.39,-769.75 390.89,-769.75 390.89,-769.75 396.89,-769.75 402.89,-775.75 402.89,-781.75 402.89,-781.75 402.89,-793.75 402.89,-793.75 402.89,-799.75 396.89,-805.75 390.89,-805.75"/>
<text text-anchor="middle" x="364.14" y="-783.08" font-family="Helvetica,sans-Serif" font-size="14.00">FindPeak</text>
</g>
<!-- CroppedWorkspace&#45;&gt;FindPeak -->
<g id="edge4" class="edge">
<title>CroppedWorkspace&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M526.18,-859.79C494.5,-845.9 448.59,-825.78 413.73,-810.49"/>
<polygon fill="black" stroke="black" points="415.24,-807.33 404.67,-806.52 412.43,-813.74 415.24,-807.33"/>
<text text-anchor="middle" x="571.89" y="-827.7" font-family="Helvetica,sans-Serif" font-size="14.00">Find peak in Bank 1 and 2</text>
</g>
<!-- PeakPosition -->
<g id="node4" class="node">
<title>PeakPosition</title>
<ellipse fill="khaki" stroke="black" cx="198.14" cy="-877" rx="72.25" ry="18"/>
<text text-anchor="middle" x="198.14" y="-872.33" font-family="Helvetica,sans-Serif" font-size="14.00">PeakPosition</text>
</g>
<!-- PeakPosition&#45;&gt;FindPeak -->
<g id="edge6" class="edge">
<title>PeakPosition&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M228.2,-860.2C254.11,-846.58 291.83,-826.76 320.97,-811.44"/>
<polygon fill="black" stroke="black" points="322.32,-814.69 329.54,-806.93 319.06,-808.49 322.32,-814.69"/>
</g>
<!-- ClosePeakTolerance -->
<g id="node5" class="node">
<title>ClosePeakTolerance</title>
<ellipse fill="khaki" stroke="black" cx="528.14" cy="-626.5" rx="106.45" ry="18"/>
<text text-anchor="middle" x="528.14" y="-621.83" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeakTolerance</text>
</g>
<!-- Bank1_ScaleFactor -->
<g id="node9" class="node">
<title>Bank1_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="438.14" cy="-537.25" rx="102.24" ry="18"/>
<text text-anchor="middle" x="438.14" y="-532.58" font-family="Helvetica,sans-Serif" font-size="14.00">Bank1_ScaleFactor</text>
</g>
<!-- ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor -->
<g id="edge10" class="edge">
<title>ClosePeakTolerance&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M516.69,-608.48C509.02,-597.74 498.31,-583.93 487.14,-573.25 483,-569.29 478.38,-565.42 473.68,-561.78"/>
<polygon fill="black" stroke="black" points="475.99,-559.14 465.87,-556.01 471.83,-564.77 475.99,-559.14"/>
</g>
<!-- PeakFunction -->
<g id="node6" class="node">
<title>PeakFunction</title>
<ellipse fill="khaki" stroke="black" cx="364.14" cy="-877" rx="75.94" ry="18"/>
<text text-anchor="middle" x="364.14" y="-872.33" font-family="Helvetica,sans-Serif" font-size="14.00">PeakFunction</text>
</g>
<!-- PeakFunction&#45;&gt;FindPeak -->
<g id="edge5" class="edge">
<title>PeakFunction&#45;&gt;FindPeak</title>
<path fill="none" stroke="black" d="M364.14,-858.76C364.14,-846.93 364.14,-830.95 364.14,-817.25"/>
<polygon fill="black" stroke="black" points="367.64,-817.47 364.14,-807.47 360.64,-817.47 367.64,-817.47"/>
</g>
<!-- OutputWorkspace -->
<g id="node7" class="node">
<title>OutputWorkspace</title>
<ellipse fill="khaki" stroke="black" cx="114.14" cy="-18" rx="98.56" ry="18"/>
<text text-anchor="middle" x="114.14" y="-13.32" font-family="Helvetica,sans-Serif" font-size="14.00">OutputWorkspace</text>
</g>
<!-- TargetPeakCentre -->
<g id="node8" class="node">
<title>TargetPeakCentre</title>
<ellipse fill="khaki" stroke="black" cx="222.14" cy="-537.25" rx="95.93" ry="18"/>
<text text-anchor="middle" x="222.14" y="-532.58" font-family="Helvetica,sans-Serif" font-size="14.00">TargetPeakCentre</text>
</g>
<!-- ScaleX -->
<g id="node15" class="node">
<title>ScaleX</title>
<path fill="lightskyblue" stroke="black" d="M587.39,-466C587.39,-466 548.89,-466 548.89,-466 542.89,-466 536.89,-460 536.89,-454 536.89,-454 536.89,-442 536.89,-442 536.89,-436 542.89,-430 548.89,-430 548.89,-430 587.39,-430 587.39,-430 593.39,-430 599.39,-436 599.39,-442 599.39,-442 599.39,-454 599.39,-454 599.39,-460 593.39,-466 587.39,-466"/>
<text text-anchor="middle" x="568.14" y="-443.32" font-family="Helvetica,sans-Serif" font-size="14.00">ScaleX</text>
</g>
<!-- Bank1_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge15" class="edge">
<title>Bank1_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M463.21,-519.43C483,-506.14 510.86,-487.44 532.9,-472.65"/>
<polygon fill="black" stroke="black" points="534.65,-475.69 541.01,-467.21 530.75,-469.88 534.65,-475.69"/>
</g>
<!-- Bank2_ScaleFactor -->
<g id="node10" class="node">
<title>Bank2_ScaleFactor</title>
<ellipse fill="khaki" stroke="black" cx="888.14" cy="-537.25" rx="102.24" ry="18"/>
<text text-anchor="middle" x="888.14" y="-532.58" font-family="Helvetica,sans-Serif" font-size="14.00">Bank2_ScaleFactor</text>
</g>
<!-- Bank2_ScaleFactor&#45;&gt;ScaleX -->
<g id="edge16" class="edge">
<title>Bank2_ScaleFactor&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M885.47,-518.89C882.7,-507.13 877.15,-492.28 866.14,-484 826.89,-454.5 683.87,-449.47 611.18,-448.86"/>
<polygon fill="black" stroke="black" points="611.25,-445.36 601.23,-448.81 611.21,-452.36 611.25,-445.36"/>
</g>
<!-- Peaks -->
<g id="node11" class="node">
<title>Peaks</title>
<ellipse fill="khaki" stroke="black" cx="364.14" cy="-626.5" rx="39.63" ry="18"/>
<text text-anchor="middle" x="364.14" y="-621.83" font-family="Helvetica,sans-Serif" font-size="14.00">Peaks</text>
</g>
<!-- Peaks&#45;&gt;TargetPeakCentre -->
<g id="edge9" class="edge">
<title>Peaks&#45;&gt;TargetPeakCentre</title>
<path fill="none" stroke="black" d="M341.33,-611.48C319.08,-597.81 284.89,-576.8 258.82,-560.79"/>
<polygon fill="black" stroke="black" points="260.91,-557.96 250.56,-555.71 257.24,-563.93 260.91,-557.96"/>
<text text-anchor="middle" x="330.52" y="-577.2" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- Peaks&#45;&gt;Bank1_ScaleFactor -->
<g id="edge11" class="edge">
<title>Peaks&#45;&gt;Bank1_ScaleFactor</title>
<path fill="none" stroke="black" d="M377.71,-609.5C388.49,-596.79 403.78,-578.76 416.28,-564.02"/>
<polygon fill="black" stroke="black" points="418.86,-566.39 422.66,-556.5 413.52,-561.86 418.86,-566.39"/>
</g>
<!-- Peaks&#45;&gt;Bank2_ScaleFactor -->
<g id="edge13" class="edge">
<title>Peaks&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M389.53,-612.36C414.99,-599.88 455.68,-581.79 493.14,-573.25 616.02,-545.23 650.83,-568.72 776.14,-555.25 785.18,-554.28 794.6,-553.1 803.98,-551.83"/>
<polygon fill="black" stroke="black" points="804.44,-555.3 813.86,-550.45 803.47,-548.37 804.44,-555.3"/>
</g>
<!-- CropWorkspace&#45;&gt;CroppedWorkspace -->
<g id="edge3" class="edge">
<title>CropWorkspace&#45;&gt;CroppedWorkspace</title>
<path fill="none" stroke="black" d="M447.13,-947.8C469.65,-934.25 501.06,-915.36 525.51,-900.64"/>
<polygon fill="black" stroke="black" points="527.12,-903.76 533.88,-895.6 523.51,-897.76 527.12,-903.76"/>
<text text-anchor="middle" x="645.64" y="-916.95" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank 1 and 2 data</text>
</g>
<!-- SortTableWorkspace -->
<g id="node14" class="node">
<title>SortTableWorkspace</title>
<path fill="lightskyblue" stroke="black" d="M429.89,-716.5C429.89,-716.5 298.39,-716.5 298.39,-716.5 292.39,-716.5 286.39,-710.5 286.39,-704.5 286.39,-704.5 286.39,-692.5 286.39,-692.5 286.39,-686.5 292.39,-680.5 298.39,-680.5 298.39,-680.5 429.89,-680.5 429.89,-680.5 435.89,-680.5 441.89,-686.5 441.89,-692.5 441.89,-692.5 441.89,-704.5 441.89,-704.5 441.89,-710.5 435.89,-716.5 429.89,-716.5"/>
<text text-anchor="middle" x="364.14" y="-693.83" font-family="Helvetica,sans-Serif" font-size="14.00">SortTableWorkspace</text>
</g>
<!-- FindPeak&#45;&gt;SortTableWorkspace -->
<g id="edge7" class="edge">
<title>FindPeak&#45;&gt;SortTableWorkspace</title>
<path fill="none" stroke="black" d="M364.14,-769.51C364.14,-757.68 364.14,-741.7 364.14,-728"/>
<polygon fill="black" stroke="black" points="367.64,-728.22 364.14,-718.22 360.64,-728.22 367.64,-728.22"/>
<text text-anchor="middle" x="436.52" y="-738.45" font-family="Helvetica,sans-Serif" font-size="14.00">Sort peaks by height</text>
</g>
<!-- SortTableWorkspace&#45;&gt;Peaks -->
<g id="edge8" class="edge">
<title>SortTableWorkspace&#45;&gt;Peaks</title>
<path fill="none" stroke="black" d="M364.14,-680.2C364.14,-672.91 364.14,-664.23 364.14,-656.04"/>
<polygon fill="black" stroke="black" points="367.64,-656.12 364.14,-646.12 360.64,-656.12 367.64,-656.12"/>
</g>
<!-- ScaledWorkspace -->
<g id="node21" class="node">
<title>ScaledWorkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="419.14" cy="-375" rx="96.45" ry="18"/>
<text text-anchor="middle" x="419.14" y="-370.32" font-family="Helvetica,sans-Serif" font-size="14.00">ScaledWorkspace</text>
</g>
<!-- ScaleX&#45;&gt;ScaledWorkspace -->
<g id="edge17" class="edge">
<title>ScaleX&#45;&gt;ScaledWorkspace</title>
<path fill="none" stroke="black" d="M536.54,-431.94C515.26,-421.8 486.89,-408.28 463.37,-397.08"/>
<polygon fill="black" stroke="black" points="465.19,-394.07 454.66,-392.92 462.18,-400.38 465.19,-394.07"/>
</g>
<!-- GroupDetectors -->
<g id="node17" class="node">
<title>GroupDetectors</title>
<path fill="lightskyblue" stroke="black" d="M164.52,-214.5C164.52,-214.5 63.77,-214.5 63.77,-214.5 57.77,-214.5 51.77,-208.5 51.77,-202.5 51.77,-202.5 51.77,-190.5 51.77,-190.5 51.77,-184.5 57.77,-178.5 63.77,-178.5 63.77,-178.5 164.52,-178.5 164.52,-178.5 170.52,-178.5 176.52,-184.5 176.52,-190.5 176.52,-190.5 176.52,-202.5 176.52,-202.5 176.52,-208.5 170.52,-214.5 164.52,-214.5"/>
<text text-anchor="middle" x="114.14" y="-191.82" font-family="Helvetica,sans-Serif" font-size="14.00">GroupDetectors</text>
</g>
<!-- RebinToWorkspace&#45;&gt;GroupDetectors -->
<g id="edge20" class="edge">
<title>RebinToWorkspace&#45;&gt;GroupDetectors</title>
<path fill="none" stroke="black" d="M114.14,-267.51C114.14,-255.68 114.14,-239.7 114.14,-226"/>
<polygon fill="black" stroke="black" points="117.64,-226.22 114.14,-216.22 110.64,-226.22 117.64,-226.22"/>
<text text-anchor="middle" x="234.14" y="-236.45" font-family="Helvetica,sans-Serif" font-size="14.00">Sum spectra from corrected banks</text>
</g>
<!-- AppendSpectra -->
<g id="node18" class="node">
<title>AppendSpectra</title>
<path fill="lightskyblue" stroke="black" d="M163.77,-125.25C163.77,-125.25 64.52,-125.25 64.52,-125.25 58.52,-125.25 52.52,-119.25 52.52,-113.25 52.52,-113.25 52.52,-101.25 52.52,-101.25 52.52,-95.25 58.52,-89.25 64.52,-89.25 64.52,-89.25 163.77,-89.25 163.77,-89.25 169.77,-89.25 175.77,-95.25 175.77,-101.25 175.77,-101.25 175.77,-113.25 175.77,-113.25 175.77,-119.25 169.77,-125.25 163.77,-125.25"/>
<text text-anchor="middle" x="114.14" y="-102.58" font-family="Helvetica,sans-Serif" font-size="14.00">AppendSpectra</text>
</g>
<!-- GroupDetectors&#45;&gt;AppendSpectra -->
<g id="edge21" class="edge">
<title>GroupDetectors&#45;&gt;AppendSpectra</title>
<path fill="none" stroke="black" d="M114.14,-178.26C114.14,-166.43 114.14,-150.45 114.14,-136.75"/>
<polygon fill="black" stroke="black" points="117.64,-136.97 114.14,-126.97 110.64,-136.97 117.64,-136.97"/>
<text text-anchor="middle" x="188.39" y="-147.2" font-family="Helvetica,sans-Serif" font-size="14.00">Behaviour = Average</text>
</g>
<!-- AppendSpectra&#45;&gt;OutputWorkspace -->
<g id="edge22" class="edge">
<title>AppendSpectra&#45;&gt;OutputWorkspace</title>
<path fill="none" stroke="black" d="M114.14,-89.01C114.14,-77.18 114.14,-61.2 114.14,-47.5"/>
<polygon fill="black" stroke="black" points="117.64,-47.72 114.14,-37.72 110.64,-47.72 117.64,-47.72"/>
<text text-anchor="middle" x="138.52" y="-57.95" font-family="Helvetica,sans-Serif" font-size="14.00">Output</text>
</g>
<!-- ClosePeaktolerance -->
<g id="node19" class="node">
<title>ClosePeaktolerance</title>
<ellipse fill="lightgrey" stroke="black" cx="888.14" cy="-626.5" rx="105.92" ry="18"/>
<text text-anchor="middle" x="888.14" y="-621.83" font-family="Helvetica,sans-Serif" font-size="14.00">ClosePeaktolerance</text>
</g>
<!-- ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor -->
<g id="edge12" class="edge">
<title>ClosePeaktolerance&#45;&gt;Bank2_ScaleFactor</title>
<path fill="none" stroke="black" d="M888.14,-608.26C888.14,-596.43 888.14,-580.45 888.14,-566.75"/>
<polygon fill="black" stroke="black" points="891.64,-566.97 888.14,-556.97 884.64,-566.97 891.64,-566.97"/>
</g>
<!-- Croppedworkspace -->
<g id="node20" class="node">
<title>Croppedworkspace</title>
<ellipse fill="lightgrey" stroke="black" cx="663.14" cy="-537.25" rx="104.35" ry="18"/>
<text text-anchor="middle" x="663.14" y="-532.58" font-family="Helvetica,sans-Serif" font-size="14.00">Croppedworkspace</text>
</g>
<!-- Croppedworkspace&#45;&gt;ScaleX -->
<g id="edge14" class="edge">
<title>Croppedworkspace&#45;&gt;ScaleX</title>
<path fill="none" stroke="black" d="M640.04,-519.46C632.76,-513.88 624.82,-507.5 617.89,-501.25 608.68,-492.94 599.16,-483.25 590.94,-474.48"/>
<polygon fill="black" stroke="black" points="593.59,-472.19 584.24,-467.22 588.45,-476.94 593.59,-472.19"/>
<text text-anchor="middle" x="741.27" y="-487.95" font-family="Helvetica,sans-Serif" font-size="14.00">Workspace containing bank spectra</text>
</g>
<!-- ScaledWorkspace&#45;&gt;RebinToWorkspace -->
<g id="edge18" class="edge">
<title>ScaledWorkspace&#45;&gt;RebinToWorkspace</title>
<path fill="none" stroke="black" d="M368.09,-359.4C318.25,-345.14 241.95,-323.31 185.99,-307.3"/>
<polygon fill="black" stroke="black" points="187.11,-303.99 176.54,-304.6 185.19,-310.72 187.11,-303.99"/>
<text text-anchor="middle" x="399.52" y="-325.7" font-family="Helvetica,sans-Serif" font-size="14.00">Rebin to original input binning</text>
</g>
</g>
</svg>
