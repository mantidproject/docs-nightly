=================
Inelastic Changes
=================

.. contents:: Table of Contents
   :local:

New Features
------------
- The :ref:`Interface Settings <interface-indirect-settings>` has a new advanced option called ``Developer Feature Flags``. When developing a large new feature, developers will create a flag that can be used by advanced software users for purposes of rapid prototyping and allowing a faster feedback loop.
- Moved the :ref:`Corrections <interface-inelastic-corrections>` interface from the Indirect interface menu into the Inelastic interface category.
- When loading data into the ``ConvFit`` tab of the :ref:`Inelastic Data Analysis interface <interface-inelastic-data-analysis>`, an estimate is provided for the ``Amplitude``, ``Height`` and ``FWHM`` parameter values. They are estimated to be the maximum value in the corresponding spectrum.
- Moved :ref:`Bayes fitting <interface-inelastic-bayes-fitting>` interface from the Indirect interface menu into the Inelastic interface category.
- Moved :ref:`Data Analysis <interface-inelastic-data-analysis>` interface from Indirect and Direct interface menus into Inelastic interface menu.
-  The tab :ref:`Symmetrise <inelastic-symmetrise>` of the :ref:`Inelastic Data Manipulation Interface <interface-inelastic-data-manipulation>` has been modified with better input data validation. Selection markers can be moved to negative spectra side upon change of ReflectType property and the central marker is fixed.


Bugfixes
--------
- Adding data to the IqtFit and ConvFit tabs in the :ref:`Data Analysis <interface-inelastic-data-analysis>` interface after selecting a fit function will no longer cause an error when changing the plotted spectrum.
-  Fixed a bug where clicking 'Run' on the :ref:`Apply Absorption Corrections<apply_absorp_correct>` Tab in the :ref:`Corrections<interface-inelastic-corrections>` GUI with non-grouped Corrections workspace would close Mantid. A Warning is shown instead if wrong entry workspace.
- The WorkspaceIndex attribute for a Q dependent function in the :ref:`Inelastic Data Analysis interface <interface-inelastic-data-analysis>` is now disabled when it is unused.
- Numeric input in <StartX, EndX> columns for the Data tables in tabs of the :ref:`Data Analysis <interface-inelastic-data-analysis>` interface are formatted to a precision of six digits. Additionally, incorrect inputs are not anymore accepted by the table cells.
- The workspaces generated by the Calculate Monte Carlo Absorption tab in the :ref:`Inelastic Corrections <interface-inelastic-corrections>` interface now contain the Sample shape in their name.
- When opening consecutive files in the tab :ref:`S(Q,w) <inelastic-sqw>` of the :ref:`Inelastic Data Manipulation Interface <interface-inelastic-data-manipulation>`, the limits of the contour plot for the newest data file opened are updated to fit the plot widget size.
- The available fit functions in FqFit tab of :ref:`Inelastic Data Analysis <interface-inelastic-data-analysis>` change in relation to the type of the analysis parameter selected when adding a workspace, in this case either WIDTH or EISF.
- The full fit function names are now used on the ConvFit tab of :ref:`Inelastic Data Analysis <interface-inelastic-data-analysis>` to avoid confusion with similarly named functions.
- Buttons and edits in the elwin tab for external plotting the current preview, or for naming the Sample Environment in the elwin tab of the :ref:`Inelastic Data Manipulation Interface <interface-inelastic-data-manipulation>` have been relocated to be under the preview plot.
- A bug where the ``Run`` and ``Output Options`` appeared squished on Inelastic interfaces has been fixed.


Algorithms
----------

New features
############


Bugfixes
############
- Fixed a bug in the :ref:`VesuvioCalculateGammaBackground <algm-VesuvioCalculateGammaBackground>` algorithm that meant the order of the output spectra was not guarenteed. This largely affected instances of mantid on linux machines.

:ref:`Release 6.9.0 <v6.9.0>`