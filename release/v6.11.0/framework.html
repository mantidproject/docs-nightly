<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Framework Changes</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-sphinx.css?v=fadd4351" />
    <link rel="stylesheet" type="text/css" href="../../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/custom.css?v=77160d70" />
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
    <script src="../../_static/documentation_options.js?v=240fcd36"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Indirect Geometry Changes" href="indirect_geometry.html" />
    <link rel="prev" title="Direct Geometry Changes" href="direct_geometry.html" />

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-59110517-1', 'auto');
  ga('send', 'pageview');

</script>


  </head><body>





  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://www.mantidproject.org">
           </a>
        <span class="navbar-text navbar-version pull-left"><b>6.10</b></span>
      </div>

      
        <div class="collapse navbar-collapse nav-collapse">
      
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="https://www.mantidproject.org">Home</a></li>
                <li><a href="https://download.mantidproject.org">Download</a></li>
                <li><a href="https://docs.mantidproject.org">Documentation</a></li>
                <li><a href="https://www.mantidproject.org/contact">Contact Us</a></li>
            
            
              
              
            
            
            
            
          </ul>
              
<form class="navbar-form navbar-right" action="../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
            </div>
    </div>
    <p>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="nav-item nav-item-0"><a href="../../index.html">Documentation</a> &#187;</li>
        
            <li class="nav-item nav-item-1"><a href="../index.html" >Release Notes</a> &#187;</li>
          
            <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">Mantid 6.11.0 Release Notes</a> &#187;</li>
          
        
        
          
            <li class="nav-item nav-item-this"><a href="">Framework Changes</a></li>
          
        
      </ul>
    </div> </p>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <p><span class="math notranslate nohighlight">\(\renewcommand\AA{\unicode{x212B}}\)</span></p>
<section id="framework-changes">
<h1>Framework Changes<a class="headerlink" href="#framework-changes" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#algorithms" id="id9">Algorithms</a></p>
<ul>
<li><p><a class="reference internal" href="#new-features" id="id10">New features</a></p></li>
<li><p><a class="reference internal" href="#bugfixes" id="id11">Bugfixes</a></p></li>
<li><p><a class="reference internal" href="#removed" id="id12">Removed</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fit-functions" id="id13">Fit Functions</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id14">New features</a></p></li>
<li><p><a class="reference internal" href="#id2" id="id15">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#data-objects" id="id16">Data Objects</a></p>
<ul>
<li><p><a class="reference internal" href="#id3" id="id17">New features</a></p></li>
<li><p><a class="reference internal" href="#id4" id="id18">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#python" id="id19">Python</a></p>
<ul>
<li><p><a class="reference internal" href="#id5" id="id20">New features</a></p></li>
<li><p><a class="reference internal" href="#id6" id="id21">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dependencies" id="id22">Dependencies</a></p>
<ul>
<li><p><a class="reference internal" href="#id7" id="id23">New features</a></p></li>
<li><p><a class="reference internal" href="#id8" id="id24">Bugfixes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#mantidworkbench" id="id25">MantidWorkbench</a></p></li>
</ul>
</nav>
<section id="algorithms">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Algorithms</a><a class="headerlink" href="#algorithms" title="Link to this heading">¶</a></h2>
<section id="new-features">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">New features</a><a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add support for a radial collimator in <a class="reference internal" href="../../algorithms/DiscusMultipleScatteringCorrection-v1.html#algm-discusmultiplescatteringcorrection-v1"><span class="std std-ref">DiscusMultipleScatteringCorrection</span></a> algorithm that restricts scatter points within a small region within the larger sample volume. The algorithm was modified to assign zero weight to tracks where the final scatter is not in a position that allows the final track segment to pass through the collimator toward detectors.</p></li>
<li><p>Add a new method to <a class="reference internal" href="../../algorithms/CompressEvents-v1.html#algm-compressevents"><span class="std std-ref">CompressEvents</span></a> that will compress events without sorting first. This will be faster when there is a large density of events.</p></li>
<li><p>Added a load compression parameter <code class="docutils literal notranslate"><span class="pre">MinSizeCompressOnLoad</span></code> for ref: <a class="reference internal" href="../../algorithms/AlignAndFocusPowderFromFiles-v1.html#algm-alignandfocuspowderfromfiles"><span class="std std-ref">AlignAndFocusPowderFromFiles</span></a> and ref: <a class="reference internal" href="../../algorithms/SNSPowderReduction-v1.html#algm-snspowderreduction"><span class="std std-ref">SNSPowderReduction</span></a></p></li>
<li><p>Implemented an alternative input option <a class="reference internal" href="../../concepts/InstrumentDefinitionFile.html#instrumentdefinitionfile"><span class="std std-ref">Instrument Definition File</span></a> in <a class="reference internal" href="../../algorithms/GenerateGroupingSNSInelastic-v1.html#algm-generategroupingsnsinelastic"><span class="std std-ref">GenerateGroupingSNSInelastic</span></a>, selecting the new <code class="docutils literal notranslate"><span class="pre">InstrumentDefinitionFile</span></code> option in instrument drop down menu will create a new field allowing users selecting older instrument definition files.</p></li>
<li><p>Implemented the <a class="reference internal" href="../../algorithms/FilterBadPulses-v1.html#algm-filterbadpulses"><span class="std std-ref">FilterBadPulses</span></a> functionality in <a class="reference internal" href="../../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus</span></a>, adding the new <code class="docutils literal notranslate"><span class="pre">FilterBadPulsesLowerCutoff</span></code> parameter.</p></li>
<li><p>add flag “CheckUncertainty” to <a class="reference internal" href="../../algorithms/CompareWorkspaces-v1.html#algm-compareworkspaces"><span class="std std-ref">CompareWorkspaces</span></a> to turn off comparing the y-value uncertainties.</p></li>
<li><p>H5 exceptions are now caught with improved error reporting.</p></li>
<li><p>A new <code class="docutils literal notranslate"><span class="pre">SpinStates</span></code> property has been added to <a class="reference internal" href="../../algorithms/PolarizationCorrectionWildes-v1.html#algm-polarizationcorrectionwildes"><span class="std std-ref">PolarizationCorrectionWildes v1</span></a> and
<a class="reference internal" href="../../algorithms/PolarizationEfficiencyCor-v1.html#algm-polarizationefficiencycor"><span class="std std-ref">PolarizationEfficiencyCor v1</span></a> to allow the order of the workspaces in the output Workspace Group to be set.</p></li>
<li><p>Improve time-scaling performance of CombineDiffCal, and add extra validations.</p></li>
<li><p>Add OutputSuffix parameter to <a class="reference internal" href="../../algorithms/ISISIndirectEnergyTransfer-v1.html#algm-isisindirectenergytransfer"><span class="std std-ref">ISISIndirectEnergyTransfer</span></a> algorithm that will append a suffix to the end of output workspace names.</p></li>
<li><p>Changed use of <cite>scipy.interpolate.interp2d</cite> in <cite>NMoldyn4Interpolation</cite> to use <cite>scipy.interpolate.RectBivariateSpline</cite>, since <cite>interp2d</cite> has been removed in version 1.14 of <cite>scipy</cite>. See reference documentation here (<a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.html">https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.interp2d.html</a>)</p></li>
<li><p>Add support for <a class="reference internal" href="../../concepts/Ragged_Workspace.html#ragged-workspace"><span class="std std-ref">Ragged Workspaces</span></a> to <a class="reference internal" href="../../algorithms/CompareWorkspaces-v1.html#algm-compareworkspaces"><span class="std std-ref">CompareWorkspaces</span></a>.</p></li>
<li><p>New version 2 of <a class="reference internal" href="../../algorithms/LoadEventAsWorkspace2D-v1.html#algm-loadeventasworkspace2d"><span class="std std-ref">LoadEventAsWorkspace2D</span></a> that adds FilterByTime functionality.</p></li>
<li><p>Add support for <a class="reference internal" href="../../concepts/Ragged_Workspace.html#ragged-workspace"><span class="std std-ref">Ragged Workspaces</span></a> to binary operations. <a class="reference internal" href="../../algorithms/Plus-v1.html#algm-plus"><span class="std std-ref">Plus</span></a>, <a class="reference internal" href="../../algorithms/Minus-v1.html#algm-minus"><span class="std std-ref">Minus</span></a>, <a class="reference internal" href="../../algorithms/Divide-v1.html#algm-divide"><span class="std std-ref">Divide</span></a> and <a class="reference internal" href="../../algorithms/Multiply-v1.html#algm-multiply"><span class="std std-ref">Multiply</span></a>.</p></li>
<li><p>Created new algorithm <a class="reference internal" href="../../algorithms/ScaleInstrumentComponent-v1.html#algm-scaleinstrumentcomponent"><span class="std std-ref">ScaleInstrumentComponent</span></a> to scale all detectors in an instrument component around the component’s geometrical position.</p></li>
<li><p><a class="reference internal" href="../../algorithms/Load-v1.html#algm-load"><span class="std std-ref">Load v1</span></a> will now give a warning if the extension specified on the filename, eg. <cite>MUSR15189.txt</cite>, is not found.
Loading files from interfaces or other algorithms should also give this warning.
The algorithm will still load the file by looking for other extensions, as was the case before.</p></li>
<li><p>New version 2 of <a class="reference internal" href="../../algorithms/GenerateGroupingPowder-v2.html#algm-generategroupingpowder"><span class="std std-ref">GenerateGroupingPowder</span></a> that will save the grouping file with groups starting at 1 instead of 0 to make them consisted with <code class="docutils literal notranslate"><span class="pre">GroupingWorkspace</span></code>. The <code class="docutils literal notranslate"><span class="pre">FileFormat</span></code> parameter has also been removed as it will now be determined from the extension of <code class="docutils literal notranslate"><span class="pre">GroupingFilename</span></code>.</p></li>
</ul>
</section>
<section id="bugfixes">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#bugfixes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed an unreliable segmentation fault in the <a class="reference internal" href="../../algorithms/ExtractFFTSpectrum-v1.html#algm-extractfftspectrum"><span class="std std-ref">ExtractFFTSpectrum</span></a> algorithm.</p></li>
<li><p>The <a class="reference internal" href="../../algorithms/LoadIsawUB-v1.html#algm-loadisawub"><span class="std std-ref">LoadIsawUB</span></a> algorithm now correctly adds the UB to the first experiment info when the input workspace has more than one.</p></li>
<li><p><a class="reference internal" href="../../algorithms/SaveNexusProcessed-v1.html#algm-savenexusprocessed"><span class="std std-ref">SaveNexusProcessed</span></a> and <a class="reference internal" href="../../algorithms/LoadNexusProcessed-v2.html#algm-loadnexusprocessed"><span class="std std-ref">LoadNexusProcessed</span></a> has been fixed to correctly work with <a class="reference internal" href="../../concepts/Ragged_Workspace.html#ragged-workspace"><span class="std std-ref">Ragged Workspaces</span></a>.</p></li>
<li><p>Updated isotope densities, see <a class="reference external" href="https://pypi.org/project/periodictable/1.6.1/#history">https://pypi.org/project/periodictable/1.6.1/#history</a> for notes about the updates from NIST</p></li>
<li><p>The <a class="reference internal" href="../../algorithms/ScaleX-v1.html#algm-scalex"><span class="std std-ref">ScaleX</span></a> algorithm has had a 95% speedup when using the “InstrumentParameter” property.</p></li>
<li><p>Remove reference to <cite>numpy.distutils</cite> in <cite>IntegratePeaks1DProfile</cite>, since as of NumPy 1.23.0 it is deprecated.</p></li>
<li><p>Fixed bug when all sample times are before 01/01/1991</p></li>
<li><p>Modify <a class="reference internal" href="../../algorithms/LoadEventNexus-v1.html#algm-loadeventnexus"><span class="std std-ref">LoadEventNexus</span></a> so the minimum histogram bin edge is equal to the lowest time-of-flight event rather than one less. The effect is that there is no longer negative bin edges unless there is actually a negative time-of-flight in the data.</p></li>
</ul>
</section>
<section id="removed">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Removed</a><a class="headerlink" href="#removed" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The CheckWorkspacesMatch algorithm was deprecated in <a class="reference internal" href="../v3.9.0/index.html#v3-9-0"><span class="std std-ref">Release 3.9.0</span></a> and has now been removed. Use <a class="reference internal" href="../../algorithms/CompareWorkspaces-v1.html#algm-compareworkspaces"><span class="std std-ref">CompareWorkspaces</span></a> instead.</p></li>
<li><p>The ConvertEmptyToTof algorithm was deprecated in <a class="reference internal" href="../v3.9.0/index.html#v3-9-0"><span class="std std-ref">Release 3.9.0</span></a> and has now been removed.</p></li>
<li><p>The SaveDiffFittingAscii algorithm was deprecated in <a class="reference internal" href="../v3.13.0/index.html#v3-13-0"><span class="std std-ref">Release 3.13.0</span></a> and has now been removed. Use <a class="reference internal" href="../../algorithms/EnggSaveSinglePeakFitResultsToHDF5-v1.html#algm-enggsavesinglepeakfitresultstohdf5"><span class="std std-ref">EnggSaveSinglePeakFitResultsToHDF5</span></a> instead.</p></li>
<li><p>The FindUBUsingMinMaxD algorithm was deprecated in 2013 and has now been removed. Use <a class="reference internal" href="../../algorithms/FindUBUsingFFT-v1.html#algm-findubusingfft"><span class="std std-ref">FindUBUsingFFT</span></a> instead.</p></li>
<li><p>The FilterEventsByLogValuePreNexus algorithm was deprecated in 2014 and has now been removed.</p></li>
<li><p>The AddNote algorithm was deprecated in <a class="reference internal" href="../v3.6.0/index.html#v3-6-0"><span class="std std-ref">Release 3.6.0</span></a> and has now been removed. Please use <a class="reference internal" href="../../algorithms/Comment-v1.html#algm-comment"><span class="std std-ref">Comment</span></a> instead.</p></li>
<li><p>The RecordPythonScript algorithm was deprecated in <a class="reference internal" href="../v5.1.0/index.html#v5-1-0"><span class="std std-ref">Release 5.1.0</span></a> and has now been removed. Use <a class="reference internal" href="../../algorithms/GeneratePythonScript-v1.html#algm-generatepythonscript"><span class="std std-ref">GeneratePythonScript</span></a> instead.</p></li>
</ul>
</section>
</section>
<section id="fit-functions">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Fit Functions</a><a class="headerlink" href="#fit-functions" title="Link to this heading">¶</a></h2>
<section id="id1">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">New features</a><a class="headerlink" href="#id1" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added the <a class="reference internal" href="../../fitting/fitfunctions/SpinDiffusion.html#func-spindiffusion"><span class="std std-ref">SpinDiffusion</span></a> fit function in the Muon category.</p></li>
<li><p>Added the <a class="reference internal" href="../../fitting/fitfunctions/PearsonIV.html#func-pearsoniv"><span class="std std-ref">PearsonIV</span></a> fit function to model prompt pulses.</p></li>
</ul>
</section>
<section id="id2">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id2" title="Link to this heading">¶</a></h3>
</section>
</section>
<section id="data-objects">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">Data Objects</a><a class="headerlink" href="#data-objects" title="Link to this heading">¶</a></h2>
<section id="id3">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">New features</a><a class="headerlink" href="#id3" title="Link to this heading">¶</a></h3>
</section>
<section id="id4">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id4" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added a <cite>+ 1</cite> to <cite>EventWorkspace::sortAll</cite> to prevent grainsize from being 0.</p></li>
</ul>
</section>
</section>
<section id="python">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Python</a><a class="headerlink" href="#python" title="Link to this heading">¶</a></h2>
<section id="id5">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">New features</a><a class="headerlink" href="#id5" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Creates documentation for <a class="reference internal" href="../../api/python/mantid/dataobjects/index.html#module-mantid.dataobjects" title="mantid.dataobjects"><code class="xref py py-mod docutils literal notranslate"><span class="pre">mantid.dataobjects</span></code></a> python bindings</p></li>
<li><p>The python function <code class="docutils literal notranslate"><span class="pre">assert_almost_equal</span></code> for testing if two modules are within a tolerance was reworked</p></li>
<li><p>Fix python fuction <code class="docutils literal notranslate"><span class="pre">assert_almost_equal</span></code> to fail for non-equal workspaces</p></li>
</ul>
</section>
<section id="id6">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id6" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed error in the log about <cite>load_module()</cite> being deprecated in Python 3.12.</p></li>
</ul>
</section>
</section>
<section id="dependencies">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">Dependencies</a><a class="headerlink" href="#dependencies" title="Link to this heading">¶</a></h2>
<section id="id7">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">New features</a><a class="headerlink" href="#id7" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Changing from <code class="docutils literal notranslate"><span class="pre">Poco::File</span></code> to <code class="docutils literal notranslate"><span class="pre">std::filesystem</span></code> in the Kernel module. There will be no noticeable effect to the users.</p></li>
<li><p>Updated compiler on Linux to gcc version 12, which should improve performance in some circumstances</p></li>
</ul>
</section>
<section id="id8">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Bugfixes</a><a class="headerlink" href="#id8" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Allow versions of <cite>pycifrw</cite> greater than 4.4.1</p></li>
<li><p>Add a run constraint to the mantid package to constrain the optional matplotlib dependency to v3.7. Previously it was possible to install any version of matplotlib alongside mantid in a conda environment, but we cannot guarantee compatibility for any version other than 3.7.</p></li>
</ul>
</section>
</section>
<section id="mantidworkbench">
<h2><a class="toc-backref" href="#id25" role="doc-backlink">MantidWorkbench</a><a class="headerlink" href="#mantidworkbench" title="Link to this heading">¶</a></h2>
<p>See <a class="reference internal" href="mantidworkbench.html"><span class="doc">Mantid Workbench Changes</span></a>.
<a class="reference internal" href="index.html#v6-11-0"><span class="std std-ref">Release 6.11.0</span></a></p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
      <ul class="nav navbar-nav" style=" float: right;">
      
      
          
            
  <li>
    <a href="direct_geometry.html" title="Previous Chapter: Direct Geometry Changes"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Direct Geomet...</span>
    </a>
  </li>
  <li>
    <a href="indirect_geometry.html" title="Next Chapter: Indirect Geometry Changes"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Indirect Geom... &raquo;</span>
    </a>
  </li>
          
       
          <li><a href="#">Back to top</a></li>
       </ul>
    <p>
    </p>
  </div>
</footer>
  </body>
</html>